{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Timetable=()=>{const[timetable,setTimetable]=useState([]);const[selectedDay,setSelectedDay]=useState('Monday');const[loading,setLoading]=useState(true);useEffect(()=>{fetchTimetable();},[selectedDay]);const fetchTimetable=async()=>{try{const token=localStorage.getItem('token');const config={headers:{Authorization:\"Bearer \".concat(token)}};const res=await axios.get(\"/api/staff/timetable?day=\".concat(selectedDay),config);setTimetable(res.data);setLoading(false);}catch(error){console.error('Error fetching timetable:',error);setLoading(false);}};const days=['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading timetable...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"timetable\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Timetable\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"day-selector\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Select Day:\"}),/*#__PURE__*/_jsx(\"select\",{value:selectedDay,onChange:e=>setSelectedDay(e.target.value),children:days.map(day=>/*#__PURE__*/_jsx(\"option\",{value:day,children:day},day))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"timetable-view\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[selectedDay,\"'s Schedule\"]}),timetable.length>0?/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Period\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Class\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Subject\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Time\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Room\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:timetable.map(slot=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:slot.period}),/*#__PURE__*/_jsx(\"td\",{children:slot.class}),/*#__PURE__*/_jsx(\"td\",{children:slot.subject}),/*#__PURE__*/_jsx(\"td\",{children:slot.time}),/*#__PURE__*/_jsx(\"td\",{children:slot.room||'N/A'})]},slot._id))})]}):/*#__PURE__*/_jsxs(\"p\",{children:[\"No classes scheduled for \",selectedDay,\".\"]})]})]});};export default Timetable;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Timetable","timetable","setTimetable","selectedDay","setSelectedDay","loading","setLoading","fetchTimetable","token","localStorage","getItem","config","headers","Authorization","concat","res","get","data","error","console","days","children","className","value","onChange","e","target","map","day","length","slot","period","class","subject","time","room","_id"],"sources":["C:/Users/abhay/Downloads/COL-WEB-ADV-main (4)/clg-web-main1/Frontend/src/components/Staff Pannel/Timetable.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Timetable = () => {\r\n  const [timetable, setTimetable] = useState([]);\r\n  const [selectedDay, setSelectedDay] = useState('Monday');\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchTimetable();\r\n  }, [selectedDay]);\r\n\r\n  const fetchTimetable = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const res = await axios.get(`/api/staff/timetable?day=${selectedDay}`, config);\r\n      setTimetable(res.data);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Error fetching timetable:', error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\n\r\n  if (loading) {\r\n    return <div>Loading timetable...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"timetable\">\r\n      <h1>Timetable</h1>\r\n      <div className=\"day-selector\">\r\n        <label>Select Day:</label>\r\n        <select value={selectedDay} onChange={(e) => setSelectedDay(e.target.value)}>\r\n          {days.map(day => <option key={day} value={day}>{day}</option>)}\r\n        </select>\r\n      </div>\r\n      <div className=\"timetable-view\">\r\n        <h2>{selectedDay}'s Schedule</h2>\r\n        {timetable.length > 0 ? (\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Period</th>\r\n                <th>Class</th>\r\n                <th>Subject</th>\r\n                <th>Time</th>\r\n                <th>Room</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {timetable.map(slot => (\r\n                <tr key={slot._id}>\r\n                  <td>{slot.period}</td>\r\n                  <td>{slot.class}</td>\r\n                  <td>{slot.subject}</td>\r\n                  <td>{slot.time}</td>\r\n                  <td>{slot.room || 'N/A'}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        ) : (\r\n          <p>No classes scheduled for {selectedDay}.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Timetable;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}