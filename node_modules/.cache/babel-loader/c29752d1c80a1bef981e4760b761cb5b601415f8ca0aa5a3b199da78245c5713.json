{"ast":null,"code":"import _objectSpread from\"C:/Users/abhay/Downloads/COL-WEB-ADV-main (4)/clg-web-main1/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const TransportRoutesFare=()=>{const[sessions,setSessions]=useState([]);const[routes,setRoutes]=useState([]);const[students,setStudents]=useState([]);const[assignments,setAssignments]=useState([]);const[formData,setFormData]=useState({session_name:'',route_name:'',stops:[{name:'',distance:0}],base_fare:0});const[assignmentData,setAssignmentData]=useState({student_id:'',route_id:'',stop_name:'',fare:0});const[loading,setLoading]=useState(false);const[message,setMessage]=useState('');const[activeTab,setActiveTab]=useState('routes');useEffect(()=>{fetchSessions();fetchRoutes();fetchStudents();fetchAssignments();},[]);const fetchSessions=async()=>{try{const token=localStorage.getItem('token');const response=await fetch('http://localhost:5000/api/erp/sessions',{headers:{'Authorization':\"Bearer \".concat(token)}});if(response.ok){const data=await response.json();setSessions(data);}}catch(error){console.error('Error fetching sessions:',error);}};const fetchRoutes=async()=>{try{const token=localStorage.getItem('token');const response=await fetch('http://localhost:5000/api/erp/transport/routes',{headers:{'Authorization':\"Bearer \".concat(token)}});if(response.ok){const data=await response.json();setRoutes(data);}}catch(error){console.error('Error fetching routes:',error);}};const fetchStudents=async()=>{try{const token=localStorage.getItem('token');const response=await fetch('http://localhost:5000/api/erp/students',{headers:{'Authorization':\"Bearer \".concat(token)}});if(response.ok){const data=await response.json();setStudents(data);}}catch(error){console.error('Error fetching students:',error);}};const fetchAssignments=async()=>{try{const token=localStorage.getItem('token');const response=await fetch('http://localhost:5000/api/erp/transport/assignments',{headers:{'Authorization':\"Bearer \".concat(token)}});if(response.ok){const data=await response.json();setAssignments(data);}}catch(error){console.error('Error fetching assignments:',error);}};const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleStopChange=(index,field,value)=>{const updatedStops=[...formData.stops];updatedStops[index][field]=field==='distance'?parseFloat(value)||0:value;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{stops:updatedStops}));};const addStop=()=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{stops:[...prev.stops,{name:'',distance:0}]}));};const removeStop=index=>{if(formData.stops.length>1){const updatedStops=formData.stops.filter((_,i)=>i!==index);setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{stops:updatedStops}));}};const handleAssignmentChange=e=>{const{name,value}=e.target;setAssignmentData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setMessage('');// Validations\nif(!formData.session_name){setMessage('Please select a session.');setLoading(false);return;}if(!formData.route_name.trim()){setMessage('Please enter a route name.');setLoading(false);return;}if(formData.base_fare<=0){setMessage('Base fare must be greater than 0.');setLoading(false);return;}if(formData.stops.some(stop=>!stop.name.trim()||stop.distance<=0)){setMessage('All stops must have a name and distance greater than 0.');setLoading(false);return;}try{const token=localStorage.getItem('token');const response=await fetch('http://localhost:5000/api/erp/transport/route',{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify(formData)});const data=await response.json();if(response.ok){setMessage('Transport route created successfully!');setFormData({session_name:'',route_name:'',stops:[{name:'',distance:0}],base_fare:0});fetchRoutes();}else{setMessage(data.message||'Failed to create transport route');}}catch(error){setMessage('Error creating transport route: '+error.message);}finally{setLoading(false);}};const handleAssignmentSubmit=async e=>{e.preventDefault();setLoading(true);setMessage('');// Validations\nif(!assignmentData.student_id){setMessage('Please select a student.');setLoading(false);return;}if(!assignmentData.route_id){setMessage('Please select a route.');setLoading(false);return;}if(!assignmentData.stop_name.trim()){setMessage('Please enter a stop name.');setLoading(false);return;}if(assignmentData.fare<0){setMessage('Fare cannot be negative.');setLoading(false);return;}try{const token=localStorage.getItem('token');const response=await fetch('http://localhost:5000/api/erp/transport/assignment',{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify(assignmentData)});const data=await response.json();if(response.ok){setMessage('Student assigned to transport route successfully!');setAssignmentData({student_id:'',route_id:'',stop_name:'',fare:0});fetchAssignments();}else{setMessage(data.message||'Failed to assign student');}}catch(error){setMessage('Error assigning student: '+error.message);}finally{setLoading(false);}};const calculateFare=(routeId,stopName)=>{const route=routes.find(r=>r._id===routeId);if(!route)return 0;const stop=route.stops.find(s=>s.name===stopName);if(!stop)return route.base_fare;// Simple fare calculation based on distance\nreturn route.base_fare+stop.distance*2;// ₹2 per km\n};const handleRouteChange=e=>{const routeId=e.target.value;setAssignmentData(prev=>_objectSpread(_objectSpread({},prev),{},{route_id:routeId,fare:calculateFare(routeId,prev.stop_name)}));};const handleStopNameChange=e=>{const stopName=e.target.value;setAssignmentData(prev=>_objectSpread(_objectSpread({},prev),{},{stop_name:stopName,fare:calculateFare(prev.route_id,stopName)}));};return/*#__PURE__*/_jsxs(\"div\",{className:\"menu-content\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Transport Routes & Fare Management\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Manage bus routes, fares, and student assignments.\"}),message&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'10px',margin:'10px 0',border:'1px solid #ddd',borderRadius:'4px',backgroundColor:message.includes('Error')?'#ffebee':'#e8f5e8',color:message.includes('Error')?'#c62828':'#2e7d32'},children:message}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('routes'),style:{padding:'10px 20px',marginRight:'10px',backgroundColor:activeTab==='routes'?'#007bff':'#6c757d',color:'white',border:'none',borderRadius:'4px',cursor:'pointer'},children:\"Manage Routes\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('assignments'),style:{padding:'10px 20px',backgroundColor:activeTab==='assignments'?'#007bff':'#6c757d',color:'white',border:'none',borderRadius:'4px',cursor:'pointer'},children:\"Student Assignments\"})]}),activeTab==='routes'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,style:{marginBottom:'30px'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Create Transport Route\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'15px',marginBottom:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Session:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"session_name\",value:formData.session_name,onChange:handleInputChange,required:true,style:{width:'100%',padding:'8px',marginTop:'5px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Session\"}),sessions.map(session=>/*#__PURE__*/_jsxs(\"option\",{value:session.session_name,children:[session.session_name,\" (\",session.description,\")\"]},session._id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Route Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"route_name\",value:formData.route_name,onChange:handleInputChange,placeholder:\"e.g., Route A, City Center Route\",required:true,style:{width:'100%',padding:'8px',marginTop:'5px'}})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Base Fare (\\u20B9):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"base_fare\",value:formData.base_fare,onChange:handleInputChange,min:\"0\",step:\"0.01\",required:true,style:{width:'100%',padding:'8px',marginTop:'5px'}})]}),/*#__PURE__*/_jsx(\"h4\",{children:\"Route Stops\"}),formData.stops.map((stop,index)=>/*#__PURE__*/_jsx(\"div\",{style:{border:'1px solid #ddd',borderRadius:'4px',padding:'15px',marginBottom:'10px',backgroundColor:'#f9f9f9'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'2fr 1fr 0.5fr',gap:'10px',alignItems:'end'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Stop Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:stop.name,onChange:e=>handleStopChange(index,'name',e.target.value),placeholder:\"e.g., School Gate, Main Road\",required:true,style:{width:'100%',padding:'8px',marginTop:'5px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Distance (km):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:stop.distance,onChange:e=>handleStopChange(index,'distance',e.target.value),min:\"0\",step:\"0.1\",required:true,style:{width:'100%',padding:'8px',marginTop:'5px'}})]}),/*#__PURE__*/_jsx(\"div\",{children:formData.stops.length>1&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeStop(index),style:{padding:'8px',backgroundColor:'#dc3545',color:'white',border:'none',borderRadius:'4px',cursor:'pointer'},children:\"Remove\"})})]})},index)),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'15px'},children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:addStop,style:{padding:'8px 16px',backgroundColor:'#6c757d',color:'white',border:'none',borderRadius:'4px',cursor:'pointer',marginRight:'10px'},children:\"Add Stop\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,style:{padding:'10px 20px',backgroundColor:'#007bff',color:'white',border:'none',borderRadius:'4px',cursor:loading?'not-allowed':'pointer'},children:loading?'Creating...':'Create Route'})]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Existing Routes\"}),/*#__PURE__*/_jsx(\"div\",{style:{maxHeight:'400px',overflowY:'auto'},children:routes.length>0?/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{backgroundColor:'#f8f9fa'},children:[/*#__PURE__*/_jsx(\"th\",{style:{padding:'10px',border:'1px solid #ddd',textAlign:'left'},children:\"Session\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'10px',border:'1px solid #ddd',textAlign:'left'},children:\"Route Name\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'10px',border:'1px solid #ddd',textAlign:'left'},children:\"Stops\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'10px',border:'1px solid #ddd',textAlign:'left'},children:\"Base Fare\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:routes.map(route=>{var _route$base_fare;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:'10px',border:'1px solid #ddd'},children:route.session_name}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'10px',border:'1px solid #ddd'},children:route.route_name}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'10px',border:'1px solid #ddd'},children:route.stops.map((stop,index)=>/*#__PURE__*/_jsxs(\"div\",{children:[stop.name,\" (\",stop.distance,\" km)\"]},index))}),/*#__PURE__*/_jsxs(\"td\",{style:{padding:'10px',border:'1px solid #ddd'},children:[\"\\u20B9\",((_route$base_fare=route.base_fare)===null||_route$base_fare===void 0?void 0:_route$base_fare.toFixed(2))||'0.00']})]},route._id);})})]}):/*#__PURE__*/_jsx(\"p\",{children:\"No routes found.\"})})]}),activeTab==='assignments'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAssignmentSubmit,style:{marginBottom:'30px'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Assign Student to Transport Route\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'15px',marginBottom:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Student:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"student_id\",value:assignmentData.student_id,onChange:handleAssignmentChange,required:true,style:{width:'100%',padding:'8px',marginTop:'5px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Student\"}),students.map(student=>/*#__PURE__*/_jsxs(\"option\",{value:student._id,children:[student.first_name,\" \",student.last_name,\" (\",student.student_id,\")\"]},student._id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Route:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"route_id\",value:assignmentData.route_id,onChange:handleRouteChange,required:true,style:{width:'100%',padding:'8px',marginTop:'5px'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Route\"}),routes.map(route=>/*#__PURE__*/_jsxs(\"option\",{value:route._id,children:[route.route_name,\" (\",route.session_name,\")\"]},route._id))]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'15px',marginBottom:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Stop Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"stop_name\",value:assignmentData.stop_name,onChange:handleStopNameChange,placeholder:\"e.g., School Gate\",required:true,style:{width:'100%',padding:'8px',marginTop:'5px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Fare (\\u20B9):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"fare\",value:assignmentData.fare,onChange:handleAssignmentChange,min:\"0\",step:\"0.01\",required:true,style:{width:'100%',padding:'8px',marginTop:'5px'}})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,style:{padding:'10px 20px',backgroundColor:'#007bff',color:'white',border:'none',borderRadius:'4px',cursor:loading?'not-allowed':'pointer'},children:loading?'Assigning...':'Assign Student'})]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Student Assignments\"}),/*#__PURE__*/_jsx(\"div\",{style:{maxHeight:'400px',overflowY:'auto'},children:assignments.length>0?/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{backgroundColor:'#f8f9fa'},children:[/*#__PURE__*/_jsx(\"th\",{style:{padding:'10px',border:'1px solid #ddd',textAlign:'left'},children:\"Student\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'10px',border:'1px solid #ddd',textAlign:'left'},children:\"Route\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'10px',border:'1px solid #ddd',textAlign:'left'},children:\"Stop\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'10px',border:'1px solid #ddd',textAlign:'left'},children:\"Fare\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:assignments.map(assignment=>{var _assignment$student_i,_assignment$student_i2,_assignment$route_id,_assignment$fare;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{style:{padding:'10px',border:'1px solid #ddd'},children:[(_assignment$student_i=assignment.student_id)===null||_assignment$student_i===void 0?void 0:_assignment$student_i.first_name,\" \",(_assignment$student_i2=assignment.student_id)===null||_assignment$student_i2===void 0?void 0:_assignment$student_i2.last_name]}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'10px',border:'1px solid #ddd'},children:(_assignment$route_id=assignment.route_id)===null||_assignment$route_id===void 0?void 0:_assignment$route_id.route_name}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'10px',border:'1px solid #ddd'},children:assignment.stop_name}),/*#__PURE__*/_jsxs(\"td\",{style:{padding:'10px',border:'1px solid #ddd'},children:[\"\\u20B9\",((_assignment$fare=assignment.fare)===null||_assignment$fare===void 0?void 0:_assignment$fare.toFixed(2))||'0.00']})]},assignment._id);})})]}):/*#__PURE__*/_jsx(\"p\",{children:\"No assignments found.\"})})]})]});};export default TransportRoutesFare;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TransportRoutesFare","sessions","setSessions","routes","setRoutes","students","setStudents","assignments","setAssignments","formData","setFormData","session_name","route_name","stops","name","distance","base_fare","assignmentData","setAssignmentData","student_id","route_id","stop_name","fare","loading","setLoading","message","setMessage","activeTab","setActiveTab","fetchSessions","fetchRoutes","fetchStudents","fetchAssignments","token","localStorage","getItem","response","fetch","headers","concat","ok","data","json","error","console","handleInputChange","e","value","target","prev","_objectSpread","handleStopChange","index","field","updatedStops","parseFloat","addStop","removeStop","length","filter","_","i","handleAssignmentChange","handleSubmit","preventDefault","trim","some","stop","method","body","JSON","stringify","handleAssignmentSubmit","calculateFare","routeId","stopName","route","find","r","_id","s","handleRouteChange","handleStopNameChange","className","children","style","padding","margin","border","borderRadius","backgroundColor","includes","color","marginBottom","onClick","marginRight","cursor","onSubmit","display","gridTemplateColumns","gap","onChange","required","width","marginTop","map","session","description","type","placeholder","min","step","alignItems","disabled","maxHeight","overflowY","borderCollapse","textAlign","_route$base_fare","toFixed","student","first_name","last_name","assignment","_assignment$student_i","_assignment$student_i2","_assignment$route_id","_assignment$fare"],"sources":["C:/Users/abhay/Downloads/COL-WEB-ADV-main (4)/clg-web-main1/Frontend/src/components/Admin Pannel/TransportRoutesFare.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nconst TransportRoutesFare = () => {\r\n  const [sessions, setSessions] = useState([]);\r\n  const [routes, setRoutes] = useState([]);\r\n  const [students, setStudents] = useState([]);\r\n  const [assignments, setAssignments] = useState([]);\r\n  const [formData, setFormData] = useState({\r\n    session_name: '',\r\n    route_name: '',\r\n    stops: [{ name: '', distance: 0 }],\r\n    base_fare: 0\r\n  });\r\n  const [assignmentData, setAssignmentData] = useState({\r\n    student_id: '',\r\n    route_id: '',\r\n    stop_name: '',\r\n    fare: 0\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n  const [activeTab, setActiveTab] = useState('routes');\r\n\r\n  useEffect(() => {\r\n    fetchSessions();\r\n    fetchRoutes();\r\n    fetchStudents();\r\n    fetchAssignments();\r\n  }, []);\r\n\r\n  const fetchSessions = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/erp/sessions', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setSessions(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching sessions:', error);\r\n    }\r\n  };\r\n\r\n  const fetchRoutes = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/erp/transport/routes', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setRoutes(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching routes:', error);\r\n    }\r\n  };\r\n\r\n  const fetchStudents = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/erp/students', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setStudents(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching students:', error);\r\n    }\r\n  };\r\n\r\n  const fetchAssignments = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/erp/transport/assignments', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setAssignments(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching assignments:', error);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleStopChange = (index, field, value) => {\r\n    const updatedStops = [...formData.stops];\r\n    updatedStops[index][field] = field === 'distance' ? parseFloat(value) || 0 : value;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      stops: updatedStops\r\n    }));\r\n  };\r\n\r\n  const addStop = () => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      stops: [...prev.stops, { name: '', distance: 0 }]\r\n    }));\r\n  };\r\n\r\n  const removeStop = (index) => {\r\n    if (formData.stops.length > 1) {\r\n      const updatedStops = formData.stops.filter((_, i) => i !== index);\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        stops: updatedStops\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleAssignmentChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setAssignmentData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setMessage('');\r\n\r\n    // Validations\r\n    if (!formData.session_name) {\r\n      setMessage('Please select a session.');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    if (!formData.route_name.trim()) {\r\n      setMessage('Please enter a route name.');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    if (formData.base_fare <= 0) {\r\n      setMessage('Base fare must be greater than 0.');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    if (formData.stops.some(stop => !stop.name.trim() || stop.distance <= 0)) {\r\n      setMessage('All stops must have a name and distance greater than 0.');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/erp/transport/route', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(formData)\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        setMessage('Transport route created successfully!');\r\n        setFormData({\r\n          session_name: '',\r\n          route_name: '',\r\n          stops: [{ name: '', distance: 0 }],\r\n          base_fare: 0\r\n        });\r\n        fetchRoutes();\r\n      } else {\r\n        setMessage(data.message || 'Failed to create transport route');\r\n      }\r\n    } catch (error) {\r\n      setMessage('Error creating transport route: ' + error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleAssignmentSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setMessage('');\r\n\r\n    // Validations\r\n    if (!assignmentData.student_id) {\r\n      setMessage('Please select a student.');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    if (!assignmentData.route_id) {\r\n      setMessage('Please select a route.');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    if (!assignmentData.stop_name.trim()) {\r\n      setMessage('Please enter a stop name.');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    if (assignmentData.fare < 0) {\r\n      setMessage('Fare cannot be negative.');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/erp/transport/assignment', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(assignmentData)\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        setMessage('Student assigned to transport route successfully!');\r\n        setAssignmentData({\r\n          student_id: '',\r\n          route_id: '',\r\n          stop_name: '',\r\n          fare: 0\r\n        });\r\n        fetchAssignments();\r\n      } else {\r\n        setMessage(data.message || 'Failed to assign student');\r\n      }\r\n    } catch (error) {\r\n      setMessage('Error assigning student: ' + error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const calculateFare = (routeId, stopName) => {\r\n    const route = routes.find(r => r._id === routeId);\r\n    if (!route) return 0;\r\n\r\n    const stop = route.stops.find(s => s.name === stopName);\r\n    if (!stop) return route.base_fare;\r\n\r\n    // Simple fare calculation based on distance\r\n    return route.base_fare + (stop.distance * 2); // ₹2 per km\r\n  };\r\n\r\n  const handleRouteChange = (e) => {\r\n    const routeId = e.target.value;\r\n    setAssignmentData(prev => ({\r\n      ...prev,\r\n      route_id: routeId,\r\n      fare: calculateFare(routeId, prev.stop_name)\r\n    }));\r\n  };\r\n\r\n  const handleStopNameChange = (e) => {\r\n    const stopName = e.target.value;\r\n    setAssignmentData(prev => ({\r\n      ...prev,\r\n      stop_name: stopName,\r\n      fare: calculateFare(prev.route_id, stopName)\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <div className=\"menu-content\">\r\n      <h1>Transport Routes & Fare Management</h1>\r\n      <p>Manage bus routes, fares, and student assignments.</p>\r\n\r\n      {message && (\r\n        <div style={{\r\n          padding: '10px',\r\n          margin: '10px 0',\r\n          border: '1px solid #ddd',\r\n          borderRadius: '4px',\r\n          backgroundColor: message.includes('Error') ? '#ffebee' : '#e8f5e8',\r\n          color: message.includes('Error') ? '#c62828' : '#2e7d32'\r\n        }}>\r\n          {message}\r\n        </div>\r\n      )}\r\n\r\n      <div style={{ marginBottom: '20px' }}>\r\n        <button\r\n          onClick={() => setActiveTab('routes')}\r\n          style={{\r\n            padding: '10px 20px',\r\n            marginRight: '10px',\r\n            backgroundColor: activeTab === 'routes' ? '#007bff' : '#6c757d',\r\n            color: 'white',\r\n            border: 'none',\r\n            borderRadius: '4px',\r\n            cursor: 'pointer'\r\n          }}\r\n        >\r\n          Manage Routes\r\n        </button>\r\n        <button\r\n          onClick={() => setActiveTab('assignments')}\r\n          style={{\r\n            padding: '10px 20px',\r\n            backgroundColor: activeTab === 'assignments' ? '#007bff' : '#6c757d',\r\n            color: 'white',\r\n            border: 'none',\r\n            borderRadius: '4px',\r\n            cursor: 'pointer'\r\n          }}\r\n        >\r\n          Student Assignments\r\n        </button>\r\n      </div>\r\n\r\n      {activeTab === 'routes' && (\r\n        <>\r\n          <form onSubmit={handleSubmit} style={{ marginBottom: '30px' }}>\r\n            <h3>Create Transport Route</h3>\r\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '15px', marginBottom: '15px' }}>\r\n              <div>\r\n                <label>Session:</label>\r\n                <select\r\n                  name=\"session_name\"\r\n                  value={formData.session_name}\r\n                  onChange={handleInputChange}\r\n                  required\r\n                  style={{ width: '100%', padding: '8px', marginTop: '5px' }}\r\n                >\r\n                  <option value=\"\">Select Session</option>\r\n                  {sessions.map(session => (\r\n                    <option key={session._id} value={session.session_name}>\r\n                      {session.session_name} ({session.description})\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              <div>\r\n                <label>Route Name:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"route_name\"\r\n                  value={formData.route_name}\r\n                  onChange={handleInputChange}\r\n                  placeholder=\"e.g., Route A, City Center Route\"\r\n                  required\r\n                  style={{ width: '100%', padding: '8px', marginTop: '5px' }}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ marginBottom: '15px' }}>\r\n              <label>Base Fare (₹):</label>\r\n              <input\r\n                type=\"number\"\r\n                name=\"base_fare\"\r\n                value={formData.base_fare}\r\n                onChange={handleInputChange}\r\n                min=\"0\"\r\n                step=\"0.01\"\r\n                required\r\n                style={{ width: '100%', padding: '8px', marginTop: '5px' }}\r\n              />\r\n            </div>\r\n\r\n            <h4>Route Stops</h4>\r\n            {formData.stops.map((stop, index) => (\r\n              <div key={index} style={{\r\n                border: '1px solid #ddd',\r\n                borderRadius: '4px',\r\n                padding: '15px',\r\n                marginBottom: '10px',\r\n                backgroundColor: '#f9f9f9'\r\n              }}>\r\n                <div style={{ display: 'grid', gridTemplateColumns: '2fr 1fr 0.5fr', gap: '10px', alignItems: 'end' }}>\r\n                  <div>\r\n                    <label>Stop Name:</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={stop.name}\r\n                      onChange={(e) => handleStopChange(index, 'name', e.target.value)}\r\n                      placeholder=\"e.g., School Gate, Main Road\"\r\n                      required\r\n                      style={{ width: '100%', padding: '8px', marginTop: '5px' }}\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label>Distance (km):</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={stop.distance}\r\n                      onChange={(e) => handleStopChange(index, 'distance', e.target.value)}\r\n                      min=\"0\"\r\n                      step=\"0.1\"\r\n                      required\r\n                      style={{ width: '100%', padding: '8px', marginTop: '5px' }}\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    {formData.stops.length > 1 && (\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => removeStop(index)}\r\n                        style={{\r\n                          padding: '8px',\r\n                          backgroundColor: '#dc3545',\r\n                          color: 'white',\r\n                          border: 'none',\r\n                          borderRadius: '4px',\r\n                          cursor: 'pointer'\r\n                        }}\r\n                      >\r\n                        Remove\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n\r\n            <div style={{ marginBottom: '15px' }}>\r\n              <button\r\n                type=\"button\"\r\n                onClick={addStop}\r\n                style={{\r\n                  padding: '8px 16px',\r\n                  backgroundColor: '#6c757d',\r\n                  color: 'white',\r\n                  border: 'none',\r\n                  borderRadius: '4px',\r\n                  cursor: 'pointer',\r\n                  marginRight: '10px'\r\n                }}\r\n              >\r\n                Add Stop\r\n              </button>\r\n            </div>\r\n\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              style={{\r\n                padding: '10px 20px',\r\n                backgroundColor: '#007bff',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '4px',\r\n                cursor: loading ? 'not-allowed' : 'pointer'\r\n              }}\r\n            >\r\n              {loading ? 'Creating...' : 'Create Route'}\r\n            </button>\r\n          </form>\r\n\r\n          <h3>Existing Routes</h3>\r\n          <div style={{ maxHeight: '400px', overflowY: 'auto' }}>\r\n            {routes.length > 0 ? (\r\n              <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n                <thead>\r\n                  <tr style={{ backgroundColor: '#f8f9fa' }}>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Session</th>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Route Name</th>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Stops</th>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Base Fare</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {routes.map(route => (\r\n                    <tr key={route._id}>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                        {route.session_name}\r\n                      </td>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd' }}>{route.route_name}</td>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                        {route.stops.map((stop, index) => (\r\n                          <div key={index}>\r\n                            {stop.name} ({stop.distance} km)\r\n                          </div>\r\n                        ))}\r\n                      </td>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                        ₹{route.base_fare?.toFixed(2) || '0.00'}\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            ) : (\r\n              <p>No routes found.</p>\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {activeTab === 'assignments' && (\r\n        <>\r\n          <form onSubmit={handleAssignmentSubmit} style={{ marginBottom: '30px' }}>\r\n            <h3>Assign Student to Transport Route</h3>\r\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '15px', marginBottom: '15px' }}>\r\n              <div>\r\n                <label>Student:</label>\r\n                <select\r\n                  name=\"student_id\"\r\n                  value={assignmentData.student_id}\r\n                  onChange={handleAssignmentChange}\r\n                  required\r\n                  style={{ width: '100%', padding: '8px', marginTop: '5px' }}\r\n                >\r\n                  <option value=\"\">Select Student</option>\r\n                  {students.map(student => (\r\n                    <option key={student._id} value={student._id}>\r\n                      {student.first_name} {student.last_name} ({student.student_id})\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              <div>\r\n                <label>Route:</label>\r\n                <select\r\n                  name=\"route_id\"\r\n                  value={assignmentData.route_id}\r\n                  onChange={handleRouteChange}\r\n                  required\r\n                  style={{ width: '100%', padding: '8px', marginTop: '5px' }}\r\n                >\r\n                  <option value=\"\">Select Route</option>\r\n                  {routes.map(route => (\r\n                    <option key={route._id} value={route._id}>\r\n                      {route.route_name} ({route.session_name})\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '15px', marginBottom: '15px' }}>\r\n              <div>\r\n                <label>Stop Name:</label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"stop_name\"\r\n                  value={assignmentData.stop_name}\r\n                  onChange={handleStopNameChange}\r\n                  placeholder=\"e.g., School Gate\"\r\n                  required\r\n                  style={{ width: '100%', padding: '8px', marginTop: '5px' }}\r\n                />\r\n              </div>\r\n              <div>\r\n                <label>Fare (₹):</label>\r\n                <input\r\n                  type=\"number\"\r\n                  name=\"fare\"\r\n                  value={assignmentData.fare}\r\n                  onChange={handleAssignmentChange}\r\n                  min=\"0\"\r\n                  step=\"0.01\"\r\n                  required\r\n                  style={{ width: '100%', padding: '8px', marginTop: '5px' }}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading}\r\n              style={{\r\n                padding: '10px 20px',\r\n                backgroundColor: '#007bff',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '4px',\r\n                cursor: loading ? 'not-allowed' : 'pointer'\r\n              }}\r\n            >\r\n              {loading ? 'Assigning...' : 'Assign Student'}\r\n            </button>\r\n          </form>\r\n\r\n          <h3>Student Assignments</h3>\r\n          <div style={{ maxHeight: '400px', overflowY: 'auto' }}>\r\n            {assignments.length > 0 ? (\r\n              <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n                <thead>\r\n                  <tr style={{ backgroundColor: '#f8f9fa' }}>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Student</th>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Route</th>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Stop</th>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Fare</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {assignments.map(assignment => (\r\n                    <tr key={assignment._id}>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                        {assignment.student_id?.first_name} {assignment.student_id?.last_name}\r\n                      </td>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                        {assignment.route_id?.route_name}\r\n                      </td>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                        {assignment.stop_name}\r\n                      </td>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                        ₹{assignment.fare?.toFixed(2) || '0.00'}\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            ) : (\r\n              <p>No assignments found.</p>\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TransportRoutesFare;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}