{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\abhay\\\\Downloads\\\\COL-WEB-ADV-main (4)\\\\clg-web-main1\\\\Frontend\\\\src\\\\pages\\\\LazyImage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect, memo } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LazyImage = /*#__PURE__*/_s(/*#__PURE__*/memo(_c = _s(({\n  src,\n  srcSet,\n  sizes,\n  alt,\n  width,\n  height,\n  webpSrc,\n  webpSrcSet,\n  ...props\n}) => {\n  _s();\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [isInView, setIsInView] = useState(false);\n  const imgRef = useRef();\n  useEffect(() => {\n    const observer = new IntersectionObserver(([entry]) => {\n      if (entry.isIntersecting) {\n        setIsInView(true);\n        observer.disconnect();\n      }\n    }, {\n      threshold: 0.1\n    });\n    if (imgRef.current) {\n      observer.observe(imgRef.current);\n    }\n    return () => observer.disconnect();\n  }, []);\n  const handleLoad = () => {\n    setIsLoaded(true);\n  };\n\n  // Check if browser supports WebP\n  const supportsWebP = () => {\n    const canvas = document.createElement('canvas');\n    canvas.width = 1;\n    canvas.height = 1;\n    return canvas.toDataURL('image/webp').indexOf('data:image/webp') === 0;\n  };\n  const useWebP = supportsWebP();\n  return /*#__PURE__*/_jsxDEV(\"picture\", {\n    children: [isInView && webpSrc && /*#__PURE__*/_jsxDEV(\"source\", {\n      srcSet: webpSrcSet || webpSrc,\n      type: \"image/webp\",\n      sizes: sizes\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      ref: imgRef,\n      src: isInView ? src : undefined,\n      srcSet: isInView ? srcSet : undefined,\n      sizes: sizes,\n      alt: alt,\n      width: width,\n      height: height,\n      onLoad: handleLoad,\n      style: {\n        opacity: isLoaded ? 1 : 0.5,\n        transition: 'opacity 0.3s',\n        willChange: 'opacity'\n      },\n      loading: \"lazy\",\n      ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}, \"7STQihRwUCq0eGnHwGKAY7M3ZyM=\")), \"7STQihRwUCq0eGnHwGKAY7M3ZyM=\");\n_c2 = LazyImage;\nexport default LazyImage;\nvar _c, _c2;\n$RefreshReg$(_c, \"LazyImage$memo\");\n$RefreshReg$(_c2, \"LazyImage\");","map":{"version":3,"names":["React","useState","useRef","useEffect","memo","jsxDEV","_jsxDEV","LazyImage","_s","_c","src","srcSet","sizes","alt","width","height","webpSrc","webpSrcSet","props","isLoaded","setIsLoaded","isInView","setIsInView","imgRef","observer","IntersectionObserver","entry","isIntersecting","disconnect","threshold","current","observe","handleLoad","supportsWebP","canvas","document","createElement","toDataURL","indexOf","useWebP","children","type","fileName","_jsxFileName","lineNumber","columnNumber","ref","undefined","onLoad","style","opacity","transition","willChange","loading","_c2","$RefreshReg$"],"sources":["C:/Users/abhay/Downloads/COL-WEB-ADV-main (4)/clg-web-main1/Frontend/src/pages/LazyImage.js"],"sourcesContent":["import React, { useState, useRef, useEffect, memo } from 'react';\r\n\r\nconst LazyImage = memo(({ src, srcSet, sizes, alt, width, height, webpSrc, webpSrcSet, ...props }) => {\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const [isInView, setIsInView] = useState(false);\r\n  const imgRef = useRef();\r\n\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(\r\n      ([entry]) => {\r\n        if (entry.isIntersecting) {\r\n          setIsInView(true);\r\n          observer.disconnect();\r\n        }\r\n      },\r\n      { threshold: 0.1 }\r\n    );\r\n\r\n    if (imgRef.current) {\r\n      observer.observe(imgRef.current);\r\n    }\r\n\r\n    return () => observer.disconnect();\r\n  }, []);\r\n\r\n  const handleLoad = () => {\r\n    setIsLoaded(true);\r\n  };\r\n\r\n  // Check if browser supports WebP\r\n  const supportsWebP = () => {\r\n    const canvas = document.createElement('canvas');\r\n    canvas.width = 1;\r\n    canvas.height = 1;\r\n    return canvas.toDataURL('image/webp').indexOf('data:image/webp') === 0;\r\n  };\r\n\r\n  const useWebP = supportsWebP();\r\n\r\n  return (\r\n    <picture>\r\n      {isInView && webpSrc && (\r\n        <source srcSet={webpSrcSet || webpSrc} type=\"image/webp\" sizes={sizes} />\r\n      )}\r\n      <img\r\n        ref={imgRef}\r\n        src={isInView ? src : undefined}\r\n        srcSet={isInView ? srcSet : undefined}\r\n        sizes={sizes}\r\n        alt={alt}\r\n        width={width}\r\n        height={height}\r\n        onLoad={handleLoad}\r\n        style={{\r\n          opacity: isLoaded ? 1 : 0.5,\r\n          transition: 'opacity 0.3s',\r\n          willChange: 'opacity'\r\n        }}\r\n        loading=\"lazy\"\r\n        {...props}\r\n      />\r\n    </picture>\r\n  );\r\n});\r\n\r\nexport default LazyImage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}