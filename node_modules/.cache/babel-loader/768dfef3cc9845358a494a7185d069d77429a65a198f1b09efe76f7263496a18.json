{"ast":null,"code":"import _objectSpread from\"C:/Users/abhay/Downloads/COL-WEB-ADV-main (4)/clg-web-main1/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import axios from'axios';import'./MarkAttendance.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const MarkAttendance=()=>{const[courses,setCourses]=useState([]);const[semesters,setSemesters]=useState([]);const[subjects,setSubjects]=useState([]);const[students,setStudents]=useState([]);const[attendance,setAttendance]=useState({});const[filters,setFilters]=useState({course:'',semester:'',subject:'',date:new Date().toISOString().split('T')[0]// Default to today\n});const[searchTerm,setSearchTerm]=useState('');const[markAllPresent,setMarkAllPresent]=useState(false);const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[success,setSuccess]=useState('');// Fetch courses on mount\nuseEffect(()=>{fetchCourses();},[]);// Fetch semesters when course changes\nuseEffect(()=>{if(filters.course){fetchSemesters(filters.course);}else{setSemesters([]);setSubjects([]);setStudents([]);}},[filters.course]);// Fetch subjects when semester changes\nuseEffect(()=>{if(filters.semester){fetchSubjects(filters.course,filters.semester);}else{setSubjects([]);setStudents([]);}},[filters.course,filters.semester]);// Fetch students when subject changes\nuseEffect(()=>{if(filters.subject){fetchStudents(filters.course,filters.semester,filters.subject);}else{setStudents([]);}},[filters.course,filters.semester,filters.subject]);// Update attendance when students change or markAllPresent toggles\nuseEffect(()=>{if(students.length>0){const initialAttendance={};students.forEach(student=>{initialAttendance[student.rollNo]={status:markAllPresent?'Present':'Absent',remarks:''};});setAttendance(initialAttendance);}},[students,markAllPresent]);const fetchCourses=async()=>{try{console.log('Fetching courses...');const response=await axios.get('/api/courses');console.log('Courses response:',response.data);setCourses(response.data);}catch(err){console.error('Error fetching courses:',err);// Mock data for demonstration\nsetCourses([{id:1,name:'BA'},{id:2,name:'BSc'},{id:3,name:'B.Ed'}]);setError('');}};const fetchSemesters=async course=>{try{console.log('Fetching semesters for course:',course);const response=await axios.get(\"/api/semesters?course=\".concat(course));console.log('Semesters response:',response.data);setSemesters(response.data);}catch(err){console.error('Error fetching semesters:',err);// Mock data for demonstration\nsetSemesters([{id:1,name:'Semester 1'},{id:2,name:'Semester 2'},{id:3,name:'Semester 3'}]);setError('');}};const fetchSubjects=async(course,semester)=>{try{console.log('Fetching subjects for course:',course,'semester:',semester);const response=await axios.get(\"/api/subjects?course=\".concat(course,\"&semester=\").concat(semester));console.log('Subjects response:',response.data);setSubjects(response.data);}catch(err){console.error('Error fetching subjects:',err);// Mock data for demonstration\nsetSubjects([{id:1,name:'Subject 1'},{id:2,name:'Subject 2'},{id:3,name:'Subject 3'}]);setError('');}};const fetchStudents=async(course,semester,subject)=>{try{console.log('Fetching students for course:',course,'semester:',semester,'subject:',subject);const response=await axios.get(\"/api/students?course=\".concat(course,\"&semester=\").concat(semester,\"&subject=\").concat(subject));console.log('Students response:',response.data);setStudents(response.data);}catch(err){console.error('Error fetching students:',err);// Mock data for demonstration\nsetStudents([{rollNo:'101',name:'Student A'},{rollNo:'102',name:'Student B'},{rollNo:'103',name:'Student C'}]);setError('');}};const handleFilterChange=e=>{const{name,value}=e.target;setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleAttendanceChange=(rollNo,field,value)=>{setAttendance(prev=>_objectSpread(_objectSpread({},prev),{},{[rollNo]:_objectSpread(_objectSpread({},prev[rollNo]),{},{[field]:value})}));};const filteredStudents=students.filter(student=>student.name.toLowerCase().includes(searchTerm.toLowerCase())||student.rollNo.toLowerCase().includes(searchTerm.toLowerCase()));const handleSubmit=async()=>{if(!filters.course||!filters.semester||!filters.subject||!filters.date){setError('Please select all filters');return;}const markedStudents=Object.keys(attendance).filter(rollNo=>attendance[rollNo].status!=='Absent');if(markedStudents.length===0){setError('Please mark attendance for at least one student');return;}setLoading(true);setError('');setSuccess('');try{const payload={course:filters.course,semester:filters.semester,subject:filters.subject,date:filters.date,attendance:attendance};await axios.post('/api/attendance',payload);setSuccess('Attendance marked successfully');}catch(err){setError('Failed to save attendance');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"mark-attendance\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Mark Student Attendance\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error}),success&&/*#__PURE__*/_jsx(\"div\",{className:\"success\",children:success}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"attendance-course-select\",children:\"Course\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"attendance-course-select\",name:\"course\",value:filters.course,onChange:handleFilterChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Course\"}),courses.map(course=>/*#__PURE__*/_jsx(\"option\",{value:course.name,children:course.name},course.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"attendance-semester-select\",children:\"Semester\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"attendance-semester-select\",name:\"semester\",value:filters.semester,onChange:handleFilterChange,disabled:!filters.course,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Semester\"}),semesters.map(sem=>/*#__PURE__*/_jsx(\"option\",{value:sem.name,children:sem.name},sem.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"attendance-subject-select\",children:\"Subject\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"attendance-subject-select\",name:\"subject\",value:filters.subject,onChange:handleFilterChange,disabled:!filters.semester,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Subject\"}),subjects.map(sub=>/*#__PURE__*/_jsx(\"option\",{value:sub.name,children:sub.name},sub.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"attendance-date-select\",children:\"Date\"}),/*#__PURE__*/_jsx(\"input\",{id:\"attendance-date-select\",type:\"date\",name:\"date\",value:filters.date,onChange:handleFilterChange})]})]}),students.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"table-controls\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by name or roll no\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:markAllPresent,onChange:e=>setMarkAllPresent(e.target.checked)}),\"Mark All Present\"]})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"attendance-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Roll No\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Student Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Remarks\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredStudents.map(student=>{var _attendance$student$r,_attendance$student$r2;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:student.rollNo}),/*#__PURE__*/_jsx(\"td\",{children:student.name}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"select\",{value:((_attendance$student$r=attendance[student.rollNo])===null||_attendance$student$r===void 0?void 0:_attendance$student$r.status)||'Absent',onChange:e=>handleAttendanceChange(student.rollNo,'status',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"Present\",children:\"Present\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Absent\",children:\"Absent\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Leave\",children:\"Leave\"})]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:((_attendance$student$r2=attendance[student.rollNo])===null||_attendance$student$r2===void 0?void 0:_attendance$student$r2.remarks)||'',onChange:e=>handleAttendanceChange(student.rollNo,'remarks',e.target.value),placeholder:\"Optional remarks\"})})]},student.rollNo);})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,disabled:loading,children:loading?'Submitting...':'Submit Attendance'})]})]});};export default MarkAttendance;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MarkAttendance","courses","setCourses","semesters","setSemesters","subjects","setSubjects","students","setStudents","attendance","setAttendance","filters","setFilters","course","semester","subject","date","Date","toISOString","split","searchTerm","setSearchTerm","markAllPresent","setMarkAllPresent","loading","setLoading","error","setError","success","setSuccess","fetchCourses","fetchSemesters","fetchSubjects","fetchStudents","length","initialAttendance","forEach","student","rollNo","status","remarks","console","log","response","get","data","err","id","name","concat","handleFilterChange","e","value","target","prev","_objectSpread","handleAttendanceChange","field","filteredStudents","filter","toLowerCase","includes","handleSubmit","markedStudents","Object","keys","payload","post","className","children","htmlFor","onChange","map","disabled","sem","sub","type","placeholder","checked","_attendance$student$r","_attendance$student$r2","onClick"],"sources":["C:/Users/abhay/Downloads/COL-WEB-ADV-main (4)/clg-web-main1/Frontend/src/components/Staff Pannel/MarkAttendance.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './MarkAttendance.css';\r\n\r\nconst MarkAttendance = () => {\r\n  const [courses, setCourses] = useState([]);\r\n  const [semesters, setSemesters] = useState([]);\r\n  const [subjects, setSubjects] = useState([]);\r\n  const [students, setStudents] = useState([]);\r\n  const [attendance, setAttendance] = useState({});\r\n  const [filters, setFilters] = useState({\r\n    course: '',\r\n    semester: '',\r\n    subject: '',\r\n    date: new Date().toISOString().split('T')[0], // Default to today\r\n  });\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [markAllPresent, setMarkAllPresent] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n\r\n  // Fetch courses on mount\r\n  useEffect(() => {\r\n    fetchCourses();\r\n  }, []);\r\n\r\n  // Fetch semesters when course changes\r\n  useEffect(() => {\r\n    if (filters.course) {\r\n      fetchSemesters(filters.course);\r\n    } else {\r\n      setSemesters([]);\r\n      setSubjects([]);\r\n      setStudents([]);\r\n    }\r\n  }, [filters.course]);\r\n\r\n  // Fetch subjects when semester changes\r\n  useEffect(() => {\r\n    if (filters.semester) {\r\n      fetchSubjects(filters.course, filters.semester);\r\n    } else {\r\n      setSubjects([]);\r\n      setStudents([]);\r\n    }\r\n  }, [filters.course, filters.semester]);\r\n\r\n  // Fetch students when subject changes\r\n  useEffect(() => {\r\n    if (filters.subject) {\r\n      fetchStudents(filters.course, filters.semester, filters.subject);\r\n    } else {\r\n      setStudents([]);\r\n    }\r\n  }, [filters.course, filters.semester, filters.subject]);\r\n\r\n  // Update attendance when students change or markAllPresent toggles\r\n  useEffect(() => {\r\n    if (students.length > 0) {\r\n      const initialAttendance = {};\r\n      students.forEach(student => {\r\n        initialAttendance[student.rollNo] = {\r\n          status: markAllPresent ? 'Present' : 'Absent',\r\n          remarks: '',\r\n        };\r\n      });\r\n      setAttendance(initialAttendance);\r\n    }\r\n  }, [students, markAllPresent]);\r\n\r\n  const fetchCourses = async () => {\r\n    try {\r\n      console.log('Fetching courses...');\r\n      const response = await axios.get('/api/courses');\r\n      console.log('Courses response:', response.data);\r\n      setCourses(response.data);\r\n    } catch (err) {\r\n      console.error('Error fetching courses:', err);\r\n      // Mock data for demonstration\r\n      setCourses([\r\n        { id: 1, name: 'BA' },\r\n        { id: 2, name: 'BSc' },\r\n        { id: 3, name: 'B.Ed' }\r\n      ]);\r\n      setError('');\r\n    }\r\n  };\r\n\r\n  const fetchSemesters = async (course) => {\r\n    try {\r\n      console.log('Fetching semesters for course:', course);\r\n      const response = await axios.get(`/api/semesters?course=${course}`);\r\n      console.log('Semesters response:', response.data);\r\n      setSemesters(response.data);\r\n    } catch (err) {\r\n      console.error('Error fetching semesters:', err);\r\n      // Mock data for demonstration\r\n      setSemesters([\r\n        { id: 1, name: 'Semester 1' },\r\n        { id: 2, name: 'Semester 2' },\r\n        { id: 3, name: 'Semester 3' }\r\n      ]);\r\n      setError('');\r\n    }\r\n  };\r\n\r\n  const fetchSubjects = async (course, semester) => {\r\n    try {\r\n      console.log('Fetching subjects for course:', course, 'semester:', semester);\r\n      const response = await axios.get(`/api/subjects?course=${course}&semester=${semester}`);\r\n      console.log('Subjects response:', response.data);\r\n      setSubjects(response.data);\r\n    } catch (err) {\r\n      console.error('Error fetching subjects:', err);\r\n      // Mock data for demonstration\r\n      setSubjects([\r\n        { id: 1, name: 'Subject 1' },\r\n        { id: 2, name: 'Subject 2' },\r\n        { id: 3, name: 'Subject 3' }\r\n      ]);\r\n      setError('');\r\n    }\r\n  };\r\n\r\n  const fetchStudents = async (course, semester, subject) => {\r\n    try {\r\n      console.log('Fetching students for course:', course, 'semester:', semester, 'subject:', subject);\r\n      const response = await axios.get(`/api/students?course=${course}&semester=${semester}&subject=${subject}`);\r\n      console.log('Students response:', response.data);\r\n      setStudents(response.data);\r\n    } catch (err) {\r\n      console.error('Error fetching students:', err);\r\n      // Mock data for demonstration\r\n      setStudents([\r\n        { rollNo: '101', name: 'Student A' },\r\n        { rollNo: '102', name: 'Student B' },\r\n        { rollNo: '103', name: 'Student C' }\r\n      ]);\r\n      setError('');\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFilters(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleAttendanceChange = (rollNo, field, value) => {\r\n    setAttendance(prev => ({\r\n      ...prev,\r\n      [rollNo]: { ...prev[rollNo], [field]: value }\r\n    }));\r\n  };\r\n\r\n  const filteredStudents = students.filter(student =>\r\n    student.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    student.rollNo.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  const handleSubmit = async () => {\r\n    if (!filters.course || !filters.semester || !filters.subject || !filters.date) {\r\n      setError('Please select all filters');\r\n      return;\r\n    }\r\n    const markedStudents = Object.keys(attendance).filter(rollNo => attendance[rollNo].status !== 'Absent');\r\n    if (markedStudents.length === 0) {\r\n      setError('Please mark attendance for at least one student');\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    setError('');\r\n    setSuccess('');\r\n    try {\r\n      const payload = {\r\n        course: filters.course,\r\n        semester: filters.semester,\r\n        subject: filters.subject,\r\n        date: filters.date,\r\n        attendance: attendance,\r\n      };\r\n      await axios.post('/api/attendance', payload);\r\n      setSuccess('Attendance marked successfully');\r\n    } catch (err) {\r\n      setError('Failed to save attendance');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"mark-attendance\">\r\n      <h1>Mark Student Attendance</h1>\r\n      {error && <div className=\"error\">{error}</div>}\r\n      {success && <div className=\"success\">{success}</div>}\r\n\r\n      {/* Filter Panel */}\r\n      <div className=\"filter-panel\">\r\n        <div className=\"filter-group\">\r\n          <label htmlFor=\"attendance-course-select\">Course</label>\r\n          <select\r\n            id=\"attendance-course-select\"\r\n            name=\"course\"\r\n            value={filters.course}\r\n            onChange={handleFilterChange}\r\n          >\r\n            <option value=\"\">Select Course</option>\r\n            {courses.map(course => (\r\n              <option key={course.id} value={course.name}>{course.name}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div className=\"filter-group\">\r\n          <label htmlFor=\"attendance-semester-select\">Semester</label>\r\n          <select\r\n            id=\"attendance-semester-select\"\r\n            name=\"semester\"\r\n            value={filters.semester}\r\n            onChange={handleFilterChange}\r\n            disabled={!filters.course}\r\n          >\r\n            <option value=\"\">Select Semester</option>\r\n            {semesters.map(sem => (\r\n              <option key={sem.id} value={sem.name}>{sem.name}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div className=\"filter-group\">\r\n          <label htmlFor=\"attendance-subject-select\">Subject</label>\r\n          <select\r\n            id=\"attendance-subject-select\"\r\n            name=\"subject\"\r\n            value={filters.subject}\r\n            onChange={handleFilterChange}\r\n            disabled={!filters.semester}\r\n          >\r\n            <option value=\"\">Select Subject</option>\r\n            {subjects.map(sub => (\r\n              <option key={sub.id} value={sub.name}>{sub.name}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div className=\"filter-group\">\r\n          <label htmlFor=\"attendance-date-select\">Date</label>\r\n          <input\r\n            id=\"attendance-date-select\"\r\n            type=\"date\"\r\n            name=\"date\"\r\n            value={filters.date}\r\n            onChange={handleFilterChange}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Student Attendance Table */}\r\n      {students.length > 0 && (\r\n        <>\r\n          <div className=\"table-controls\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search by name or roll no\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n            />\r\n            <label>\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={markAllPresent}\r\n                onChange={(e) => setMarkAllPresent(e.target.checked)}\r\n              />\r\n              Mark All Present\r\n            </label>\r\n          </div>\r\n          <table className=\"attendance-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Roll No</th>\r\n                <th>Student Name</th>\r\n                <th>Status</th>\r\n                <th>Remarks</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {filteredStudents.map(student => (\r\n                <tr key={student.rollNo}>\r\n                  <td>{student.rollNo}</td>\r\n                  <td>{student.name}</td>\r\n                  <td>\r\n                    <select\r\n                      value={attendance[student.rollNo]?.status || 'Absent'}\r\n                      onChange={(e) => handleAttendanceChange(student.rollNo, 'status', e.target.value)}\r\n                    >\r\n                      <option value=\"Present\">Present</option>\r\n                      <option value=\"Absent\">Absent</option>\r\n                      <option value=\"Leave\">Leave</option>\r\n                    </select>\r\n                  </td>\r\n                  <td>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={attendance[student.rollNo]?.remarks || ''}\r\n                      onChange={(e) => handleAttendanceChange(student.rollNo, 'remarks', e.target.value)}\r\n                      placeholder=\"Optional remarks\"\r\n                    />\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n          <button onClick={handleSubmit} disabled={loading}>\r\n            {loading ? 'Submitting...' : 'Submit Attendance'}\r\n          </button>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MarkAttendance;\r\n"],"mappings":"yJAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE9B,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACY,SAAS,CAAEC,YAAY,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACc,QAAQ,CAAEC,WAAW,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACgB,QAAQ,CAAEC,WAAW,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACkB,UAAU,CAAEC,aAAa,CAAC,CAAGnB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAChD,KAAM,CAACoB,OAAO,CAAEC,UAAU,CAAC,CAAGrB,QAAQ,CAAC,CACrCsB,MAAM,CAAE,EAAE,CACVC,QAAQ,CAAE,EAAE,CACZC,OAAO,CAAE,EAAE,CACXC,IAAI,CAAE,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAG;AAChD,CAAC,CAAC,CACF,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAG9B,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAAC+B,cAAc,CAAEC,iBAAiB,CAAC,CAAGhC,QAAQ,CAAC,KAAK,CAAC,CAC3D,KAAM,CAACiC,OAAO,CAAEC,UAAU,CAAC,CAAGlC,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACmC,KAAK,CAAEC,QAAQ,CAAC,CAAGpC,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACqC,OAAO,CAAEC,UAAU,CAAC,CAAGtC,QAAQ,CAAC,EAAE,CAAC,CAE1C;AACAC,SAAS,CAAC,IAAM,CACdsC,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN;AACAtC,SAAS,CAAC,IAAM,CACd,GAAImB,OAAO,CAACE,MAAM,CAAE,CAClBkB,cAAc,CAACpB,OAAO,CAACE,MAAM,CAAC,CAChC,CAAC,IAAM,CACLT,YAAY,CAAC,EAAE,CAAC,CAChBE,WAAW,CAAC,EAAE,CAAC,CACfE,WAAW,CAAC,EAAE,CAAC,CACjB,CACF,CAAC,CAAE,CAACG,OAAO,CAACE,MAAM,CAAC,CAAC,CAEpB;AACArB,SAAS,CAAC,IAAM,CACd,GAAImB,OAAO,CAACG,QAAQ,CAAE,CACpBkB,aAAa,CAACrB,OAAO,CAACE,MAAM,CAAEF,OAAO,CAACG,QAAQ,CAAC,CACjD,CAAC,IAAM,CACLR,WAAW,CAAC,EAAE,CAAC,CACfE,WAAW,CAAC,EAAE,CAAC,CACjB,CACF,CAAC,CAAE,CAACG,OAAO,CAACE,MAAM,CAAEF,OAAO,CAACG,QAAQ,CAAC,CAAC,CAEtC;AACAtB,SAAS,CAAC,IAAM,CACd,GAAImB,OAAO,CAACI,OAAO,CAAE,CACnBkB,aAAa,CAACtB,OAAO,CAACE,MAAM,CAAEF,OAAO,CAACG,QAAQ,CAAEH,OAAO,CAACI,OAAO,CAAC,CAClE,CAAC,IAAM,CACLP,WAAW,CAAC,EAAE,CAAC,CACjB,CACF,CAAC,CAAE,CAACG,OAAO,CAACE,MAAM,CAAEF,OAAO,CAACG,QAAQ,CAAEH,OAAO,CAACI,OAAO,CAAC,CAAC,CAEvD;AACAvB,SAAS,CAAC,IAAM,CACd,GAAIe,QAAQ,CAAC2B,MAAM,CAAG,CAAC,CAAE,CACvB,KAAM,CAAAC,iBAAiB,CAAG,CAAC,CAAC,CAC5B5B,QAAQ,CAAC6B,OAAO,CAACC,OAAO,EAAI,CAC1BF,iBAAiB,CAACE,OAAO,CAACC,MAAM,CAAC,CAAG,CAClCC,MAAM,CAAEjB,cAAc,CAAG,SAAS,CAAG,QAAQ,CAC7CkB,OAAO,CAAE,EACX,CAAC,CACH,CAAC,CAAC,CACF9B,aAAa,CAACyB,iBAAiB,CAAC,CAClC,CACF,CAAC,CAAE,CAAC5B,QAAQ,CAAEe,cAAc,CAAC,CAAC,CAE9B,KAAM,CAAAQ,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACFW,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC,CAClC,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAlD,KAAK,CAACmD,GAAG,CAAC,cAAc,CAAC,CAChDH,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAEC,QAAQ,CAACE,IAAI,CAAC,CAC/C3C,UAAU,CAACyC,QAAQ,CAACE,IAAI,CAAC,CAC3B,CAAE,MAAOC,GAAG,CAAE,CACZL,OAAO,CAACf,KAAK,CAAC,yBAAyB,CAAEoB,GAAG,CAAC,CAC7C;AACA5C,UAAU,CAAC,CACT,CAAE6C,EAAE,CAAE,CAAC,CAAEC,IAAI,CAAE,IAAK,CAAC,CACrB,CAAED,EAAE,CAAE,CAAC,CAAEC,IAAI,CAAE,KAAM,CAAC,CACtB,CAAED,EAAE,CAAE,CAAC,CAAEC,IAAI,CAAE,MAAO,CAAC,CACxB,CAAC,CACFrB,QAAQ,CAAC,EAAE,CAAC,CACd,CACF,CAAC,CAED,KAAM,CAAAI,cAAc,CAAG,KAAO,CAAAlB,MAAM,EAAK,CACvC,GAAI,CACF4B,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAE7B,MAAM,CAAC,CACrD,KAAM,CAAA8B,QAAQ,CAAG,KAAM,CAAAlD,KAAK,CAACmD,GAAG,0BAAAK,MAAA,CAA0BpC,MAAM,CAAE,CAAC,CACnE4B,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAEC,QAAQ,CAACE,IAAI,CAAC,CACjDzC,YAAY,CAACuC,QAAQ,CAACE,IAAI,CAAC,CAC7B,CAAE,MAAOC,GAAG,CAAE,CACZL,OAAO,CAACf,KAAK,CAAC,2BAA2B,CAAEoB,GAAG,CAAC,CAC/C;AACA1C,YAAY,CAAC,CACX,CAAE2C,EAAE,CAAE,CAAC,CAAEC,IAAI,CAAE,YAAa,CAAC,CAC7B,CAAED,EAAE,CAAE,CAAC,CAAEC,IAAI,CAAE,YAAa,CAAC,CAC7B,CAAED,EAAE,CAAE,CAAC,CAAEC,IAAI,CAAE,YAAa,CAAC,CAC9B,CAAC,CACFrB,QAAQ,CAAC,EAAE,CAAC,CACd,CACF,CAAC,CAED,KAAM,CAAAK,aAAa,CAAG,KAAAA,CAAOnB,MAAM,CAAEC,QAAQ,GAAK,CAChD,GAAI,CACF2B,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAE7B,MAAM,CAAE,WAAW,CAAEC,QAAQ,CAAC,CAC3E,KAAM,CAAA6B,QAAQ,CAAG,KAAM,CAAAlD,KAAK,CAACmD,GAAG,yBAAAK,MAAA,CAAyBpC,MAAM,eAAAoC,MAAA,CAAanC,QAAQ,CAAE,CAAC,CACvF2B,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAEC,QAAQ,CAACE,IAAI,CAAC,CAChDvC,WAAW,CAACqC,QAAQ,CAACE,IAAI,CAAC,CAC5B,CAAE,MAAOC,GAAG,CAAE,CACZL,OAAO,CAACf,KAAK,CAAC,0BAA0B,CAAEoB,GAAG,CAAC,CAC9C;AACAxC,WAAW,CAAC,CACV,CAAEyC,EAAE,CAAE,CAAC,CAAEC,IAAI,CAAE,WAAY,CAAC,CAC5B,CAAED,EAAE,CAAE,CAAC,CAAEC,IAAI,CAAE,WAAY,CAAC,CAC5B,CAAED,EAAE,CAAE,CAAC,CAAEC,IAAI,CAAE,WAAY,CAAC,CAC7B,CAAC,CACFrB,QAAQ,CAAC,EAAE,CAAC,CACd,CACF,CAAC,CAED,KAAM,CAAAM,aAAa,CAAG,KAAAA,CAAOpB,MAAM,CAAEC,QAAQ,CAAEC,OAAO,GAAK,CACzD,GAAI,CACF0B,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAE7B,MAAM,CAAE,WAAW,CAAEC,QAAQ,CAAE,UAAU,CAAEC,OAAO,CAAC,CAChG,KAAM,CAAA4B,QAAQ,CAAG,KAAM,CAAAlD,KAAK,CAACmD,GAAG,yBAAAK,MAAA,CAAyBpC,MAAM,eAAAoC,MAAA,CAAanC,QAAQ,cAAAmC,MAAA,CAAYlC,OAAO,CAAE,CAAC,CAC1G0B,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAEC,QAAQ,CAACE,IAAI,CAAC,CAChDrC,WAAW,CAACmC,QAAQ,CAACE,IAAI,CAAC,CAC5B,CAAE,MAAOC,GAAG,CAAE,CACZL,OAAO,CAACf,KAAK,CAAC,0BAA0B,CAAEoB,GAAG,CAAC,CAC9C;AACAtC,WAAW,CAAC,CACV,CAAE8B,MAAM,CAAE,KAAK,CAAEU,IAAI,CAAE,WAAY,CAAC,CACpC,CAAEV,MAAM,CAAE,KAAK,CAAEU,IAAI,CAAE,WAAY,CAAC,CACpC,CAAEV,MAAM,CAAE,KAAK,CAAEU,IAAI,CAAE,WAAY,CAAC,CACrC,CAAC,CACFrB,QAAQ,CAAC,EAAE,CAAC,CACd,CACF,CAAC,CAED,KAAM,CAAAuB,kBAAkB,CAAIC,CAAC,EAAK,CAChC,KAAM,CAAEH,IAAI,CAAEI,KAAM,CAAC,CAAGD,CAAC,CAACE,MAAM,CAChCzC,UAAU,CAAC0C,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAE,CAACN,IAAI,EAAGI,KAAK,EAAG,CAAC,CAClD,CAAC,CAED,KAAM,CAAAI,sBAAsB,CAAGA,CAAClB,MAAM,CAAEmB,KAAK,CAAEL,KAAK,GAAK,CACvD1C,aAAa,CAAC4C,IAAI,EAAAC,aAAA,CAAAA,aAAA,IACbD,IAAI,MACP,CAAChB,MAAM,EAAAiB,aAAA,CAAAA,aAAA,IAAQD,IAAI,CAAChB,MAAM,CAAC,MAAE,CAACmB,KAAK,EAAGL,KAAK,EAAE,EAC7C,CAAC,CACL,CAAC,CAED,KAAM,CAAAM,gBAAgB,CAAGnD,QAAQ,CAACoD,MAAM,CAACtB,OAAO,EAC9CA,OAAO,CAACW,IAAI,CAACY,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACzC,UAAU,CAACwC,WAAW,CAAC,CAAC,CAAC,EAC7DvB,OAAO,CAACC,MAAM,CAACsB,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACzC,UAAU,CAACwC,WAAW,CAAC,CAAC,CAChE,CAAC,CAED,KAAM,CAAAE,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CAACnD,OAAO,CAACE,MAAM,EAAI,CAACF,OAAO,CAACG,QAAQ,EAAI,CAACH,OAAO,CAACI,OAAO,EAAI,CAACJ,OAAO,CAACK,IAAI,CAAE,CAC7EW,QAAQ,CAAC,2BAA2B,CAAC,CACrC,OACF,CACA,KAAM,CAAAoC,cAAc,CAAGC,MAAM,CAACC,IAAI,CAACxD,UAAU,CAAC,CAACkD,MAAM,CAACrB,MAAM,EAAI7B,UAAU,CAAC6B,MAAM,CAAC,CAACC,MAAM,GAAK,QAAQ,CAAC,CACvG,GAAIwB,cAAc,CAAC7B,MAAM,GAAK,CAAC,CAAE,CAC/BP,QAAQ,CAAC,iDAAiD,CAAC,CAC3D,OACF,CACAF,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,EAAE,CAAC,CACZE,UAAU,CAAC,EAAE,CAAC,CACd,GAAI,CACF,KAAM,CAAAqC,OAAO,CAAG,CACdrD,MAAM,CAAEF,OAAO,CAACE,MAAM,CACtBC,QAAQ,CAAEH,OAAO,CAACG,QAAQ,CAC1BC,OAAO,CAAEJ,OAAO,CAACI,OAAO,CACxBC,IAAI,CAAEL,OAAO,CAACK,IAAI,CAClBP,UAAU,CAAEA,UACd,CAAC,CACD,KAAM,CAAAhB,KAAK,CAAC0E,IAAI,CAAC,iBAAiB,CAAED,OAAO,CAAC,CAC5CrC,UAAU,CAAC,gCAAgC,CAAC,CAC9C,CAAE,MAAOiB,GAAG,CAAE,CACZnB,QAAQ,CAAC,2BAA2B,CAAC,CACvC,CAAC,OAAS,CACRF,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,mBACE5B,KAAA,QAAKuE,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B1E,IAAA,OAAA0E,QAAA,CAAI,yBAAuB,CAAI,CAAC,CAC/B3C,KAAK,eAAI/B,IAAA,QAAKyE,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAE3C,KAAK,CAAM,CAAC,CAC7CE,OAAO,eAAIjC,IAAA,QAAKyE,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAEzC,OAAO,CAAM,CAAC,cAGpD/B,KAAA,QAAKuE,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BxE,KAAA,QAAKuE,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B1E,IAAA,UAAO2E,OAAO,CAAC,0BAA0B,CAAAD,QAAA,CAAC,QAAM,CAAO,CAAC,cACxDxE,KAAA,WACEkD,EAAE,CAAC,0BAA0B,CAC7BC,IAAI,CAAC,QAAQ,CACbI,KAAK,CAAEzC,OAAO,CAACE,MAAO,CACtB0D,QAAQ,CAAErB,kBAAmB,CAAAmB,QAAA,eAE7B1E,IAAA,WAAQyD,KAAK,CAAC,EAAE,CAAAiB,QAAA,CAAC,eAAa,CAAQ,CAAC,CACtCpE,OAAO,CAACuE,GAAG,CAAC3D,MAAM,eACjBlB,IAAA,WAAwByD,KAAK,CAAEvC,MAAM,CAACmC,IAAK,CAAAqB,QAAA,CAAExD,MAAM,CAACmC,IAAI,EAA3CnC,MAAM,CAACkC,EAA6C,CAClE,CAAC,EACI,CAAC,EACN,CAAC,cACNlD,KAAA,QAAKuE,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B1E,IAAA,UAAO2E,OAAO,CAAC,4BAA4B,CAAAD,QAAA,CAAC,UAAQ,CAAO,CAAC,cAC5DxE,KAAA,WACEkD,EAAE,CAAC,4BAA4B,CAC/BC,IAAI,CAAC,UAAU,CACfI,KAAK,CAAEzC,OAAO,CAACG,QAAS,CACxByD,QAAQ,CAAErB,kBAAmB,CAC7BuB,QAAQ,CAAE,CAAC9D,OAAO,CAACE,MAAO,CAAAwD,QAAA,eAE1B1E,IAAA,WAAQyD,KAAK,CAAC,EAAE,CAAAiB,QAAA,CAAC,iBAAe,CAAQ,CAAC,CACxClE,SAAS,CAACqE,GAAG,CAACE,GAAG,eAChB/E,IAAA,WAAqByD,KAAK,CAAEsB,GAAG,CAAC1B,IAAK,CAAAqB,QAAA,CAAEK,GAAG,CAAC1B,IAAI,EAAlC0B,GAAG,CAAC3B,EAAuC,CACzD,CAAC,EACI,CAAC,EACN,CAAC,cACNlD,KAAA,QAAKuE,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B1E,IAAA,UAAO2E,OAAO,CAAC,2BAA2B,CAAAD,QAAA,CAAC,SAAO,CAAO,CAAC,cAC1DxE,KAAA,WACEkD,EAAE,CAAC,2BAA2B,CAC9BC,IAAI,CAAC,SAAS,CACdI,KAAK,CAAEzC,OAAO,CAACI,OAAQ,CACvBwD,QAAQ,CAAErB,kBAAmB,CAC7BuB,QAAQ,CAAE,CAAC9D,OAAO,CAACG,QAAS,CAAAuD,QAAA,eAE5B1E,IAAA,WAAQyD,KAAK,CAAC,EAAE,CAAAiB,QAAA,CAAC,gBAAc,CAAQ,CAAC,CACvChE,QAAQ,CAACmE,GAAG,CAACG,GAAG,eACfhF,IAAA,WAAqByD,KAAK,CAAEuB,GAAG,CAAC3B,IAAK,CAAAqB,QAAA,CAAEM,GAAG,CAAC3B,IAAI,EAAlC2B,GAAG,CAAC5B,EAAuC,CACzD,CAAC,EACI,CAAC,EACN,CAAC,cACNlD,KAAA,QAAKuE,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3B1E,IAAA,UAAO2E,OAAO,CAAC,wBAAwB,CAAAD,QAAA,CAAC,MAAI,CAAO,CAAC,cACpD1E,IAAA,UACEoD,EAAE,CAAC,wBAAwB,CAC3B6B,IAAI,CAAC,MAAM,CACX5B,IAAI,CAAC,MAAM,CACXI,KAAK,CAAEzC,OAAO,CAACK,IAAK,CACpBuD,QAAQ,CAAErB,kBAAmB,CAC9B,CAAC,EACC,CAAC,EACH,CAAC,CAGL3C,QAAQ,CAAC2B,MAAM,CAAG,CAAC,eAClBrC,KAAA,CAAAE,SAAA,EAAAsE,QAAA,eACExE,KAAA,QAAKuE,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC7B1E,IAAA,UACEiF,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,2BAA2B,CACvCzB,KAAK,CAAEhC,UAAW,CAClBmD,QAAQ,CAAGpB,CAAC,EAAK9B,aAAa,CAAC8B,CAAC,CAACE,MAAM,CAACD,KAAK,CAAE,CAChD,CAAC,cACFvD,KAAA,UAAAwE,QAAA,eACE1E,IAAA,UACEiF,IAAI,CAAC,UAAU,CACfE,OAAO,CAAExD,cAAe,CACxBiD,QAAQ,CAAGpB,CAAC,EAAK5B,iBAAiB,CAAC4B,CAAC,CAACE,MAAM,CAACyB,OAAO,CAAE,CACtD,CAAC,mBAEJ,EAAO,CAAC,EACL,CAAC,cACNjF,KAAA,UAAOuE,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eACjC1E,IAAA,UAAA0E,QAAA,cACExE,KAAA,OAAAwE,QAAA,eACE1E,IAAA,OAAA0E,QAAA,CAAI,SAAO,CAAI,CAAC,cAChB1E,IAAA,OAAA0E,QAAA,CAAI,cAAY,CAAI,CAAC,cACrB1E,IAAA,OAAA0E,QAAA,CAAI,QAAM,CAAI,CAAC,cACf1E,IAAA,OAAA0E,QAAA,CAAI,SAAO,CAAI,CAAC,EACd,CAAC,CACA,CAAC,cACR1E,IAAA,UAAA0E,QAAA,CACGX,gBAAgB,CAACc,GAAG,CAACnC,OAAO,OAAA0C,qBAAA,CAAAC,sBAAA,oBAC3BnF,KAAA,OAAAwE,QAAA,eACE1E,IAAA,OAAA0E,QAAA,CAAKhC,OAAO,CAACC,MAAM,CAAK,CAAC,cACzB3C,IAAA,OAAA0E,QAAA,CAAKhC,OAAO,CAACW,IAAI,CAAK,CAAC,cACvBrD,IAAA,OAAA0E,QAAA,cACExE,KAAA,WACEuD,KAAK,CAAE,EAAA2B,qBAAA,CAAAtE,UAAU,CAAC4B,OAAO,CAACC,MAAM,CAAC,UAAAyC,qBAAA,iBAA1BA,qBAAA,CAA4BxC,MAAM,GAAI,QAAS,CACtDgC,QAAQ,CAAGpB,CAAC,EAAKK,sBAAsB,CAACnB,OAAO,CAACC,MAAM,CAAE,QAAQ,CAAEa,CAAC,CAACE,MAAM,CAACD,KAAK,CAAE,CAAAiB,QAAA,eAElF1E,IAAA,WAAQyD,KAAK,CAAC,SAAS,CAAAiB,QAAA,CAAC,SAAO,CAAQ,CAAC,cACxC1E,IAAA,WAAQyD,KAAK,CAAC,QAAQ,CAAAiB,QAAA,CAAC,QAAM,CAAQ,CAAC,cACtC1E,IAAA,WAAQyD,KAAK,CAAC,OAAO,CAAAiB,QAAA,CAAC,OAAK,CAAQ,CAAC,EAC9B,CAAC,CACP,CAAC,cACL1E,IAAA,OAAA0E,QAAA,cACE1E,IAAA,UACEiF,IAAI,CAAC,MAAM,CACXxB,KAAK,CAAE,EAAA4B,sBAAA,CAAAvE,UAAU,CAAC4B,OAAO,CAACC,MAAM,CAAC,UAAA0C,sBAAA,iBAA1BA,sBAAA,CAA4BxC,OAAO,GAAI,EAAG,CACjD+B,QAAQ,CAAGpB,CAAC,EAAKK,sBAAsB,CAACnB,OAAO,CAACC,MAAM,CAAE,SAAS,CAAEa,CAAC,CAACE,MAAM,CAACD,KAAK,CAAE,CACnFyB,WAAW,CAAC,kBAAkB,CAC/B,CAAC,CACA,CAAC,GApBExC,OAAO,CAACC,MAqBb,CAAC,EACN,CAAC,CACG,CAAC,EACH,CAAC,cACR3C,IAAA,WAAQsF,OAAO,CAAEnB,YAAa,CAACW,QAAQ,CAAEjD,OAAQ,CAAA6C,QAAA,CAC9C7C,OAAO,CAAG,eAAe,CAAG,mBAAmB,CAC1C,CAAC,EACT,CACH,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAxB,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}