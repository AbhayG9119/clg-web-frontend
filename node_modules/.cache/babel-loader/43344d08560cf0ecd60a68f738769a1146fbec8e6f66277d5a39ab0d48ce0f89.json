{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\abhay\\\\Downloads\\\\COL-WEB-ADV-main (4)\\\\clg-web-main1\\\\Frontend\\\\src\\\\components\\\\AdminPanel\\\\StaffWorkUpdates.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { workApi } from '../../services/adminApi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StaffWorkUpdates = () => {\n  _s();\n  const [tasks, setTasks] = useState([]);\n  const [selectedTask, setSelectedTask] = useState('');\n  const [updates, setUpdates] = useState([]);\n  const [reports, setReports] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [loadingData, setLoadingData] = useState(true);\n  const [activeTab, setActiveTab] = useState('updates'); // 'updates' or 'reports'\n\n  const fetchUpdatesAndReports = useCallback(async () => {\n    setLoading(true);\n    try {\n      if (activeTab === 'updates') {\n        const result = await workApi.getTaskUpdates(selectedTask);\n        if (result.success) {\n          setUpdates(result.data);\n        }\n      } else {\n        const result = await workApi.getPendingReports();\n        if (result.success) {\n          // Filter reports for selected task\n          const taskReports = result.data.filter(report => report.task_id.task_id === parseInt(selectedTask));\n          setReports(taskReports);\n        }\n      }\n    } catch (error) {\n      console.error('Failed to fetch data:', error);\n    } finally {\n      setLoading(false);\n    }\n  }, [selectedTask, activeTab]);\n  useEffect(() => {\n    fetchTasks();\n  }, []);\n  useEffect(() => {\n    if (selectedTask) {\n      fetchUpdatesAndReports();\n    }\n  }, [selectedTask, activeTab, fetchUpdatesAndReports]);\n  const fetchTasks = async () => {\n    try {\n      const result = await workApi.getAllTasks();\n      if (result.success) {\n        setTasks(result.data);\n      }\n    } catch (error) {\n      console.error('Failed to fetch tasks:', error);\n    } finally {\n      setLoadingData(false);\n    }\n  };\n  const handleReviewReport = async (reportId, status, comments) => {\n    try {\n      const result = await workApi.reviewReport({\n        report_id: reportId,\n        status,\n        comments\n      });\n      if (result.success) {\n        // Refresh reports\n        fetchUpdatesAndReports();\n        alert(`Report ${status} successfully!`);\n      } else {\n        alert('Failed to review report');\n      }\n    } catch (error) {\n      alert('Error reviewing report');\n    }\n  };\n  const handleAddComment = async (updateId, comment) => {\n    if (!comment.trim()) return;\n    try {\n      const result = await workApi.addComment({\n        update_id: updateId,\n        comment\n      });\n      if (result.success) {\n        // Refresh updates\n        fetchUpdatesAndReports();\n      } else {\n        alert('Failed to add comment');\n      }\n    } catch (error) {\n      alert('Error adding comment');\n    }\n  };\n  const handleCloseTask = async taskId => {\n    if (window.confirm('Are you sure you want to close this task?')) {\n      try {\n        const result = await workApi.closeTask(taskId);\n        if (result.success) {\n          alert('Task closed successfully!');\n          fetchTasks();\n          fetchUpdatesAndReports();\n        } else {\n          alert('Failed to close task');\n        }\n      } catch (error) {\n        alert('Error closing task');\n      }\n    }\n  };\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleString();\n  };\n  if (loadingData) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"menu-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Staff Work Updates\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"menu-content\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Staff Work Updates\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Track progress, review reports, and manage task updates.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filters\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"task-select\",\n          children: \"Select Task:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"task-select\",\n          value: selectedTask,\n          onChange: e => setSelectedTask(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Choose a task...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this), tasks.map(task => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: task.task_id,\n            children: [task.title, \" (ID: \", task.task_id, \")\"]\n          }, task.task_id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), selectedTask && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tab-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: `tab-btn ${activeTab === 'updates' ? 'active' : ''}`,\n          onClick: () => setActiveTab('updates'),\n          children: \"Task Updates\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: `tab-btn ${activeTab === 'reports' ? 'active' : ''}`,\n          onClick: () => setActiveTab('reports'),\n          children: \"Work Reports\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), !selectedTask ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"no-selection\",\n      children: \"Please select a task to view updates and reports.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 9\n    }, this) : loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"updates-container\",\n      children: [activeTab === 'updates' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"updates-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Task Updates Timeline\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 15\n        }, this), updates.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No updates available for this task.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"updates-list\",\n          children: updates.map(update => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"update-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"update-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: update.staff_id.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"update-time\",\n                children: formatDate(update.timestamp)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"update-content\",\n              children: update.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 23\n            }, this), update.admin_comments.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"admin-comments\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Admin Comments:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 27\n              }, this), update.admin_comments.map((comment, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"comment\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [comment.commented_by.name, \":\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 31\n                }, this), \" \", comment.comment, /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"comment-time\",\n                  children: [\"(\", formatDate(comment.commented_at), \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 31\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 29\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"comment-form\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Add admin comment...\",\n                onKeyPress: e => {\n                  if (e.key === 'Enter') {\n                    handleAddComment(update.update_id, e.target.value);\n                    e.target.value = '';\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 23\n            }, this)]\n          }, update.update_id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 21\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"reports-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Work Reports\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 15\n        }, this), reports.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No pending reports for this task.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"reports-list\",\n          children: reports.map(report => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"report-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"report-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: report.staff_id.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"report-time\",\n                children: formatDate(report.createdAt)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `status-badge status-${report.status}`,\n                children: report.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"report-content\",\n              children: report.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 23\n            }, this), report.status === 'pending' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"report-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-approve\",\n                onClick: () => handleReviewReport(report.report_id, 'reviewed', ''),\n                children: \"Approve\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-reject\",\n                onClick: () => {\n                  const comments = prompt('Enter rejection comments:');\n                  if (comments !== null) {\n                    handleReviewReport(report.report_id, 'rejected', comments);\n                  }\n                },\n                children: \"Reject\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 27\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 25\n            }, this), report.status === 'rejected' && report.admin_comments && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rejection-comments\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Rejection Reason:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 27\n              }, this), \" \", report.admin_comments]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 25\n            }, this)]\n          }, report.report_id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 21\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"task-actions\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-close-task\",\n          onClick: () => handleCloseTask(selectedTask),\n          children: \"Close Task\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n        .filters {\n          margin-bottom: 20px;\n          padding: 15px;\n          background-color: #f8f9fa;\n          border-radius: 4px;\n        }\n\n        .form-group {\n          margin-bottom: 15px;\n        }\n\n        .form-group label {\n          display: block;\n          margin-bottom: 5px;\n          font-weight: bold;\n        }\n\n        .form-group select {\n          width: 300px;\n          padding: 8px;\n          border: 1px solid #ddd;\n          border-radius: 4px;\n          font-size: 14px;\n        }\n\n        .tab-buttons {\n          display: flex;\n          gap: 10px;\n        }\n\n        .tab-btn {\n          padding: 8px 16px;\n          border: 1px solid #ddd;\n          background: white;\n          cursor: pointer;\n          border-radius: 4px;\n        }\n\n        .tab-btn.active {\n          background-color: #007bff;\n          color: white;\n          border-color: #007bff;\n        }\n\n        .no-selection {\n          text-align: center;\n          padding: 40px;\n          color: #6c757d;\n          font-style: italic;\n        }\n\n        .updates-container {\n          margin-top: 20px;\n        }\n\n        .updates-list, .reports-list {\n          margin-top: 15px;\n        }\n\n        .update-item, .report-item {\n          border: 1px solid #ddd;\n          border-radius: 8px;\n          padding: 15px;\n          margin-bottom: 15px;\n          background-color: white;\n        }\n\n        .update-header, .report-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 10px;\n        }\n\n        .update-time, .report-time {\n          color: #6c757d;\n          font-size: 12px;\n        }\n\n        .update-content, .report-content {\n          margin-bottom: 10px;\n          line-height: 1.5;\n        }\n\n        .admin-comments {\n          background-color: #f8f9fa;\n          padding: 10px;\n          border-radius: 4px;\n          margin-top: 10px;\n        }\n\n        .comment {\n          margin-bottom: 5px;\n          font-size: 14px;\n        }\n\n        .comment-time {\n          color: #6c757d;\n          font-size: 12px;\n        }\n\n        .comment-form input {\n          width: 100%;\n          padding: 8px;\n          border: 1px solid #ddd;\n          border-radius: 4px;\n          margin-top: 10px;\n        }\n\n        .status-badge {\n          padding: 4px 8px;\n          border-radius: 12px;\n          color: white;\n          font-size: 12px;\n          font-weight: bold;\n        }\n\n        .status-pending {\n          background-color: #ffc107;\n          color: #212529;\n        }\n\n        .status-reviewed {\n          background-color: #28a745;\n        }\n\n        .status-rejected {\n          background-color: #dc3545;\n        }\n\n        .report-actions {\n          display: flex;\n          gap: 10px;\n          margin-top: 10px;\n        }\n\n        .btn-approve {\n          background-color: #28a745;\n          color: white;\n          border: none;\n          padding: 8px 16px;\n          border-radius: 4px;\n          cursor: pointer;\n        }\n\n        .btn-reject {\n          background-color: #dc3545;\n          color: white;\n          border: none;\n          padding: 8px 16px;\n          border-radius: 4px;\n          cursor: pointer;\n        }\n\n        .rejection-comments {\n          background-color: #f8d7da;\n          color: #721c24;\n          padding: 10px;\n          border-radius: 4px;\n          margin-top: 10px;\n        }\n\n        .task-actions {\n          margin-top: 30px;\n          text-align: center;\n        }\n\n        .btn-close-task {\n          background-color: #dc3545;\n          color: white;\n          border: none;\n          padding: 10px 20px;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 16px;\n        }\n\n        .btn-close-task:hover {\n          background-color: #c82333;\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 5\n  }, this);\n};\n_s(StaffWorkUpdates, \"lYpX8FgNxGRgiicRsQT3eKFVc5A=\");\n_c = StaffWorkUpdates;\nexport default StaffWorkUpdates;\nvar _c;\n$RefreshReg$(_c, \"StaffWorkUpdates\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","workApi","jsxDEV","_jsxDEV","StaffWorkUpdates","_s","tasks","setTasks","selectedTask","setSelectedTask","updates","setUpdates","reports","setReports","loading","setLoading","loadingData","setLoadingData","activeTab","setActiveTab","fetchUpdatesAndReports","result","getTaskUpdates","success","data","getPendingReports","taskReports","filter","report","task_id","parseInt","error","console","fetchTasks","getAllTasks","handleReviewReport","reportId","status","comments","reviewReport","report_id","alert","handleAddComment","updateId","comment","trim","addComment","update_id","handleCloseTask","taskId","window","confirm","closeTask","formatDate","dateString","Date","toLocaleString","className","children","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","id","value","onChange","e","target","map","task","title","onClick","length","update","staff_id","name","timestamp","content","admin_comments","index","commented_by","commented_at","type","placeholder","onKeyPress","key","createdAt","prompt","jsx","_c","$RefreshReg$"],"sources":["C:/Users/abhay/Downloads/COL-WEB-ADV-main (4)/clg-web-main1/Frontend/src/components/AdminPanel/StaffWorkUpdates.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { workApi } from '../../services/adminApi';\r\n\r\nconst StaffWorkUpdates = () => {\r\n  const [tasks, setTasks] = useState([]);\r\n  const [selectedTask, setSelectedTask] = useState('');\r\n  const [updates, setUpdates] = useState([]);\r\n  const [reports, setReports] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [loadingData, setLoadingData] = useState(true);\r\n  const [activeTab, setActiveTab] = useState('updates'); // 'updates' or 'reports'\r\n\r\n  const fetchUpdatesAndReports = useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      if (activeTab === 'updates') {\r\n        const result = await workApi.getTaskUpdates(selectedTask);\r\n        if (result.success) {\r\n          setUpdates(result.data);\r\n        }\r\n      } else {\r\n        const result = await workApi.getPendingReports();\r\n        if (result.success) {\r\n          // Filter reports for selected task\r\n          const taskReports = result.data.filter(report => report.task_id.task_id === parseInt(selectedTask));\r\n          setReports(taskReports);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to fetch data:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [selectedTask, activeTab]);\r\n\r\n  useEffect(() => {\r\n    fetchTasks();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (selectedTask) {\r\n      fetchUpdatesAndReports();\r\n    }\r\n  }, [selectedTask, activeTab, fetchUpdatesAndReports]);\r\n\r\n  const fetchTasks = async () => {\r\n    try {\r\n      const result = await workApi.getAllTasks();\r\n      if (result.success) {\r\n        setTasks(result.data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to fetch tasks:', error);\r\n    } finally {\r\n      setLoadingData(false);\r\n    }\r\n  };\r\n\r\n  const handleReviewReport = async (reportId, status, comments) => {\r\n    try {\r\n      const result = await workApi.reviewReport({\r\n        report_id: reportId,\r\n        status,\r\n        comments\r\n      });\r\n      if (result.success) {\r\n        // Refresh reports\r\n        fetchUpdatesAndReports();\r\n        alert(`Report ${status} successfully!`);\r\n      } else {\r\n        alert('Failed to review report');\r\n      }\r\n    } catch (error) {\r\n      alert('Error reviewing report');\r\n    }\r\n  };\r\n\r\n  const handleAddComment = async (updateId, comment) => {\r\n    if (!comment.trim()) return;\r\n\r\n    try {\r\n      const result = await workApi.addComment({\r\n        update_id: updateId,\r\n        comment\r\n      });\r\n      if (result.success) {\r\n        // Refresh updates\r\n        fetchUpdatesAndReports();\r\n      } else {\r\n        alert('Failed to add comment');\r\n      }\r\n    } catch (error) {\r\n      alert('Error adding comment');\r\n    }\r\n  };\r\n\r\n  const handleCloseTask = async (taskId) => {\r\n    if (window.confirm('Are you sure you want to close this task?')) {\r\n      try {\r\n        const result = await workApi.closeTask(taskId);\r\n        if (result.success) {\r\n          alert('Task closed successfully!');\r\n          fetchTasks();\r\n          fetchUpdatesAndReports();\r\n        } else {\r\n          alert('Failed to close task');\r\n        }\r\n      } catch (error) {\r\n        alert('Error closing task');\r\n      }\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleString();\r\n  };\r\n\r\n  if (loadingData) {\r\n    return (\r\n      <div className=\"menu-content\">\r\n        <h1>Staff Work Updates</h1>\r\n        <p>Loading...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"menu-content\">\r\n      <h1>Staff Work Updates</h1>\r\n      <p>Track progress, review reports, and manage task updates.</p>\r\n\r\n      <div className=\"filters\">\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"task-select\">Select Task:</label>\r\n          <select\r\n            id=\"task-select\"\r\n            value={selectedTask}\r\n            onChange={(e) => setSelectedTask(e.target.value)}\r\n          >\r\n            <option value=\"\">Choose a task...</option>\r\n            {tasks.map(task => (\r\n              <option key={task.task_id} value={task.task_id}>\r\n                {task.title} (ID: {task.task_id})\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        {selectedTask && (\r\n          <div className=\"tab-buttons\">\r\n            <button\r\n              className={`tab-btn ${activeTab === 'updates' ? 'active' : ''}`}\r\n              onClick={() => setActiveTab('updates')}\r\n            >\r\n              Task Updates\r\n            </button>\r\n            <button\r\n              className={`tab-btn ${activeTab === 'reports' ? 'active' : ''}`}\r\n              onClick={() => setActiveTab('reports')}\r\n            >\r\n              Work Reports\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {!selectedTask ? (\r\n        <div className=\"no-selection\">\r\n          Please select a task to view updates and reports.\r\n        </div>\r\n      ) : loading ? (\r\n        <p>Loading...</p>\r\n      ) : (\r\n        <div className=\"updates-container\">\r\n          {activeTab === 'updates' ? (\r\n            <div className=\"updates-section\">\r\n              <h3>Task Updates Timeline</h3>\r\n              {updates.length === 0 ? (\r\n                <p>No updates available for this task.</p>\r\n              ) : (\r\n                <div className=\"updates-list\">\r\n                  {updates.map(update => (\r\n                    <div key={update.update_id} className=\"update-item\">\r\n                      <div className=\"update-header\">\r\n                        <strong>{update.staff_id.name}</strong>\r\n                        <span className=\"update-time\">{formatDate(update.timestamp)}</span>\r\n                      </div>\r\n                      <div className=\"update-content\">\r\n                        {update.content}\r\n                      </div>\r\n                      {update.admin_comments.length > 0 && (\r\n                        <div className=\"admin-comments\">\r\n                          <h4>Admin Comments:</h4>\r\n                          {update.admin_comments.map((comment, index) => (\r\n                            <div key={index} className=\"comment\">\r\n                              <strong>{comment.commented_by.name}:</strong> {comment.comment}\r\n                              <span className=\"comment-time\">({formatDate(comment.commented_at)})</span>\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      )}\r\n                      <div className=\"comment-form\">\r\n                        <input\r\n                          type=\"text\"\r\n                          placeholder=\"Add admin comment...\"\r\n                          onKeyPress={(e) => {\r\n                            if (e.key === 'Enter') {\r\n                              handleAddComment(update.update_id, e.target.value);\r\n                              e.target.value = '';\r\n                            }\r\n                          }}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div className=\"reports-section\">\r\n              <h3>Work Reports</h3>\r\n              {reports.length === 0 ? (\r\n                <p>No pending reports for this task.</p>\r\n              ) : (\r\n                <div className=\"reports-list\">\r\n                  {reports.map(report => (\r\n                    <div key={report.report_id} className=\"report-item\">\r\n                      <div className=\"report-header\">\r\n                        <strong>{report.staff_id.name}</strong>\r\n                        <span className=\"report-time\">{formatDate(report.createdAt)}</span>\r\n                        <span className={`status-badge status-${report.status}`}>\r\n                          {report.status}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"report-content\">\r\n                        {report.content}\r\n                      </div>\r\n                      {report.status === 'pending' && (\r\n                        <div className=\"report-actions\">\r\n                          <button\r\n                            className=\"btn-approve\"\r\n                            onClick={() => handleReviewReport(report.report_id, 'reviewed', '')}\r\n                          >\r\n                            Approve\r\n                          </button>\r\n                          <button\r\n                            className=\"btn-reject\"\r\n                            onClick={() => {\r\n                              const comments = prompt('Enter rejection comments:');\r\n                              if (comments !== null) {\r\n                                handleReviewReport(report.report_id, 'rejected', comments);\r\n                              }\r\n                            }}\r\n                          >\r\n                            Reject\r\n                          </button>\r\n                        </div>\r\n                      )}\r\n                      {report.status === 'rejected' && report.admin_comments && (\r\n                        <div className=\"rejection-comments\">\r\n                          <strong>Rejection Reason:</strong> {report.admin_comments}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"task-actions\">\r\n            <button\r\n              className=\"btn-close-task\"\r\n              onClick={() => handleCloseTask(selectedTask)}\r\n            >\r\n              Close Task\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <style jsx>{`\r\n        .filters {\r\n          margin-bottom: 20px;\r\n          padding: 15px;\r\n          background-color: #f8f9fa;\r\n          border-radius: 4px;\r\n        }\r\n\r\n        .form-group {\r\n          margin-bottom: 15px;\r\n        }\r\n\r\n        .form-group label {\r\n          display: block;\r\n          margin-bottom: 5px;\r\n          font-weight: bold;\r\n        }\r\n\r\n        .form-group select {\r\n          width: 300px;\r\n          padding: 8px;\r\n          border: 1px solid #ddd;\r\n          border-radius: 4px;\r\n          font-size: 14px;\r\n        }\r\n\r\n        .tab-buttons {\r\n          display: flex;\r\n          gap: 10px;\r\n        }\r\n\r\n        .tab-btn {\r\n          padding: 8px 16px;\r\n          border: 1px solid #ddd;\r\n          background: white;\r\n          cursor: pointer;\r\n          border-radius: 4px;\r\n        }\r\n\r\n        .tab-btn.active {\r\n          background-color: #007bff;\r\n          color: white;\r\n          border-color: #007bff;\r\n        }\r\n\r\n        .no-selection {\r\n          text-align: center;\r\n          padding: 40px;\r\n          color: #6c757d;\r\n          font-style: italic;\r\n        }\r\n\r\n        .updates-container {\r\n          margin-top: 20px;\r\n        }\r\n\r\n        .updates-list, .reports-list {\r\n          margin-top: 15px;\r\n        }\r\n\r\n        .update-item, .report-item {\r\n          border: 1px solid #ddd;\r\n          border-radius: 8px;\r\n          padding: 15px;\r\n          margin-bottom: 15px;\r\n          background-color: white;\r\n        }\r\n\r\n        .update-header, .report-header {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          margin-bottom: 10px;\r\n        }\r\n\r\n        .update-time, .report-time {\r\n          color: #6c757d;\r\n          font-size: 12px;\r\n        }\r\n\r\n        .update-content, .report-content {\r\n          margin-bottom: 10px;\r\n          line-height: 1.5;\r\n        }\r\n\r\n        .admin-comments {\r\n          background-color: #f8f9fa;\r\n          padding: 10px;\r\n          border-radius: 4px;\r\n          margin-top: 10px;\r\n        }\r\n\r\n        .comment {\r\n          margin-bottom: 5px;\r\n          font-size: 14px;\r\n        }\r\n\r\n        .comment-time {\r\n          color: #6c757d;\r\n          font-size: 12px;\r\n        }\r\n\r\n        .comment-form input {\r\n          width: 100%;\r\n          padding: 8px;\r\n          border: 1px solid #ddd;\r\n          border-radius: 4px;\r\n          margin-top: 10px;\r\n        }\r\n\r\n        .status-badge {\r\n          padding: 4px 8px;\r\n          border-radius: 12px;\r\n          color: white;\r\n          font-size: 12px;\r\n          font-weight: bold;\r\n        }\r\n\r\n        .status-pending {\r\n          background-color: #ffc107;\r\n          color: #212529;\r\n        }\r\n\r\n        .status-reviewed {\r\n          background-color: #28a745;\r\n        }\r\n\r\n        .status-rejected {\r\n          background-color: #dc3545;\r\n        }\r\n\r\n        .report-actions {\r\n          display: flex;\r\n          gap: 10px;\r\n          margin-top: 10px;\r\n        }\r\n\r\n        .btn-approve {\r\n          background-color: #28a745;\r\n          color: white;\r\n          border: none;\r\n          padding: 8px 16px;\r\n          border-radius: 4px;\r\n          cursor: pointer;\r\n        }\r\n\r\n        .btn-reject {\r\n          background-color: #dc3545;\r\n          color: white;\r\n          border: none;\r\n          padding: 8px 16px;\r\n          border-radius: 4px;\r\n          cursor: pointer;\r\n        }\r\n\r\n        .rejection-comments {\r\n          background-color: #f8d7da;\r\n          color: #721c24;\r\n          padding: 10px;\r\n          border-radius: 4px;\r\n          margin-top: 10px;\r\n        }\r\n\r\n        .task-actions {\r\n          margin-top: 30px;\r\n          text-align: center;\r\n        }\r\n\r\n        .btn-close-task {\r\n          background-color: #dc3545;\r\n          color: white;\r\n          border: none;\r\n          padding: 10px 20px;\r\n          border-radius: 4px;\r\n          cursor: pointer;\r\n          font-size: 16px;\r\n        }\r\n\r\n        .btn-close-task:hover {\r\n          background-color: #c82333;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StaffWorkUpdates;\r\n"],"mappings":"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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAO;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACP,CAAC;AAEV,CAAC;AAACzD,EAAA,CA9cID,gBAAgB;AAAAsF,EAAA,GAAhBtF,gBAAgB;AAgdtB,eAAeA,gBAAgB;AAAC,IAAAsF,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}