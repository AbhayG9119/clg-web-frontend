{"version":3,"file":"static/js/810.ebb95f21.chunk.js","mappings":"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","sources":["components/Staff Pannel/Alert.js","components/Staff Pannel/Dashboard.js","components/Staff Pannel/Profile.js","components/Staff Pannel/CreateAssignment.js","components/Staff Pannel/ViewAssignments.js","components/Staff Pannel/Circulars.js","components/Staff Pannel/MarkAttendance.js","components/Staff Pannel/AttendanceReport.js","components/Staff Pannel/Messaging.js","components/Staff Pannel/ReportCard.js","components/Staff Pannel/Settings.js","components/Staff Pannel/LeaveManagement.js","components/Staff Pannel/Timetable.js","components/Staff Pannel/Payroll.js","components/Staff Pannel/AssignClass.js","components/Staff Pannel/StaffViewDocuments.js","components/Staff Pannel/StaffVerifyDocuments.js","components/Staff Pannel/TotalFeeCollectionSummary.js","components/Staff Pannel/ActivePendingOverdueFees.js","pages/StaffPanel.js","components/Student Pannel/ViewFees.js","components/Staff Pannel/UploadPhoto.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\n\r\nconst Alert = ({ message, type = 'info', onClose, duration = 5000 }) => {\r\n  useEffect(() => {\r\n    if (duration > 0) {\r\n      const timer = setTimeout(onClose, duration);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [onClose, duration]);\r\n\r\n  const getAlertClass = () => {\r\n    switch (type) {\r\n      case 'success': return 'alert-success';\r\n      case 'error': return 'alert-error';\r\n      case 'warning': return 'alert-warning';\r\n      default: return 'alert-info';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`alert ${getAlertClass()}`}>\r\n      <span>{message}</span>\r\n      <button className=\"alert-close\" onClick={onClose}></button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Alert;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios'; // Assuming Axios is installed; for API calls\r\nimport Alert from './Alert';\r\nimport './Alert.css';\r\n\r\nconst Dashboard = () => {\r\n  const [alerts, setAlerts] = useState([]);\r\n  const [showAlerts, setShowAlerts] = useState(false);\r\n  const [assignedClasses, setAssignedClasses] = useState(0);\r\n  const [todayTimetable, setTodayTimetable] = useState([]);\r\n  const [pendingAssignments, setPendingAssignments] = useState(0);\r\n  const [unreadMessages, setUnreadMessages] = useState(0);\r\n  const [attendanceSummary, setAttendanceSummary] = useState({ present: 0, total: 0 });\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchAlerts();\r\n    const fetchDashboardData = async () => {\r\n      try {\r\n        const token = localStorage.getItem('token'); // Assuming JWT token stored\r\n        const config = { headers: { Authorization: `Bearer ${token}` } };\r\n\r\n        // Fetch assigned classes count\r\n        const classesRes = await axios.get('/api/staff/assigned-classes', config);\r\n        setAssignedClasses(classesRes.data.length || 0);\r\n\r\n        // Fetch today's timetable (assume today is Monday for demo; use Date in prod)\r\n        const today = new Date().toLocaleDateString('en-US', { weekday: 'long' });\r\n        const timetableRes = await axios.get(`/api/staff/timetable?day=${today}`, config);\r\n        setTodayTimetable(timetableRes.data);\r\n\r\n        // Fetch pending assignments count (due today or soon)\r\n        const assignmentsRes = await axios.get('/api/staff/work/assignments', config);\r\n        const pending = assignmentsRes.data.filter(a => new Date(a.dueDate) < new Date(Date.now() + 7 * 24 * 60 * 60 * 1000)).length; // Within 7 days\r\n        setPendingAssignments(pending);\r\n\r\n        // Fetch unread messages count\r\n        const messagesRes = await axios.get('/api/staff/messages/inbox', config);\r\n        const unread = messagesRes.data.filter(m => !m.isRead).length;\r\n        setUnreadMessages(unread);\r\n\r\n        // Fetch monthly attendance summary (current month)\r\n        const month = new Date().toISOString().slice(0, 7); // YYYY-MM\r\n        const attendanceRes = await axios.get(`/api/staff/attendance/monthly?month=${month}`, config);\r\n        if (attendanceRes.data.summary && attendanceRes.data.summary.length > 0) {\r\n          const totalPresent = attendanceRes.data.summary.reduce((sum, s) => sum + s.present, 0);\r\n          const totalDays = attendanceRes.data.summary[0].total; // Assuming uniform\r\n          setAttendanceSummary({ present: totalPresent, total: totalDays * attendanceRes.data.summary.length });\r\n        }\r\n\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.error('Error fetching dashboard data:', error);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchDashboardData();\r\n  }, []);\r\n\r\n  const fetchAlerts = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        console.error('No authentication token found.');\r\n        return;\r\n      }\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const res = await axios.get('/api/notifications/my', config);\r\n      // Transform notifications to alert format\r\n      const notificationAlerts = res.data.map(notification => ({\r\n        _id: notification._id,\r\n        message: `${notification.title}: ${notification.message}`,\r\n        type: notification.priority === 'urgent' || notification.priority === 'high' ? 'warning' : 'info'\r\n      }));\r\n      setAlerts(notificationAlerts);\r\n    } catch (error) {\r\n      console.error('Error fetching notifications:', error);\r\n      // Fallback to mock data if API fails\r\n      const mockAlerts = [\r\n        { _id: '1', message: 'Staff meeting scheduled for tomorrow', type: 'info' },\r\n        { _id: '2', message: 'New student enrollment deadline approaching', type: 'warning' }\r\n      ];\r\n      setAlerts(mockAlerts);\r\n    }\r\n  };\r\n\r\n  const dismissAlert = (alertId) => {\r\n    setAlerts(alerts.filter(alert => alert._id !== alertId));\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"loading\">Loading dashboard...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"staff-dashboard\">\r\n      <div className=\"dashboard-header\">\r\n        <h1>Staff Dashboard</h1>\r\n        <div className=\"alert-icon\" onClick={() => setShowAlerts(!showAlerts)}>\r\n          \r\n          {alerts.length > 0 && <span className=\"alert-count\">{alerts.length}</span>}\r\n        </div>\r\n      </div>\r\n\r\n      {showAlerts && (\r\n        <div className=\"alerts-panel\">\r\n          {alerts.length === 0 ? (\r\n            <p>No new alerts.</p>\r\n          ) : (\r\n            alerts.map(alert => (\r\n              <Alert\r\n                key={alert._id}\r\n                message={alert.message}\r\n                type={alert.type}\r\n                onClose={() => dismissAlert(alert._id)}\r\n                duration={5000}\r\n              />\r\n            ))\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"dashboard-cards\">\r\n        <div className=\"card\">\r\n          <h3>Assigned Classes</h3>\r\n          <p>{assignedClasses}</p>\r\n        </div>\r\n        <div className=\"card\">\r\n          <h3>Today's Timetable</h3>\r\n          <ul>\r\n            {todayTimetable.map((slot, idx) => (\r\n              <li key={idx}>{slot.period}: {slot.class} - {slot.subject} ({slot.time})</li>\r\n            ))}\r\n            {todayTimetable.length === 0 && <li>No classes today</li>}\r\n          </ul>\r\n        </div>\r\n        <div className=\"card\">\r\n          <h3>Pending Assignments</h3>\r\n          <p>{pendingAssignments}</p>\r\n        </div>\r\n        <div className=\"card\">\r\n          <h3>Unread Messages</h3>\r\n          <p>{unreadMessages}</p>\r\n        </div>\r\n        <div className=\"card\">\r\n          <h3>Attendance Summary (This Month)</h3>\r\n          <p>Present: {attendanceSummary.present} / Total: {attendanceSummary.total}</p>\r\n          <p>Percentage: {attendanceSummary.total > 0 ? Math.round((attendanceSummary.present / attendanceSummary.total) * 100) : 0}%</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"recent-notices\">\r\n        <h3>Recent Notices</h3>\r\n        {/* Placeholder; fetch from /api/circulars in full impl */}\r\n        <p>No recent notices available.</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Profile = () => {\r\n  const [profile, setProfile] = useState({\r\n    _id: '',\r\n    name: '',\r\n    designation: '',\r\n    department: '',\r\n    qualifications: '',\r\n    joiningDate: '',\r\n    email: '',\r\n    phone: '',\r\n    address: '',\r\n    profilePicture: null\r\n  });\r\n\r\n  // Helper function to format date for input\r\n  const formatDateForInput = (date) => {\r\n    if (!date) return '';\r\n    const d = new Date(date);\r\n    return d.toISOString().split('T')[0];\r\n  };\r\n  const [loading, setLoading] = useState(true);\r\n  const [editing, setEditing] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [saving, setSaving] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchProfile();\r\n  }, []);\r\n\r\n  const fetchProfile = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const res = await axios.get('http://localhost:5000/api/staff/profile', config);\r\n      console.log('Profile data received:', res.data);\r\n      console.log('Profile picture field:', res.data.profilePicture);\r\n      setProfile(res.data);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Error fetching profile:', error);\r\n      setError('Failed to fetch profile');\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setProfile({ ...profile, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setSaving(true);\r\n    setError('');\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      await axios.put('http://localhost:5000/api/staff/profile', profile, config);\r\n      setEditing(false);\r\n      // Refetch profile to ensure we have latest data\r\n      await fetchProfile();\r\n    } catch (error) {\r\n      setError('Failed to update profile');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <div>Loading profile...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"staff-profile\">\r\n      <h1>Staff Profile</h1>\r\n      {error && <div className=\"error\" style={{ color: 'red', marginBottom: '10px' }}>{error}</div>}\r\n\r\n      {/* Profile Picture Display */}\r\n      <div className=\"profile-picture-section\" style={{ marginBottom: '20px', textAlign: 'center' }}>\r\n        {profile.profilePicture ? (\r\n          <img\r\n            src={`http://localhost:5000/uploads/profile-pictures/${profile.profilePicture}`}\r\n            alt=\"Profile\"\r\n            style={{\r\n              width: '150px',\r\n              height: '150px',\r\n              borderRadius: '50%',\r\n              objectFit: 'cover',\r\n              border: '3px solid #007bff'\r\n            }}\r\n            onError={(e) => {\r\n              console.error('Image failed to load:', e.target.src);\r\n              // Hide broken image and show fallback\r\n              e.target.style.display = 'none';\r\n              e.target.nextSibling.style.display = 'flex';\r\n            }}\r\n          />\r\n        ) : null}\r\n        <div\r\n          style={{\r\n            width: '150px',\r\n            height: '150px',\r\n            borderRadius: '50%',\r\n            backgroundColor: '#f0f0f0',\r\n            display: profile.profilePicture ? 'none' : 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            border: '3px solid #ccc',\r\n            margin: '0 auto'\r\n          }}\r\n        >\r\n          <span style={{ fontSize: '48px', color: '#666' }}></span>\r\n        </div>\r\n        <div style={{ marginTop: '10px' }}>\r\n          <a href=\"/staff/upload-photo\" style={{ color: '#007bff', textDecoration: 'none' }}>\r\n            {profile.profilePicture ? 'Change Photo' : 'Upload Photo'}\r\n          </a>\r\n        </div>\r\n      </div>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <label>Staff ID:</label>\r\n          <input type=\"text\" name=\"staffId\" value={profile.staffId || profile._id} disabled />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Name:</label>\r\n          <input type=\"text\" name=\"name\" value={profile.name} onChange={handleChange} disabled={!editing} required />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Designation:</label>\r\n          <input type=\"text\" name=\"designation\" value={profile.designation} onChange={handleChange} disabled={!editing} required />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Department:</label>\r\n          <input type=\"text\" name=\"department\" value={profile.department} onChange={handleChange} disabled={!editing} required />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Qualifications:</label>\r\n          <textarea name=\"qualifications\" value={profile.qualifications} onChange={handleChange} disabled={!editing} />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Joining Date:</label>\r\n          <input type=\"date\" name=\"joiningDate\" value={formatDateForInput(profile.joiningDate)} onChange={handleChange} disabled={!editing} required />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Email:</label>\r\n          <input type=\"email\" name=\"email\" value={profile.email} onChange={handleChange} disabled={!editing} required />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Phone:</label>\r\n          <input type=\"tel\" name=\"phone\" value={profile.phone} onChange={handleChange} disabled={!editing} />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Address:</label>\r\n          <textarea name=\"address\" value={profile.address} onChange={handleChange} disabled={!editing} />\r\n        </div>\r\n        <button type=\"button\" onClick={() => setEditing(!editing)}>\r\n          {editing ? 'Cancel' : 'Edit Profile'}\r\n        </button>\r\n        {editing && <button type=\"submit\">Save Changes</button>}\r\n      </form>\r\n      <div className=\"profile-actions\">\r\n        <a href=\"/staff/upload-photo\">Upload Photo</a>\r\n        {/* Link to contact info update if separate */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst CreateAssignment = () => {\r\n  const [classes, setClasses] = useState([]);\r\n  const [formData, setFormData] = useState({\r\n    class: '',\r\n    subject: '',\r\n    title: '',\r\n    description: '',\r\n    dueDate: ''\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchClasses();\r\n  }, []);\r\n\r\n  const fetchClasses = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const res = await axios.get('/api/staff/assigned-classes', config);\r\n      setClasses(res.data.map(c => c.class));\r\n    } catch (error) {\r\n      console.error('Error fetching classes:', error);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      await axios.post('/api/staff/work/assign', formData, config);\r\n      setMessage('Assignment created successfully');\r\n      setFormData({ class: '', subject: '', title: '', description: '', dueDate: '' });\r\n    } catch (error) {\r\n      setMessage('Failed to create assignment');\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"create-assignment\">\r\n      <h1>Create Assignment</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <label>Class:</label>\r\n          <select name=\"class\" value={formData.class} onChange={handleChange} required>\r\n            <option value=\"\">Select Class</option>\r\n            {classes.map(cls => <option key={cls} value={cls}>{cls}</option>)}\r\n          </select>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Subject:</label>\r\n          <select name=\"subject\" value={formData.subject} onChange={handleChange} required>\r\n            <option value=\"\">Select Subject</option>\r\n            {/* Placeholder subjects; fetch dynamically if needed */}\r\n            <option value=\"Math\">Math</option>\r\n            <option value=\"Science\">Science</option>\r\n            <option value=\"English\">English</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Title:</label>\r\n          <input type=\"text\" name=\"title\" value={formData.title} onChange={handleChange} required />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Description:</label>\r\n          <textarea name=\"description\" value={formData.description} onChange={handleChange} required />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Due Date:</label>\r\n          <input type=\"date\" name=\"dueDate\" value={formData.dueDate} onChange={handleChange} required />\r\n        </div>\r\n        <button type=\"submit\" disabled={loading}>Create Assignment</button>\r\n      </form>\r\n      {message && <div className=\"message\">{message}</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateAssignment;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst ViewAssignments = () => {\r\n  const [assignments, setAssignments] = useState([]);\r\n  const [selectedAssignment, setSelectedAssignment] = useState(null);\r\n  const [submissions, setSubmissions] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchAssignments();\r\n  }, []);\r\n\r\n  const fetchAssignments = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const res = await axios.get('/api/staff/assignments', config);\r\n      setAssignments(res.data);\r\n    } catch (error) {\r\n      console.error('Error fetching assignments:', error);\r\n    }\r\n  };\r\n\r\n  const fetchSubmissions = async (assignmentId) => {\r\n    setLoading(true);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const res = await axios.get(`/api/staff/assignments/${assignmentId}/submissions`, config);\r\n      setSubmissions(res.data);\r\n      setSelectedAssignment(assignmentId);\r\n    } catch (error) {\r\n      console.error('Error fetching submissions:', error);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const updateGrade = async (submissionId, grade) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      await axios.put(`/api/staff/submissions/${submissionId}/grade`, { grade }, config);\r\n      fetchSubmissions(selectedAssignment); // Refresh\r\n    } catch (error) {\r\n      console.error('Error updating grade:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"view-assignments\">\r\n      <h1>View Assignments</h1>\r\n      <div className=\"assignments-list\">\r\n        <h2>Your Assignments</h2>\r\n        {assignments.map(assignment => (\r\n          <div key={assignment._id} className=\"assignment-item\">\r\n            <h3>{assignment.title} - {assignment.class} ({assignment.subject})</h3>\r\n            <p>Due: {new Date(assignment.dueDate).toLocaleDateString()}</p>\r\n            <button onClick={() => fetchSubmissions(assignment._id)}>View Submissions</button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      {selectedAssignment && (\r\n        <div className=\"submissions\">\r\n          <h2>Submissions</h2>\r\n          {loading ? (\r\n            <div>Loading...</div>\r\n          ) : (\r\n            <table>\r\n              <thead>\r\n                <tr>\r\n                  <th>Student</th>\r\n                  <th>Status</th>\r\n                  <th>Submitted At</th>\r\n                  <th>Grade</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {submissions.map(sub => (\r\n                  <tr key={sub._id}>\r\n                    <td>{sub.studentName}</td>\r\n                    <td>{sub.status}</td>\r\n                    <td>{sub.submittedAt ? new Date(sub.submittedAt).toLocaleDateString() : 'N/A'}</td>\r\n                    <td>\r\n                      <input\r\n                        type=\"text\"\r\n                        value={sub.grade}\r\n                        onChange={(e) => updateGrade(sub._id, e.target.value)}\r\n                        placeholder=\"Enter grade\"\r\n                      />\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewAssignments;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Circulars = () => {\r\n  const [circulars, setCirculars] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchCirculars();\r\n  }, []);\r\n\r\n  const fetchCirculars = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const res = await axios.get('/api/staff/circulars', config);\r\n      setCirculars(res.data);\r\n    } catch (error) {\r\n      console.error('Error fetching circulars:', error);\r\n    }\r\n  };\r\n\r\n  const downloadCircular = (url, title) => {\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = title;\r\n    a.click();\r\n  };\r\n\r\n  return (\r\n    <div className=\"circulars\">\r\n      <h1>Circulars / Notices</h1>\r\n      {loading ? (\r\n        <div>Loading...</div>\r\n      ) : (\r\n        <ul>\r\n          {circulars.map(circular => (\r\n            <li key={circular._id}>\r\n              <h3>{circular.title}</h3>\r\n              <p>{circular.description}</p>\r\n              <p><small>{new Date(circular.date).toLocaleDateString()}</small></p>\r\n              {circular.fileUrl && (\r\n                <button onClick={() => downloadCircular(circular.fileUrl, circular.title)}>Download</button>\r\n              )}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Circulars;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './MarkAttendance.css';\r\n\r\nconst MarkAttendance = () => {\r\n  const [courses, setCourses] = useState([]);\r\n  const [semesters, setSemesters] = useState([]);\r\n  const [subjects, setSubjects] = useState([]);\r\n  const [students, setStudents] = useState([]);\r\n  const [attendance, setAttendance] = useState({});\r\n  const [filters, setFilters] = useState({\r\n    course: '',\r\n    semester: '',\r\n    subject: '',\r\n    date: new Date().toISOString().split('T')[0], // Default to today\r\n  });\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [markAllPresent, setMarkAllPresent] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n\r\n  // Fetch courses on mount\r\n  useEffect(() => {\r\n    fetchCourses();\r\n  }, []);\r\n\r\n  // Fetch semesters when course changes\r\n  useEffect(() => {\r\n    if (filters.course) {\r\n      fetchSemesters(filters.course);\r\n    } else {\r\n      setSemesters([]);\r\n      setSubjects([]);\r\n      setStudents([]);\r\n    }\r\n  }, [filters.course]);\r\n\r\n  // Fetch subjects when semester changes\r\n  useEffect(() => {\r\n    if (filters.semester) {\r\n      fetchSubjects(filters.course, filters.semester);\r\n    } else {\r\n      setSubjects([]);\r\n      setStudents([]);\r\n    }\r\n  }, [filters.course, filters.semester]);\r\n\r\n  // Fetch students when subject changes\r\n  useEffect(() => {\r\n    if (filters.subject) {\r\n      fetchStudents(filters.course, filters.semester, filters.subject);\r\n    } else {\r\n      setStudents([]);\r\n    }\r\n  }, [filters.course, filters.semester, filters.subject]);\r\n\r\n  // Update attendance when students change or markAllPresent toggles\r\n  useEffect(() => {\r\n    if (students.length > 0) {\r\n      const initialAttendance = {};\r\n      students.forEach(student => {\r\n        initialAttendance[student.rollNo] = {\r\n          status: markAllPresent ? 'Present' : 'Absent',\r\n          remarks: '',\r\n        };\r\n      });\r\n      setAttendance(initialAttendance);\r\n    }\r\n  }, [students, markAllPresent]);\r\n\r\n  const fetchCourses = async () => {\r\n    try {\r\n      console.log('Fetching courses...');\r\n      const response = await axios.get('/api/courses');\r\n      console.log('Courses response:', response.data);\r\n      setCourses(response.data);\r\n    } catch (err) {\r\n      console.error('Error fetching courses:', err);\r\n      // Mock data for demonstration\r\n      setCourses([\r\n        { id: 1, name: 'BA' },\r\n        { id: 2, name: 'BSc' },\r\n        { id: 3, name: 'B.Ed' }\r\n      ]);\r\n      setError('');\r\n    }\r\n  };\r\n\r\n  const fetchSemesters = async (course) => {\r\n    try {\r\n      console.log('Fetching semesters for course:', course);\r\n      const response = await axios.get(`/api/semesters?course=${course}`);\r\n      console.log('Semesters response:', response.data);\r\n      setSemesters(response.data);\r\n    } catch (err) {\r\n      console.error('Error fetching semesters:', err);\r\n      // Mock data for demonstration\r\n      setSemesters([\r\n        { id: 1, name: 'Semester 1' },\r\n        { id: 2, name: 'Semester 2' },\r\n        { id: 3, name: 'Semester 3' }\r\n      ]);\r\n      setError('');\r\n    }\r\n  };\r\n\r\n  const fetchSubjects = async (course, semester) => {\r\n    try {\r\n      console.log('Fetching subjects for course:', course, 'semester:', semester);\r\n      const response = await axios.get(`/api/subjects?course=${course}&semester=${semester}`);\r\n      console.log('Subjects response:', response.data);\r\n      setSubjects(response.data);\r\n    } catch (err) {\r\n      console.error('Error fetching subjects:', err);\r\n      // Mock data for demonstration\r\n      setSubjects([\r\n        { id: 1, name: 'Subject 1' },\r\n        { id: 2, name: 'Subject 2' },\r\n        { id: 3, name: 'Subject 3' }\r\n      ]);\r\n      setError('');\r\n    }\r\n  };\r\n\r\n  const fetchStudents = async (course, semester, subject) => {\r\n    try {\r\n      console.log('Fetching students for course:', course, 'semester:', semester, 'subject:', subject);\r\n      const response = await axios.get(`/api/students?course=${course}&semester=${semester}&subject=${subject}`);\r\n      console.log('Students response:', response.data);\r\n      setStudents(response.data);\r\n    } catch (err) {\r\n      console.error('Error fetching students:', err);\r\n      // Mock data for demonstration\r\n      setStudents([\r\n        { rollNo: '101', name: 'Student A' },\r\n        { rollNo: '102', name: 'Student B' },\r\n        { rollNo: '103', name: 'Student C' }\r\n      ]);\r\n      setError('');\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFilters(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleAttendanceChange = (rollNo, field, value) => {\r\n    setAttendance(prev => ({\r\n      ...prev,\r\n      [rollNo]: { ...prev[rollNo], [field]: value }\r\n    }));\r\n  };\r\n\r\n  const filteredStudents = students.filter(student =>\r\n    student.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    student.rollNo.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  const handleSubmit = async () => {\r\n    if (!filters.course || !filters.semester || !filters.subject || !filters.date) {\r\n      setError('Please select all filters');\r\n      return;\r\n    }\r\n    const markedStudents = Object.keys(attendance).filter(rollNo => attendance[rollNo].status !== 'Absent');\r\n    if (markedStudents.length === 0) {\r\n      setError('Please mark attendance for at least one student');\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    setError('');\r\n    setSuccess('');\r\n    try {\r\n      const payload = {\r\n        course: filters.course,\r\n        semester: filters.semester,\r\n        subject: filters.subject,\r\n        date: filters.date,\r\n        attendance: attendance,\r\n      };\r\n      await axios.post('/api/attendance', payload);\r\n      setSuccess('Attendance marked successfully');\r\n    } catch (err) {\r\n      setError('Failed to save attendance');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"mark-attendance\">\r\n      <h1>Mark Student Attendance</h1>\r\n      {error && <div className=\"error\">{error}</div>}\r\n      {success && <div className=\"success\">{success}</div>}\r\n\r\n      {/* Filter Panel */}\r\n      <div className=\"filter-panel\">\r\n        <div className=\"filter-group\">\r\n          <label htmlFor=\"attendance-course-select\">Course</label>\r\n          <select\r\n            id=\"attendance-course-select\"\r\n            name=\"course\"\r\n            value={filters.course}\r\n            onChange={handleFilterChange}\r\n          >\r\n            <option value=\"\">Select Course</option>\r\n            {courses.map(course => (\r\n              <option key={course.id} value={course.name}>{course.name}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div className=\"filter-group\">\r\n          <label htmlFor=\"attendance-semester-select\">Semester</label>\r\n          <select\r\n            id=\"attendance-semester-select\"\r\n            name=\"semester\"\r\n            value={filters.semester}\r\n            onChange={handleFilterChange}\r\n            disabled={!filters.course}\r\n          >\r\n            <option value=\"\">Select Semester</option>\r\n            {semesters.map(sem => (\r\n              <option key={sem.id} value={sem.name}>{sem.name}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div className=\"filter-group\">\r\n          <label htmlFor=\"attendance-subject-select\">Subject</label>\r\n          <select\r\n            id=\"attendance-subject-select\"\r\n            name=\"subject\"\r\n            value={filters.subject}\r\n            onChange={handleFilterChange}\r\n            disabled={!filters.semester}\r\n          >\r\n            <option value=\"\">Select Subject</option>\r\n            {subjects.map(sub => (\r\n              <option key={sub.id} value={sub.name}>{sub.name}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div className=\"filter-group\">\r\n          <label htmlFor=\"attendance-date-select\">Date</label>\r\n          <input\r\n            id=\"attendance-date-select\"\r\n            type=\"date\"\r\n            name=\"date\"\r\n            value={filters.date}\r\n            onChange={handleFilterChange}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Student Attendance Table */}\r\n      {students.length > 0 && (\r\n        <>\r\n          <div className=\"table-controls\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search by name or roll no\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n            />\r\n            <label>\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={markAllPresent}\r\n                onChange={(e) => setMarkAllPresent(e.target.checked)}\r\n              />\r\n              Mark All Present\r\n            </label>\r\n          </div>\r\n          <table className=\"attendance-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Roll No</th>\r\n                <th>Student Name</th>\r\n                <th>Status</th>\r\n                <th>Remarks</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {filteredStudents.map(student => (\r\n                <tr key={student.rollNo}>\r\n                  <td>{student.rollNo}</td>\r\n                  <td>{student.name}</td>\r\n                  <td>\r\n                    <select\r\n                      value={attendance[student.rollNo]?.status || 'Absent'}\r\n                      onChange={(e) => handleAttendanceChange(student.rollNo, 'status', e.target.value)}\r\n                    >\r\n                      <option value=\"Present\">Present</option>\r\n                      <option value=\"Absent\">Absent</option>\r\n                      <option value=\"Leave\">Leave</option>\r\n                    </select>\r\n                  </td>\r\n                  <td>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={attendance[student.rollNo]?.remarks || ''}\r\n                      onChange={(e) => handleAttendanceChange(student.rollNo, 'remarks', e.target.value)}\r\n                      placeholder=\"Optional remarks\"\r\n                    />\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n          <button onClick={handleSubmit} disabled={loading}>\r\n            {loading ? 'Submitting...' : 'Submit Attendance'}\r\n          </button>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MarkAttendance;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport jsPDF from 'jspdf';\r\nimport 'jspdf-autotable';\r\nimport './AttendanceReport.css';\r\n\r\nconst AttendanceReport = () => {\r\n  const [courses, setCourses] = useState([]);\r\n  const [semesters, setSemesters] = useState([]);\r\n  const [attendanceData, setAttendanceData] = useState([]);\r\n  const [summary, setSummary] = useState({\r\n    totalDays: 0,\r\n    present: 0,\r\n    absent: 0,\r\n    leave: 0,\r\n    percentage: 0,\r\n  });\r\n  const [filters, setFilters] = useState({\r\n    course: '',\r\n    semester: '',\r\n    dateFrom: '',\r\n    dateTo: '',\r\n    student: '',\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [viewMode, setViewMode] = useState('table'); // table or chart\r\n\r\n  // Fetch courses on mount\r\n  useEffect(() => {\r\n    fetchCourses();\r\n  }, []);\r\n\r\n  // Fetch semesters when course changes\r\n  useEffect(() => {\r\n    if (filters.course) {\r\n      fetchSemesters(filters.course);\r\n    } else {\r\n      setSemesters([]);\r\n    }\r\n  }, [filters.course]);\r\n\r\n  // Fetch attendance when filters change\r\n  useEffect(() => {\r\n    const fetchAttendance = async () => {\r\n      setLoading(true);\r\n      setError('');\r\n      try {\r\n        const params = new URLSearchParams({\r\n          course: filters.course,\r\n          semester: filters.semester,\r\n          dateFrom: filters.dateFrom,\r\n          dateTo: filters.dateTo,\r\n          student: filters.student,\r\n        });\r\n        const response = await axios.get(`/api/attendance?${params}`);\r\n        setAttendanceData(response.data.records);\r\n        setSummary(response.data.summary);\r\n      } catch (err) {\r\n        setError('Failed to fetch attendance data');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (filters.course && filters.semester && filters.dateFrom && filters.dateTo) {\r\n      fetchAttendance();\r\n    } else {\r\n      setAttendanceData([]);\r\n      setSummary({ totalDays: 0, present: 0, absent: 0, leave: 0, percentage: 0 });\r\n    }\r\n  }, [filters]);\r\n\r\n  const fetchCourses = async () => {\r\n    try {\r\n      const response = await axios.get('/api/courses');\r\n      setCourses(response.data);\r\n    } catch (err) {\r\n      setError('Failed to fetch courses');\r\n    }\r\n  };\r\n\r\n  const fetchSemesters = async (course) => {\r\n    try {\r\n      const response = await axios.get(`/api/semesters?course=${course}`);\r\n      setSemesters(response.data);\r\n    } catch (err) {\r\n      setError('Failed to fetch semesters');\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFilters(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const exportToPDF = () => {\r\n    const doc = new jsPDF();\r\n    doc.text('Attendance Report', 20, 10);\r\n    doc.autoTable({\r\n      head: [['Date', 'Subject', 'Status', 'Remarks']],\r\n      body: attendanceData.map(record => [record.date, record.subject || '', record.status, record.remarks || '']),\r\n    });\r\n    doc.save('attendance-report.pdf');\r\n  };\r\n\r\n  const exportToCSV = () => {\r\n    const csvContent = 'data:text/csv;charset=utf-8,' +\r\n      'Date,Subject,Status,Remarks\\n' +\r\n      attendanceData.map(record => `${record.date},${record.subject || ''},${record.status},${record.remarks || ''}`).join('\\n');\r\n    const encodedUri = encodeURI(csvContent);\r\n    const link = document.createElement('a');\r\n    link.setAttribute('href', encodedUri);\r\n    link.setAttribute('download', 'attendance-report.csv');\r\n    document.body.appendChild(link);\r\n    link.click();\r\n  };\r\n\r\n  const getPercentageColor = (percentage) => {\r\n    if (percentage >= 90) return 'green';\r\n    if (percentage >= 75) return 'orange';\r\n    return 'red';\r\n  };\r\n\r\n  return (\r\n    <div className=\"attendance-report\">\r\n      <h1>View Attendance Summary</h1>\r\n      {error && <div className=\"error\">{error}</div>}\r\n\r\n      {/* Filter Panel */}\r\n      <div className=\"filter-panel\">\r\n        <div className=\"filter-group\">\r\n          <label htmlFor=\"summary-course-select\">Course</label>\r\n          <select\r\n            id=\"summary-course-select\"\r\n            name=\"course\"\r\n            value={filters.course}\r\n            onChange={handleFilterChange}\r\n          >\r\n            <option value=\"\">Select Course</option>\r\n            {courses.map(course => (\r\n              <option key={course.id} value={course.name}>{course.name}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div className=\"filter-group\">\r\n          <label htmlFor=\"summary-semester-select\">Semester</label>\r\n          <select\r\n            id=\"summary-semester-select\"\r\n            name=\"semester\"\r\n            value={filters.semester}\r\n            onChange={handleFilterChange}\r\n            disabled={!filters.course}\r\n          >\r\n            <option value=\"\">Select Semester</option>\r\n            {semesters.map(sem => (\r\n              <option key={sem.id} value={sem.name}>{sem.name}</option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div className=\"filter-group\">\r\n          <label htmlFor=\"summary-date-from\">Date From</label>\r\n          <input\r\n            id=\"summary-date-from\"\r\n            type=\"date\"\r\n            name=\"dateFrom\"\r\n            value={filters.dateFrom}\r\n            onChange={handleFilterChange}\r\n          />\r\n        </div>\r\n        <div className=\"filter-group\">\r\n          <label htmlFor=\"summary-date-to\">Date To</label>\r\n          <input\r\n            id=\"summary-date-to\"\r\n            type=\"date\"\r\n            name=\"dateTo\"\r\n            value={filters.dateTo}\r\n            onChange={handleFilterChange}\r\n          />\r\n        </div>\r\n        <div className=\"filter-group\">\r\n          <label htmlFor=\"summary-student-search\">Student Name/ID</label>\r\n          <input\r\n            id=\"summary-student-search\"\r\n            type=\"text\"\r\n            name=\"student\"\r\n            value={filters.student}\r\n            onChange={handleFilterChange}\r\n            placeholder=\"Optional\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Attendance Summary */}\r\n      {attendanceData.length > 0 && (\r\n        <>\r\n          <div className=\"summary-section\">\r\n            <h2>Attendance Summary</h2>\r\n            <div className=\"summary-stats\">\r\n              <div>Total Working Days: {summary.totalDays}</div>\r\n              <div>Days Present: {summary.present}</div>\r\n              <div>Days Absent: {summary.absent}</div>\r\n              <div>Days on Leave: {summary.leave}</div>\r\n              <div style={{ color: getPercentageColor(summary.percentage) }}>\r\n                Attendance %: {summary.percentage.toFixed(2)}%\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* View Toggle */}\r\n          <div className=\"view-toggle\">\r\n            <button onClick={() => setViewMode('table')} className={viewMode === 'table' ? 'active' : ''}>Table View</button>\r\n            <button onClick={() => setViewMode('chart')} className={viewMode === 'chart' ? 'active' : ''}>Chart View</button>\r\n          </div>\r\n\r\n          {/* Table View */}\r\n          {viewMode === 'table' && (\r\n            <table className=\"attendance-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Date</th>\r\n                  <th>Subject</th>\r\n                  <th>Status</th>\r\n                  <th>Remarks</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {attendanceData.map((record, index) => (\r\n                  <tr key={index}>\r\n                    <td>{record.date}</td>\r\n                    <td>{record.subject || ''}</td>\r\n                    <td className={`status-${record.status.toLowerCase()}`}>{record.status}</td>\r\n                    <td>{record.remarks || ''}</td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          )}\r\n\r\n          {/* Chart View Placeholder */}\r\n          {viewMode === 'chart' && (\r\n            <div className=\"chart-placeholder\">\r\n              <p>Chart view not implemented yet. Placeholder for Chart.js integration.</p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Export Buttons */}\r\n          <div className=\"export-buttons\">\r\n            <button onClick={exportToPDF}>Export to PDF</button>\r\n            <button onClick={exportToCSV}>Export to CSV</button>\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {loading && <div className=\"loading\">Loading...</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AttendanceReport;\r\n","import React, { useState, useEffect } from 'react';\r\nimport ReactQuill from 'react-quill';\r\nimport 'react-quill/dist/quill.snow.css';\r\nimport Select from 'react-select';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst Messaging = () => {\r\n\r\n  const [subject, setSubject] = useState('');\r\n  const [body, setBody] = useState('');\r\n  const [courses, setCourses] = useState([]);\r\n  const [semesters, setSemesters] = useState([]);\r\n  const [sections, setSections] = useState([]);\r\n  const [students, setStudents] = useState([]);\r\n  const [selectedCourse, setSelectedCourse] = useState(null);\r\n  const [selectedSemester, setSelectedSemester] = useState(null);\r\n  const [selectedSection, setSelectedSection] = useState(null);\r\n  const [selectedStudents, setSelectedStudents] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchCourses();\r\n  }, []);\r\n\r\n  // Removed fetchMessages as per spec - staff only send, no view sent messages here\r\n\r\n  const fetchCourses = async () => {\r\n    // Mock data for demonstration\r\n    const mockCourses = [\r\n      { _id: '1', name: 'Computer Science' },\r\n      { _id: '2', name: 'Mechanical Engineering' },\r\n      { _id: '3', name: 'Electrical Engineering' }\r\n    ];\r\n    setCourses(mockCourses.map(course => ({ value: course._id, label: course.name })));\r\n    // Uncomment below for real API call\r\n    // try {\r\n    //   const token = localStorage.getItem('token');\r\n    //   const config = { headers: { Authorization: `Bearer ${token}` } };\r\n    //   const res = await axios.get('/api/courses', config);\r\n    //   setCourses(res.data.map(course => ({ value: course._id, label: course.name })));\r\n    // } catch (error) {\r\n    //   console.error('Error fetching courses:', error);\r\n    // }\r\n  };\r\n\r\n  const fetchSemesters = async (courseId) => {\r\n    // Mock data for demonstration\r\n    const mockSemesters = [\r\n      { _id: '1', name: 'Semester 1' },\r\n      { _id: '2', name: 'Semester 2' },\r\n      { _id: '3', name: 'Semester 3' }\r\n    ];\r\n    setSemesters(mockSemesters.map(sem => ({ value: sem._id, label: sem.name })));\r\n    // Uncomment below for real API call\r\n    // try {\r\n    //   const token = localStorage.getItem('token');\r\n    //   const config = { headers: { Authorization: `Bearer ${token}` } };\r\n    //   const res = await axios.get(`/api/courses/${courseId}/semesters`, config);\r\n    //   setSemesters(res.data.map(sem => ({ value: sem._id, label: sem.name })));\r\n    // } catch (error) {\r\n    //   console.error('Error fetching semesters:', error);\r\n    // }\r\n  };\r\n\r\n  const fetchSections = async (semesterId) => {\r\n    // Mock data for demonstration\r\n    const mockSections = [\r\n      { _id: '1', name: 'Section A' },\r\n      { _id: '2', name: 'Section B' },\r\n      { _id: '3', name: 'Section C' }\r\n    ];\r\n    setSections(mockSections.map(sec => ({ value: sec._id, label: sec.name })));\r\n    // Uncomment below for real API call\r\n    // try {\r\n    //   const token = localStorage.getItem('token');\r\n    //   const config = { headers: { Authorization: `Bearer ${token}` } };\r\n    //   const res = await axios.get(`/api/semesters/${semesterId}/sections`, config);\r\n    //   setSections(res.data.map(sec => ({ value: sec._id, label: sec.name })));\r\n    // } catch (error) {\r\n    //   console.error('Error fetching sections:', error);\r\n    // }\r\n  };\r\n\r\n  const fetchStudents = async (sectionId) => {\r\n    // Mock data for demonstration\r\n    const mockStudents = [\r\n      { _id: '1', name: 'John Doe' },\r\n      { _id: '2', name: 'Jane Smith' },\r\n      { _id: '3', name: 'Bob Johnson' },\r\n      { _id: '4', name: 'Alice Brown' }\r\n    ];\r\n    setStudents(mockStudents.map(stu => ({ value: stu._id, label: stu.name })));\r\n    // Uncomment below for real API call\r\n    // try {\r\n    //   const token = localStorage.getItem('token');\r\n    //   const config = { headers: { Authorization: `Bearer ${token}` } };\r\n    //   const res = await axios.get(`/api/sections/${sectionId}/students`, config);\r\n    //   setStudents(res.data.map(stu => ({ value: stu._id, label: stu.name })));\r\n    // } catch (error) {\r\n    //   console.error('Error fetching students:', error);\r\n    // }\r\n  };\r\n\r\n  const handleCourseChange = (selectedOption) => {\r\n    setSelectedCourse(selectedOption);\r\n    setSelectedSemester(null);\r\n    setSelectedSection(null);\r\n    setSelectedStudents([]);\r\n    setSemesters([]);\r\n    setSections([]);\r\n    setStudents([]);\r\n    if (selectedOption) {\r\n      fetchSemesters(selectedOption.value);\r\n    }\r\n  };\r\n\r\n  const handleSemesterChange = (selectedOption) => {\r\n    setSelectedSemester(selectedOption);\r\n    setSelectedSection(null);\r\n    setSelectedStudents([]);\r\n    setSections([]);\r\n    setStudents([]);\r\n    if (selectedOption) {\r\n      fetchSections(selectedOption.value);\r\n    }\r\n  };\r\n\r\n  const handleSectionChange = (selectedOption) => {\r\n    setSelectedSection(selectedOption);\r\n    setSelectedStudents([]);\r\n    setStudents([]);\r\n    if (selectedOption) {\r\n      fetchStudents(selectedOption.value);\r\n    }\r\n  };\r\n\r\n  const handleStudentChange = (selectedOptions) => {\r\n    setSelectedStudents(selectedOptions);\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setSubject('');\r\n    setBody('');\r\n    setSelectedCourse(null);\r\n    setSelectedSemester(null);\r\n    setSelectedSection(null);\r\n    setSelectedStudents([]);\r\n    setSemesters([]);\r\n    setSections([]);\r\n    setStudents([]);\r\n  };\r\n\r\n  const sendMessage = async () => {\r\n    if (!subject.trim() || !body.trim() || selectedStudents.length === 0) {\r\n      toast.error('Please fill all required fields and select at least one student.');\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    // Mock send message for demonstration\r\n    setTimeout(() => {\r\n      toast.success('Message sent successfully! (Mock)');\r\n      resetForm();\r\n      setLoading(false);\r\n    }, 1000);\r\n    // Uncomment below for real API call\r\n    // try {\r\n    //   const token = localStorage.getItem('token');\r\n    //   const config = { headers: { Authorization: `Bearer ${token}` } };\r\n    //   const recipientIds = selectedStudents.map(stu => stu.value);\r\n    //   await axios.post('/api/message', {\r\n    //     sender_id: 'current_user_id', // Assuming current user ID is available\r\n    //     recipient_ids: recipientIds,\r\n    //     subject,\r\n    //     body,\r\n    //     timestamp: new Date().toISOString(),\r\n    //     status: 'sent'\r\n    //   }, config);\r\n    //   toast.success('Message sent successfully!');\r\n    //   resetForm();\r\n    // } catch (error) {\r\n    //   console.error('Error sending message:', error);\r\n    //   toast.error('Failed to send message.');\r\n    // }\r\n    // setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"messaging\">\r\n      <h1>Messaging</h1>\r\n      <div className=\"send-message\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Subject (max 100 chars)\"\r\n          value={subject}\r\n          onChange={(e) => setSubject(e.target.value.slice(0, 100))}\r\n          maxLength=\"100\"\r\n          required\r\n        />\r\n        <ReactQuill\r\n          value={body}\r\n          onChange={setBody}\r\n          placeholder=\"Message Body (max 5000 chars)\"\r\n          modules={{\r\n            toolbar: [\r\n              [{ 'header': [1, 2, false] }],\r\n              ['bold', 'italic', 'underline', 'strike', 'blockquote'],\r\n              [{'list': 'ordered'}, {'list': 'bullet'}, {'indent': '-1'}, {'indent': '+1'}],\r\n              ['link', 'image'],\r\n              ['clean']\r\n            ],\r\n          }}\r\n          formats={[\r\n            'header', 'bold', 'italic', 'underline', 'strike', 'blockquote',\r\n            'list', 'bullet', 'indent', 'link', 'image'\r\n          ]}\r\n        />\r\n        <div className=\"filters\">\r\n          <Select\r\n            value={selectedCourse}\r\n            onChange={handleCourseChange}\r\n            options={courses}\r\n            placeholder=\"Select Course\"\r\n            isClearable\r\n          />\r\n          <Select\r\n            value={selectedSemester}\r\n            onChange={handleSemesterChange}\r\n            options={semesters}\r\n            placeholder=\"Select Semester\"\r\n            isClearable\r\n            isDisabled={!selectedCourse}\r\n          />\r\n          <Select\r\n            value={selectedSection}\r\n            onChange={handleSectionChange}\r\n            options={sections}\r\n            placeholder=\"Select Section\"\r\n            isClearable\r\n            isDisabled={!selectedSemester}\r\n          />\r\n          <Select\r\n            value={selectedStudents}\r\n            onChange={handleStudentChange}\r\n            options={students}\r\n            placeholder=\"Select Students\"\r\n            isMulti\r\n            isDisabled={!selectedSection}\r\n          />\r\n        </div>\r\n        <div className=\"buttons\">\r\n          <button onClick={sendMessage} disabled={loading || !subject.trim() || !body.trim() || selectedStudents.length === 0}>\r\n            {loading ? 'Sending...' : 'Send'}\r\n          </button>\r\n          <button onClick={resetForm} disabled={loading}>Reset</button>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Messaging;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst ReportCard = () => {\r\n  const [students, setStudents] = useState([]);\r\n  const [selectedStudent, setSelectedStudent] = useState('');\r\n  const [reportCard, setReportCard] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchStudents();\r\n  }, []);\r\n\r\n  const fetchStudents = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const res = await axios.get('/api/staff/students', config); // Assume endpoint for assigned students\r\n      setStudents(res.data);\r\n    } catch (error) {\r\n      console.error('Error fetching students:', error);\r\n    }\r\n  };\r\n\r\n  const generateReportCard = async () => {\r\n    if (!selectedStudent) return;\r\n    setLoading(true);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const res = await axios.get(`/api/staff/report-card/${selectedStudent}`, config);\r\n      setReportCard(res.data);\r\n    } catch (error) {\r\n      console.error('Error generating report card:', error);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"report-card\">\r\n      <h1>Report Card</h1>\r\n      <div className=\"select-student\">\r\n        <select value={selectedStudent} onChange={(e) => setSelectedStudent(e.target.value)}>\r\n          <option value=\"\">Select Student</option>\r\n          {students.map(student => (\r\n            <option key={student._id} value={student._id}>{student.name} - {student.class}</option>\r\n          ))}\r\n        </select>\r\n        <button onClick={generateReportCard} disabled={loading || !selectedStudent}>Generate Report</button>\r\n      </div>\r\n      {loading ? (\r\n        <div>Loading...</div>\r\n      ) : reportCard ? (\r\n        <div className=\"report-details\">\r\n          <h2>Report for {reportCard.studentName}</h2>\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Subject</th>\r\n                <th>Grade</th>\r\n                <th>Attendance %</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {reportCard.subjects.map(subject => (\r\n                <tr key={subject.subject}>\r\n                  <td>{subject.subject}</td>\r\n                  <td>{subject.grade}</td>\r\n                  <td>{subject.attendancePercentage}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n          <p><strong>Overall Grade:</strong> {reportCard.overallGrade}</p>\r\n          <p><strong>Overall Attendance:</strong> {reportCard.overallAttendance}%</p>\r\n        </div>\r\n      ) : (\r\n        <p>Select a student to generate report card.</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReportCard;\r\n","import React, { useState } from 'react';\r\n\r\nconst Settings = () => {\r\n  const [preferences, setPreferences] = useState({\r\n    language: 'English',\r\n    notifications: true,\r\n    theme: 'light'\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    setPreferences(prev => ({\r\n      ...prev,\r\n      [name]: type === 'checkbox' ? checked : value\r\n    }));\r\n  };\r\n\r\n  const savePreferences = () => {\r\n    // Save to localStorage or API\r\n    localStorage.setItem('preferences', JSON.stringify(preferences));\r\n    alert('Preferences saved!');\r\n  };\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem('token');\r\n    window.location.href = '/login';\r\n  };\r\n\r\n  return (\r\n    <div className=\"settings\">\r\n      <h1>Settings</h1>\r\n      <div className=\"preferences\">\r\n        <h2>Preferences</h2>\r\n        <label>\r\n          Language:\r\n          <select name=\"language\" value={preferences.language} onChange={handleChange}>\r\n            <option value=\"English\">English</option>\r\n            <option value=\"Hindi\">Hindi</option>\r\n          </select>\r\n        </label>\r\n        <label>\r\n          Notifications:\r\n          <input\r\n            type=\"checkbox\"\r\n            name=\"notifications\"\r\n            checked={preferences.notifications}\r\n            onChange={handleChange}\r\n          />\r\n        </label>\r\n        <label>\r\n          Theme:\r\n          <select name=\"theme\" value={preferences.theme} onChange={handleChange}>\r\n            <option value=\"light\">Light</option>\r\n            <option value=\"dark\">Dark</option>\r\n          </select>\r\n        </label>\r\n        <button onClick={savePreferences}>Save Preferences</button>\r\n      </div>\r\n      <div className=\"logout\">\r\n        <button onClick={logout}>Logout</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst LeaveManagement = () => {\r\n  const [leaves, setLeaves] = useState([]);\r\n  const [formData, setFormData] = useState({\r\n    type: 'sick',\r\n    startDate: '',\r\n    endDate: '',\r\n    reason: ''\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchLeaves();\r\n  }, []);\r\n\r\n  const fetchLeaves = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const res = await axios.get('/api/staff/leaves', config);\r\n      setLeaves(res.data);\r\n    } catch (error) {\r\n      console.error('Error fetching leaves:', error);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const start = new Date(formData.startDate);\r\n      const end = new Date(formData.endDate);\r\n      const days = Math.ceil((end - start) / (1000 * 60 * 60 * 24)) + 1;\r\n      await axios.post('/api/staff/leave/apply', {\r\n        ...formData,\r\n        days\r\n      }, config);\r\n      setMessage('Leave applied successfully');\r\n      setFormData({ type: 'sick', startDate: '', endDate: '', reason: '' });\r\n      fetchLeaves(); // Refresh list\r\n    } catch (error) {\r\n      setMessage('Failed to apply leave');\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"leave-management\">\r\n      <h1>Leave Management</h1>\r\n      <div className=\"apply-leave\">\r\n        <h2>Apply for Leave</h2>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <label>Type:</label>\r\n            <select name=\"type\" value={formData.type} onChange={handleChange} required>\r\n              <option value=\"sick\">Sick</option>\r\n              <option value=\"casual\">Casual</option>\r\n              <option value=\"earned\">Earned</option>\r\n              <option value=\"maternity\">Maternity</option>\r\n              <option value=\"other\">Other</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Start Date:</label>\r\n            <input type=\"date\" name=\"startDate\" value={formData.startDate} onChange={handleChange} required />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>End Date:</label>\r\n            <input type=\"date\" name=\"endDate\" value={formData.endDate} onChange={handleChange} required />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label>Reason:</label>\r\n            <textarea name=\"reason\" value={formData.reason} onChange={handleChange} required />\r\n          </div>\r\n          <button type=\"submit\" disabled={loading}>Apply Leave</button>\r\n        </form>\r\n        {message && <div className=\"message\">{message}</div>}\r\n      </div>\r\n      <div className=\"leave-history\">\r\n        <h2>Leave History</h2>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Type</th>\r\n              <th>Start Date</th>\r\n              <th>End Date</th>\r\n              <th>Days</th>\r\n              <th>Status</th>\r\n              <th>Reason</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {leaves.map(leave => (\r\n              <tr key={leave._id}>\r\n                <td>{leave.type}</td>\r\n                <td>{new Date(leave.startDate).toLocaleDateString()}</td>\r\n                <td>{new Date(leave.endDate).toLocaleDateString()}</td>\r\n                <td>{leave.days}</td>\r\n                <td>{leave.status}</td>\r\n                <td>{leave.reason}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LeaveManagement;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Timetable = () => {\r\n  const [timetable, setTimetable] = useState([]);\r\n  const [selectedDay, setSelectedDay] = useState('Monday');\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchTimetable();\r\n  }, [selectedDay]);\r\n\r\n  const fetchTimetable = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const res = await axios.get(`/api/staff/timetable?day=${selectedDay}`, config);\r\n      setTimetable(res.data);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Error fetching timetable:', error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\r\n\r\n  if (loading) {\r\n    return <div>Loading timetable...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"timetable\">\r\n      <h1>Timetable</h1>\r\n      <div className=\"day-selector\">\r\n        <label>Select Day:</label>\r\n        <select value={selectedDay} onChange={(e) => setSelectedDay(e.target.value)}>\r\n          {days.map(day => <option key={day} value={day}>{day}</option>)}\r\n        </select>\r\n      </div>\r\n      <div className=\"timetable-view\">\r\n        <h2>{selectedDay}'s Schedule</h2>\r\n        {timetable.length > 0 ? (\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Period</th>\r\n                <th>Class</th>\r\n                <th>Subject</th>\r\n                <th>Time</th>\r\n                <th>Room</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {timetable.map(slot => (\r\n                <tr key={slot._id}>\r\n                  <td>{slot.period}</td>\r\n                  <td>{slot.class}</td>\r\n                  <td>{slot.subject}</td>\r\n                  <td>{slot.time}</td>\r\n                  <td>{slot.room || 'N/A'}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        ) : (\r\n          <p>No classes scheduled for {selectedDay}.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Timetable;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Payroll = () => {\r\n  const [payrolls, setPayrolls] = useState([]);\r\n  const [selectedMonth, setSelectedMonth] = useState(new Date().toISOString().slice(0, 7));\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchPayrolls();\r\n  }, [selectedMonth]);\r\n\r\n  const fetchPayrolls = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      const res = await axios.get(`/api/staff/payroll?month=${selectedMonth}`, config);\r\n      setPayrolls(res.data);\r\n    } catch (error) {\r\n      console.error('Error fetching payroll:', error);\r\n    }\r\n  };\r\n\r\n  const generatePayslip = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const config = { headers: { Authorization: `Bearer ${token}` } };\r\n      await axios.post('/api/staff/payroll/generate', { month: selectedMonth }, config);\r\n      setMessage('Payslip generated successfully');\r\n      fetchPayrolls(); // Refresh\r\n    } catch (error) {\r\n      setMessage('Failed to generate payslip');\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"payroll\">\r\n      <h1>Payroll</h1>\r\n      <div className=\"month-selector\">\r\n        <label>Select Month:</label>\r\n        <input type=\"month\" value={selectedMonth} onChange={(e) => setSelectedMonth(e.target.value)} />\r\n        <button onClick={generatePayslip} disabled={loading}>Generate Payslip</button>\r\n      </div>\r\n      {message && <div className=\"message\">{message}</div>}\r\n      <div className=\"payroll-details\">\r\n        {payrolls.length > 0 ? (\r\n          payrolls.map(payroll => (\r\n            <div key={payroll._id} className=\"payslip\">\r\n              <h3>Payslip for {payroll.month}</h3>\r\n              <p><strong>Base Salary:</strong> {payroll.baseSalary}</p>\r\n              <p><strong>Allowances:</strong></p>\r\n              <ul>\r\n                {payroll.allowances.map((allow, idx) => (\r\n                  <li key={idx}>{allow.type}: {allow.amount}</li>\r\n                ))}\r\n              </ul>\r\n              <p><strong>Deductions:</strong></p>\r\n              <ul>\r\n                {payroll.deductions.map((deduct, idx) => (\r\n                  <li key={idx}>{deduct.type}: {deduct.amount}</li>\r\n                ))}\r\n              </ul>\r\n              <p><strong>Net Salary:</strong> {payroll.netSalary}</p>\r\n              <p><strong>Status:</strong> {payroll.status}</p>\r\n              {payroll.payslipUrl && <a href={payroll.payslipUrl} target=\"_blank\" rel=\"noopener noreferrer\">Download Payslip</a>}\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <p>No payroll data for selected month.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Payroll;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './AssignClass.css';\r\n\r\n// Static JSON data for classes and subjects\r\nconst staticClasses = [\r\n  {\r\n    class_id: \"C101\",\r\n    class_name: \"Physics 101\",\r\n    section: \"A\",\r\n    academic_year: \"2025\"\r\n  },\r\n  {\r\n    class_id: \"C102\",\r\n    class_name: \"Chemistry 101\",\r\n    section: \"B\",\r\n    academic_year: \"2025\"\r\n  },\r\n  {\r\n    class_id: \"C103\",\r\n    class_name: \"Mathematics 101\",\r\n    section: \"A\",\r\n    academic_year: \"2025\"\r\n  }\r\n];\r\n\r\nconst staticSubjects = {\r\n  \"C101\": [\r\n    {\r\n      subject_id: \"S101\",\r\n      subject_name: \"Mechanics\",\r\n      subject_code: \"PHY101\",\r\n      subject_type: \"Theory\",\r\n      semester: \"5\"\r\n    },\r\n    {\r\n      subject_id: \"S102\",\r\n      subject_name: \"Physics Lab\",\r\n      subject_code: \"PHY101L\",\r\n      subject_type: \"Lab\",\r\n      semester: \"5\"\r\n    }\r\n  ],\r\n  \"C102\": [\r\n    {\r\n      subject_id: \"S201\",\r\n      subject_name: \"Organic Chemistry\",\r\n      subject_code: \"CHEM101\",\r\n      subject_type: \"Theory\",\r\n      semester: \"5\"\r\n    }\r\n  ],\r\n  \"C103\": [\r\n    {\r\n      subject_id: \"S301\",\r\n      subject_name: \"Calculus\",\r\n      subject_code: \"MATH101\",\r\n      subject_type: \"Theory\",\r\n      semester: \"5\"\r\n    },\r\n    {\r\n      subject_id: \"S302\",\r\n      subject_name: \"Linear Algebra\",\r\n      subject_code: \"MATH102\",\r\n      subject_type: \"Theory\",\r\n      semester: \"5\"\r\n    }\r\n  ]\r\n};\r\n\r\nconst AssignClass = () => {\r\n  const [classes, setClasses] = useState([]);\r\n  const [selectedClass, setSelectedClass] = useState(null);\r\n  const [subjects, setSubjects] = useState([]);\r\n  const [showPanel, setShowPanel] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Load static classes on component mount\r\n    setClasses(staticClasses);\r\n  }, []);\r\n\r\n  const handleClassClick = (classItem) => {\r\n    setSelectedClass(classItem);\r\n    setSubjects(staticSubjects[classItem.class_id] || []);\r\n    setShowPanel(true);\r\n  };\r\n\r\n  const handleClosePanel = () => {\r\n    setSelectedClass(null);\r\n    setSubjects([]);\r\n    setShowPanel(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"assign-class\">\r\n      <h1>Assigned Classes</h1>\r\n      <table className=\"classes-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Class Name</th>\r\n            <th>Section</th>\r\n            <th>Academic Year</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {classes.length > 0 ? (\r\n            classes.map(cls => (\r\n              <tr key={cls.class_id} onClick={() => handleClassClick(cls)} tabIndex=\"0\" onKeyDown={(e) => e.key === 'Enter' && handleClassClick(cls)}>\r\n                <td>{cls.class_name}</td>\r\n                <td>{cls.section}</td>\r\n                <td>{cls.academic_year}</td>\r\n              </tr>\r\n            ))\r\n          ) : (\r\n            <tr className=\"empty-state\">\r\n              <td colSpan=\"3\">No classes assigned yet</td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n\r\n      {showPanel && selectedClass && (\r\n        <div className=\"subject-panel\">\r\n          <h2>Subjects for {selectedClass.class_name} - Section {selectedClass.section}</h2>\r\n          <table className=\"subjects-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Subject Name</th>\r\n                <th>Code</th>\r\n                <th>Type</th>\r\n                <th>Semester</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {subjects.length > 0 ? (\r\n                subjects.map(sub => (\r\n                  <tr key={sub.subject_id} className={sub.subject_type === 'Theory' ? 'theory-row' : 'lab-row'}>\r\n                    <td>{sub.subject_name}</td>\r\n                    <td>{sub.subject_code}</td>\r\n                    <td>{sub.subject_type}</td>\r\n                    <td>{sub.semester}</td>\r\n                  </tr>\r\n                ))\r\n              ) : (\r\n                <tr className=\"empty-state\">\r\n                  <td colSpan=\"4\">No subjects mapped to this class</td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n          <button className=\"close-btn\" onClick={handleClosePanel}>Close</button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AssignClass;\r\n","import React, { useState, useEffect } from 'react';\r\nimport '../../styles/ViewDocuments.css';\r\n\r\nconst StaffViewDocuments = () => {\r\n  const [documents, setDocuments] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [staffCourse, setStaffCourse] = useState(''); // Will be set from API response\r\n\r\n  useEffect(() => {\r\n    fetchDocuments();\r\n  }, []);\r\n\r\n  const fetchDocuments = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('/api/staff/documents/course', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setDocuments(data.students);\r\n        // Set course from first student if available\r\n        if (data.students.length > 0) {\r\n          setStaffCourse(data.students[0].course);\r\n        }\r\n      } else {\r\n        alert('Failed to fetch documents');\r\n      }\r\n    } catch (error) {\r\n      console.error('Fetch error:', error);\r\n      alert('Failed to fetch documents');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDownload = async (studentId, documentType) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`/api/staff/documents/download/${studentId}/${encodeURIComponent(documentType)}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const blob = await response.blob();\r\n        const url = window.URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.href = url;\r\n        a.download = documentType;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        window.URL.revokeObjectURL(url);\r\n        document.body.removeChild(a);\r\n      } else {\r\n        alert('Download failed');\r\n      }\r\n    } catch (error) {\r\n      console.error('Download error:', error);\r\n      alert('Download failed');\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <div>Loading documents...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"view-documents\">\r\n      <h2>View Student Documents ({staffCourse})</h2>\r\n      {documents.map(student => (\r\n        <div key={student.studentId} className=\"student-documents\">\r\n          <h3>{student.studentName} (ID: {student.studentId}) - Course: {student.course}</h3>\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Document Type</th>\r\n                <th>Status</th>\r\n                <th>Action</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {student.documents.map((doc, index) => (\r\n                <tr key={index}>\r\n                  <td>{doc.type}</td>\r\n                  <td>{doc.status}</td>\r\n                  <td>\r\n                    {doc.fileName ? (\r\n                      <button onClick={() => handleDownload(student.studentId, doc.type)}>Download</button>\r\n                    ) : (\r\n                      <span>Not Uploaded</span>\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StaffViewDocuments;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nconst StaffVerifyDocuments = () => {\r\n  const [documents, setDocuments] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchDocuments();\r\n  }, []);\r\n\r\n  const fetchDocuments = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        setError('No authentication token found');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      const response = await fetch('/api/staff/documents/course', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      setDocuments(data.students || []);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleVerify = async (studentId, docType) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('/api/staff/documents/verify', {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          studentId,\r\n          documentType: docType,\r\n          status: 'Verified'\r\n        })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const result = await response.json();\r\n      alert(result.message);\r\n\r\n      // Update local state\r\n      setDocuments(prevDocuments =>\r\n        prevDocuments.map(student =>\r\n          student.studentId === studentId\r\n            ? {\r\n                ...student,\r\n                documents: student.documents.map(doc =>\r\n                  doc.type === docType ? { ...doc, status: 'Verified' } : doc\r\n                )\r\n              }\r\n            : student\r\n        )\r\n      );\r\n    } catch (err) {\r\n      alert(`Error verifying document: ${err.message}`);\r\n    }\r\n  };\r\n\r\n  const handleReject = async (studentId, docType) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('/api/staff/documents/verify', {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n          studentId,\r\n          documentType: docType,\r\n          status: 'Rejected'\r\n        })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const result = await response.json();\r\n      alert(result.message);\r\n\r\n      // Update local state\r\n      setDocuments(prevDocuments =>\r\n        prevDocuments.map(student =>\r\n          student.studentId === studentId\r\n            ? {\r\n                ...student,\r\n                documents: student.documents.map(doc =>\r\n                  doc.type === docType ? { ...doc, status: 'Rejected' } : doc\r\n                )\r\n              }\r\n            : student\r\n        )\r\n      );\r\n    } catch (err) {\r\n      alert(`Error rejecting document: ${err.message}`);\r\n    }\r\n  };\r\n\r\n  const handleDownload = async (studentId, docType) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`/api/staff/documents/download/${studentId}/${encodeURIComponent(docType)}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const blob = await response.blob();\r\n      const url = window.URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = `${docType.replace(/[^a-zA-Z0-9]/g, '_')}.pdf`; // Default to PDF, adjust as needed\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      window.URL.revokeObjectURL(url);\r\n      document.body.removeChild(a);\r\n    } catch (err) {\r\n      alert(`Error downloading document: ${err.message}`);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"verify-documents\"><p>Loading documents...</p></div>;\r\n  }\r\n\r\n  if (error) {\r\n    return <div className=\"verify-documents\"><p>Error: {error}</p></div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"verify-documents\">\r\n      <h2>Verify Student Documents</h2>\r\n      {documents.length === 0 ? (\r\n        <p>No documents pending verification.</p>\r\n      ) : (\r\n        documents.map(student => (\r\n          <div key={student.studentId} className=\"student-documents\">\r\n            <h3>{student.studentName} (ID: {student.studentId})</h3>\r\n            <table>\r\n              <thead>\r\n                <tr>\r\n                  <th>Document Type</th>\r\n                  <th>Status</th>\r\n                  <th>Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {student.documents.map((doc, index) => (\r\n                  <tr key={index}>\r\n                    <td>{doc.type}</td>\r\n                    <td>{doc.status}</td>\r\n                    <td>\r\n                      {doc.fileName && <button onClick={() => handleDownload(student.studentId, doc.type)}>View</button>}\r\n                      {doc.status === 'Pending' && (\r\n                        <>\r\n                          <button onClick={() => handleVerify(student.studentId, doc.type)}>Verify</button>\r\n                          <button onClick={() => handleReject(student.studentId, doc.type)}>Reject</button>\r\n                        </>\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        ))\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StaffVerifyDocuments;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nconst TotalFeeCollectionSummary = () => {\r\n  const [summaryData, setSummaryData] = useState({\r\n    daily: [],\r\n    weekly: [],\r\n    monthly: [],\r\n    yearly: []\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [activeTab, setActiveTab] = useState('monthly');\r\n  const [filters, setFilters] = useState({\r\n    course: '',\r\n    year: '',\r\n    semester: ''\r\n  });\r\n  const [message, setMessage] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchCollectionSummary();\r\n  }, [activeTab, filters]);\r\n\r\n  const fetchCollectionSummary = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const queryParams = new URLSearchParams({\r\n        period: activeTab,\r\n        ...filters\r\n      });\r\n\r\n      const response = await fetch(`http://localhost:5000/api/reports/collections?${queryParams}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setSummaryData(prev => ({\r\n          ...prev,\r\n          [activeTab]: data\r\n        }));\r\n      } else {\r\n        setMessage('Failed to fetch collection summary');\r\n      }\r\n    } catch (error) {\r\n      setMessage('Error fetching collection summary: ' + error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatCurrency = (amount) => {\r\n    return new Intl.NumberFormat('en-IN', {\r\n      style: 'currency',\r\n      currency: 'INR'\r\n    }).format(amount);\r\n  };\r\n\r\n  const getTotalCollection = (data) => {\r\n    return data.reduce((sum, item) => sum + item.totalCollection, 0);\r\n  };\r\n\r\n  const getTotalPayments = (data) => {\r\n    return data.reduce((sum, item) => sum + item.totalPayments, 0);\r\n  };\r\n\r\n  const renderSummaryTable = () => {\r\n    const data = summaryData[activeTab] || [];\r\n\r\n    if (loading) {\r\n      return <div className=\"loading\">Loading collection summary...</div>;\r\n    }\r\n\r\n    if (data.length === 0) {\r\n      return <div className=\"no-data\">No collection data available for the selected period.</div>;\r\n    }\r\n\r\n    return (\r\n      <div className=\"summary-container\">\r\n        <div className=\"summary-cards\">\r\n          <div className=\"summary-card\">\r\n            <h3>Total Collection</h3>\r\n            <p className=\"amount\">{formatCurrency(getTotalCollection(data))}</p>\r\n          </div>\r\n          <div className=\"summary-card\">\r\n            <h3>Total Payments</h3>\r\n            <p className=\"count\">{getTotalPayments(data)}</p>\r\n          </div>\r\n          <div className=\"summary-card\">\r\n            <h3>Average per Payment</h3>\r\n            <p className=\"amount\">\r\n              {getTotalPayments(data) > 0\r\n                ? formatCurrency(getTotalCollection(data) / getTotalPayments(data))\r\n                : formatCurrency(0)}\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"table-container\">\r\n          <table className=\"summary-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Course</th>\r\n                <th>Year</th>\r\n                <th>Semester</th>\r\n                <th>Total Collection</th>\r\n                <th>Total Payments</th>\r\n                <th>Payment Types</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {data.map((item, index) => (\r\n                <tr key={index}>\r\n                  <td>{item._id.course}</td>\r\n                  <td>{item._id.year}</td>\r\n                  <td>{item._id.semester}</td>\r\n                  <td className=\"amount-cell\">{formatCurrency(item.totalCollection)}</td>\r\n                  <td>{item.totalPayments}</td>\r\n                  <td>\r\n                    {item.paymentTypes?.map((type, idx) => (\r\n                      <div key={idx} className=\"payment-type\">\r\n                        {type.type}: {formatCurrency(type.totalAmount)} ({type.count} payments)\r\n                      </div>\r\n                    ))}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"menu-content\">\r\n      <h1>Total Fee Collection Summary</h1>\r\n      <p>Comprehensive overview of fee collections across different time periods and categories.</p>\r\n\r\n      {message && (\r\n        <div className={`message ${message.includes('Error') || message.includes('Failed') ? 'error' : 'success'}`}>\r\n          {message}\r\n        </div>\r\n      )}\r\n\r\n      {/* Filters */}\r\n      <div className=\"filters-section\">\r\n        <h3>Filters</h3>\r\n        <div className=\"filter-row\">\r\n          <div className=\"filter-group\">\r\n            <label>Course:</label>\r\n            <select\r\n              value={filters.course}\r\n              onChange={(e) => setFilters(prev => ({ ...prev, course: e.target.value }))}\r\n            >\r\n              <option value=\"\">All Courses</option>\r\n              <option value=\"B.A\">B.A</option>\r\n              <option value=\"B.Sc\">B.Sc</option>\r\n              <option value=\"B.Ed\">B.Ed</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"filter-group\">\r\n            <label>Year:</label>\r\n            <input\r\n              type=\"number\"\r\n              value={filters.year}\r\n              onChange={(e) => setFilters(prev => ({ ...prev, year: e.target.value }))}\r\n              placeholder=\"e.g., 2024\"\r\n            />\r\n          </div>\r\n          <div className=\"filter-group\">\r\n            <label>Semester:</label>\r\n            <select\r\n              value={filters.semester}\r\n              onChange={(e) => setFilters(prev => ({ ...prev, semester: e.target.value }))}\r\n            >\r\n              <option value=\"\">All Semesters</option>\r\n              <option value=\"1\">Semester 1</option>\r\n              <option value=\"2\">Semester 2</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Time Period Tabs */}\r\n      <div className=\"tab-navigation\">\r\n        {['daily', 'weekly', 'monthly', 'yearly'].map(period => (\r\n          <button\r\n            key={period}\r\n            className={`tab-button ${activeTab === period ? 'active' : ''}`}\r\n            onClick={() => setActiveTab(period)}\r\n          >\r\n            {period.charAt(0).toUpperCase() + period.slice(1)}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Summary Content */}\r\n      <div className=\"tab-content\">\r\n        {renderSummaryTable()}\r\n      </div>\r\n\r\n      <style>{`\r\n        .menu-content {\r\n          padding: 20px;\r\n          max-width: 1200px;\r\n          margin: 0 auto;\r\n        }\r\n\r\n        .message {\r\n          padding: 10px;\r\n          margin: 10px 0;\r\n          border-radius: 4px;\r\n          font-weight: bold;\r\n        }\r\n\r\n        .message.error {\r\n          background-color: #ffebee;\r\n          color: #c62828;\r\n          border: 1px solid #ef5350;\r\n        }\r\n\r\n        .message.success {\r\n          background-color: #e8f5e8;\r\n          color: #2e7d32;\r\n          border: 1px solid #4caf50;\r\n        }\r\n\r\n        .filters-section {\r\n          background: #f8f9fa;\r\n          padding: 20px;\r\n          border-radius: 8px;\r\n          margin-bottom: 20px;\r\n        }\r\n\r\n        .filter-row {\r\n          display: flex;\r\n          gap: 20px;\r\n          flex-wrap: wrap;\r\n        }\r\n\r\n        .filter-group {\r\n          display: flex;\r\n          flex-direction: column;\r\n          min-width: 150px;\r\n        }\r\n\r\n        .filter-group label {\r\n          margin-bottom: 5px;\r\n          font-weight: bold;\r\n        }\r\n\r\n        .filter-group select,\r\n        .filter-group input {\r\n          padding: 8px;\r\n          border: 1px solid #ddd;\r\n          border-radius: 4px;\r\n        }\r\n\r\n        .tab-navigation {\r\n          display: flex;\r\n          margin-bottom: 20px;\r\n          border-bottom: 1px solid #ddd;\r\n        }\r\n\r\n        .summary-container {\r\n          margin-top: 20px;\r\n        }\r\n\r\n        .summary-cards {\r\n          display: grid;\r\n          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\r\n          gap: 20px;\r\n          margin-bottom: 30px;\r\n        }\r\n\r\n        .summary-card {\r\n          background: white;\r\n          padding: 20px;\r\n          border-radius: 8px;\r\n          box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n          text-align: center;\r\n        }\r\n\r\n        .summary-card h3 {\r\n          margin: 0 0 10px 0;\r\n          color: #666;\r\n          font-size: 14px;\r\n          text-transform: uppercase;\r\n        }\r\n\r\n        .summary-card .amount {\r\n          font-size: 24px;\r\n          font-weight: bold;\r\n          color: #28a745;\r\n          margin: 0;\r\n        }\r\n\r\n        .summary-card .count {\r\n          font-size: 24px;\r\n          font-weight: bold;\r\n          color: #007bff;\r\n          margin: 0;\r\n        }\r\n\r\n        .table-container {\r\n          background: white;\r\n          border-radius: 8px;\r\n          box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n          overflow: hidden;\r\n        }\r\n\r\n        .summary-table {\r\n          width: 100%;\r\n          border-collapse: collapse;\r\n        }\r\n\r\n        .summary-table th,\r\n        .summary-table td {\r\n          padding: 12px;\r\n          text-align: left;\r\n          border-bottom: 1px solid #eee;\r\n        }\r\n\r\n        .summary-table th {\r\n          background: #f8f9fa;\r\n          font-weight: bold;\r\n          color: #333;\r\n        }\r\n\r\n        .amount-cell {\r\n          font-weight: bold;\r\n          color: #28a745;\r\n        }\r\n\r\n        .payment-type {\r\n          margin-bottom: 4px;\r\n          font-size: 12px;\r\n          color: #666;\r\n        }\r\n\r\n        .loading, .no-data {\r\n          text-align: center;\r\n          padding: 40px;\r\n          font-size: 16px;\r\n          color: #666;\r\n        }\r\n\r\n        .no-data {\r\n          color: #999;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TotalFeeCollectionSummary;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nconst ActivePendingOverdueFees = () => {\r\n  const [statusData, setStatusData] = useState({\r\n    paid: { count: 0, amount: 0, students: [] },\r\n    pending: { count: 0, amount: 0, students: [] },\r\n    overdue: { count: 0, amount: 0, students: [] }\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [activeTab, setActiveTab] = useState('overview');\r\n  const [filters, setFilters] = useState({\r\n    course: '',\r\n    year: '',\r\n    semester: ''\r\n  });\r\n  const [message, setMessage] = useState('');\r\n  const [selectedStudent, setSelectedStudent] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchFeeStatusOverview();\r\n  }, [filters]);\r\n\r\n  const fetchFeeStatusOverview = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const queryParams = new URLSearchParams(filters);\r\n\r\n      // Fetch payment statistics\r\n      const statsResponse = await fetch(`http://localhost:5000/api/reports/payments/stats?${queryParams}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      // Fetch defaulter reports only if course is selected\r\n      let defaulterResponse = null;\r\n      if (filters.course) {\r\n        defaulterResponse = await fetch(`http://localhost:5000/api/reports/defaulters?${queryParams}`, {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`\r\n          }\r\n        });\r\n      }\r\n\r\n      if (statsResponse.ok) {\r\n        const statsData = await statsResponse.json();\r\n        let defaulterData = { totalDefaulters: 0, totalDueAmount: 0, defaulters: [] };\r\n\r\n        if (defaulterResponse) {\r\n          defaulterData = await defaulterResponse.json();\r\n        }\r\n\r\n        // Process the data\r\n        const processedData = processStatusData(statsData, defaulterData);\r\n        setStatusData(processedData);\r\n      } else {\r\n        setMessage('Failed to fetch fee status data');\r\n      }\r\n    } catch (error) {\r\n      setMessage('Error fetching fee status data: ' + error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const processStatusData = (statsData, defaulterData) => {\r\n    // Calculate totals from stats data\r\n    let totalPaid = 0;\r\n    let totalPending = 0;\r\n    let totalOverdue = 0;\r\n\r\n    statsData.forEach(stat => {\r\n      totalPaid += stat.paid || 0;\r\n      totalPending += stat.pending || 0;\r\n    });\r\n\r\n    // Overdue from defaulters\r\n    totalOverdue = defaulterData.totalDueAmount || 0;\r\n\r\n    return {\r\n      paid: {\r\n        count: statsData.reduce((sum, stat) => sum + (stat.paidCount || 0), 0),\r\n        amount: totalPaid,\r\n        students: [] // Would need additional API call to get student details\r\n      },\r\n      pending: {\r\n        count: statsData.reduce((sum, stat) => sum + (stat.pendingCount || 0), 0),\r\n        amount: totalPending,\r\n        students: [] // Would need additional API call to get student details\r\n      },\r\n      overdue: {\r\n        count: defaulterData.totalDefaulters || 0,\r\n        amount: totalOverdue,\r\n        students: defaulterData.defaulters || []\r\n      }\r\n    };\r\n  };\r\n\r\n  const formatCurrency = (amount) => {\r\n    return new Intl.NumberFormat('en-IN', {\r\n      style: 'currency',\r\n      currency: 'INR'\r\n    }).format(amount);\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'paid': return '#28a745';\r\n      case 'pending': return '#ffc107';\r\n      case 'overdue': return '#dc3545';\r\n      default: return '#6c757d';\r\n    }\r\n  };\r\n\r\n  const renderOverview = () => {\r\n    return (\r\n      <div className=\"overview-grid\">\r\n        <div className=\"status-card paid\">\r\n          <div className=\"status-icon\"></div>\r\n          <div className=\"status-content\">\r\n            <h3>Paid Fees</h3>\r\n            <div className=\"status-numbers\">\r\n              <span className=\"count\">{statusData.paid.count}</span>\r\n              <span className=\"amount\">{formatCurrency(statusData.paid.amount)}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"status-card pending\">\r\n          <div className=\"status-icon\"></div>\r\n          <div className=\"status-content\">\r\n            <h3>Pending Fees</h3>\r\n            <div className=\"status-numbers\">\r\n              <span className=\"count\">{statusData.pending.count}</span>\r\n              <span className=\"amount\">{formatCurrency(statusData.pending.amount)}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"status-card overdue\">\r\n          <div className=\"status-icon\"></div>\r\n          <div className=\"status-content\">\r\n            <h3>Overdue Fees</h3>\r\n            <div className=\"status-numbers\">\r\n              <span className=\"count\">{statusData.overdue.count}</span>\r\n              <span className=\"amount\">{formatCurrency(statusData.overdue.amount)}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderDetailedList = (statusType) => {\r\n    const data = statusData[statusType];\r\n    const students = data.students || [];\r\n\r\n    if (loading) {\r\n      return <div className=\"loading\">Loading {statusType} fee details...</div>;\r\n    }\r\n\r\n    if (students.length === 0) {\r\n      return <div className=\"no-data\">No {statusType} fees found.</div>;\r\n    }\r\n\r\n    return (\r\n      <div className=\"detailed-list\">\r\n        <div className=\"list-header\">\r\n          <h3>{statusType.charAt(0).toUpperCase() + statusType.slice(1)} Fee Details</h3>\r\n          <div className=\"summary-stats\">\r\n            <span>Total Students: {data.count}</span>\r\n            <span>Total Amount: {formatCurrency(data.amount)}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"table-container\">\r\n          <table className=\"status-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Student ID</th>\r\n                <th>Name</th>\r\n                <th>Course</th>\r\n                <th>Year</th>\r\n                <th>Semester</th>\r\n                {statusType === 'overdue' && <th>Due Amount</th>}\r\n                {statusType === 'overdue' && <th>Days Overdue</th>}\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {students.map((student, index) => (\r\n                <tr key={index}>\r\n                  <td>{student.studentId}</td>\r\n                  <td>{student.name}</td>\r\n                  <td>{student.course}</td>\r\n                  <td>{student.year}</td>\r\n                  <td>{student.semester}</td>\r\n                  {statusType === 'overdue' && (\r\n                    <>\r\n                      <td className=\"amount-cell\">{formatCurrency(student.dueAmount)}</td>\r\n                      <td className={`overdue-cell ${student.daysOverdue > 30 ? 'critical' : ''}`}>\r\n                        {student.daysOverdue} days\r\n                      </td>\r\n                    </>\r\n                  )}\r\n                  <td>\r\n                    <button\r\n                      className=\"action-btn view-btn\"\r\n                      onClick={() => setSelectedStudent(student)}\r\n                    >\r\n                      View Details\r\n                    </button>\r\n                    {statusType === 'overdue' && (\r\n                      <button className=\"action-btn notify-btn\">\r\n                        Send Reminder\r\n                      </button>\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderStudentModal = () => {\r\n    if (!selectedStudent) return null;\r\n\r\n    return (\r\n      <div className=\"modal-overlay\" onClick={() => setSelectedStudent(null)}>\r\n        <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n          <div className=\"modal-header\">\r\n            <h3>Student Details</h3>\r\n            <button className=\"close-btn\" onClick={() => setSelectedStudent(null)}></button>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            <div className=\"student-info\">\r\n              <div className=\"info-row\">\r\n                <label>Student ID:</label>\r\n                <span>{selectedStudent.studentId}</span>\r\n              </div>\r\n              <div className=\"info-row\">\r\n                <label>Name:</label>\r\n                <span>{selectedStudent.name}</span>\r\n              </div>\r\n              <div className=\"info-row\">\r\n                <label>Course:</label>\r\n                <span>{selectedStudent.course}</span>\r\n              </div>\r\n              <div className=\"info-row\">\r\n                <label>Year:</label>\r\n                <span>{selectedStudent.year}</span>\r\n              </div>\r\n              <div className=\"info-row\">\r\n                <label>Semester:</label>\r\n                <span>{selectedStudent.semester}</span>\r\n              </div>\r\n              {selectedStudent.dueAmount && (\r\n                <div className=\"info-row\">\r\n                  <label>Due Amount:</label>\r\n                  <span className=\"amount\">{formatCurrency(selectedStudent.dueAmount)}</span>\r\n                </div>\r\n              )}\r\n              {selectedStudent.daysOverdue && (\r\n                <div className=\"info-row\">\r\n                  <label>Days Overdue:</label>\r\n                  <span className={selectedStudent.daysOverdue > 30 ? 'critical' : ''}>\r\n                    {selectedStudent.daysOverdue} days\r\n                  </span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"menu-content\">\r\n      <h1>Active/Pending/Overdue Fees</h1>\r\n      <p>Monitor active, pending, and overdue fees across all students.</p>\r\n\r\n      {message && (\r\n        <div className={`message ${message.includes('Error') || message.includes('Failed') ? 'error' : 'success'}`}>\r\n          {message}\r\n        </div>\r\n      )}\r\n\r\n      {/* Filters */}\r\n      <div className=\"filters-section\">\r\n        <h3>Filters</h3>\r\n        <div className=\"filter-row\">\r\n          <div className=\"filter-group\">\r\n            <label>Course:</label>\r\n            <select\r\n              value={filters.course}\r\n              onChange={(e) => setFilters(prev => ({ ...prev, course: e.target.value }))}\r\n            >\r\n              <option value=\"\">All Courses</option>\r\n              <option value=\"B.A\">B.A</option>\r\n              <option value=\"B.Sc\">B.Sc</option>\r\n              <option value=\"B.Ed\">B.Ed</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"filter-group\">\r\n            <label>Year:</label>\r\n            <input\r\n              type=\"number\"\r\n              value={filters.year}\r\n              onChange={(e) => setFilters(prev => ({ ...prev, year: e.target.value }))}\r\n              placeholder=\"e.g., 2024\"\r\n            />\r\n          </div>\r\n          <div className=\"filter-group\">\r\n            <label>Semester:</label>\r\n            <select\r\n              value={filters.semester}\r\n              onChange={(e) => setFilters(prev => ({ ...prev, semester: e.target.value }))}\r\n            >\r\n              <option value=\"\">All Semesters</option>\r\n              <option value=\"1\">Semester 1</option>\r\n              <option value=\"2\">Semester 2</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tab Navigation */}\r\n      <div className=\"tab-navigation\">\r\n        <button\r\n          className={`tab-button ${activeTab === 'overview' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('overview')}\r\n        >\r\n          Overview\r\n        </button>\r\n        <button\r\n          className={`tab-button ${activeTab === 'paid' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('paid')}\r\n        >\r\n          Paid ({statusData.paid.count})\r\n        </button>\r\n        <button\r\n          className={`tab-button ${activeTab === 'pending' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('pending')}\r\n        >\r\n          Pending ({statusData.pending.count})\r\n        </button>\r\n        <button\r\n          className={`tab-button ${activeTab === 'overdue' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('overdue')}\r\n        >\r\n          Overdue ({statusData.overdue.count})\r\n        </button>\r\n      </div>\r\n\r\n      {/* Tab Content */}\r\n      <div className=\"tab-content\">\r\n        {activeTab === 'overview' && renderOverview()}\r\n        {activeTab === 'paid' && renderDetailedList('paid')}\r\n        {activeTab === 'pending' && renderDetailedList('pending')}\r\n        {activeTab === 'overdue' && renderDetailedList('overdue')}\r\n      </div>\r\n\r\n      {/* Student Details Modal */}\r\n      {renderStudentModal()}\r\n\r\n      <style>{`\r\n        .menu-content {\r\n          padding: 20px;\r\n          max-width: 1200px;\r\n          margin: 0 auto;\r\n        }\r\n\r\n        .message {\r\n          padding: 10px;\r\n          margin: 10px 0;\r\n          border-radius: 4px;\r\n          font-weight: bold;\r\n        }\r\n\r\n        .message.error {\r\n          background-color: #ffebee;\r\n          color: #c62828;\r\n          border: 1px solid #ef5350;\r\n        }\r\n\r\n        .message.success {\r\n          background-color: #e8f5e8;\r\n          color: #2e7d32;\r\n          border: 1px solid #4caf50;\r\n        }\r\n\r\n        .filters-section {\r\n          background: #f8f9fa;\r\n          padding: 20px;\r\n          border-radius: 8px;\r\n          margin-bottom: 20px;\r\n        }\r\n\r\n        .filter-row {\r\n          display: flex;\r\n          gap: 20px;\r\n          flex-wrap: wrap;\r\n        }\r\n\r\n        .filter-group {\r\n          display: flex;\r\n          flex-direction: column;\r\n          min-width: 150px;\r\n        }\r\n\r\n        .filter-group label {\r\n          margin-bottom: 5px;\r\n          font-weight: bold;\r\n        }\r\n\r\n        .filter-group select,\r\n        .filter-group input {\r\n          padding: 8px;\r\n          border: 1px solid #ddd;\r\n          border-radius: 4px;\r\n        }\r\n\r\n        .tab-navigation {\r\n          display: flex;\r\n          margin-bottom: 20px;\r\n          border-bottom: 1px solid #ddd;\r\n          flex-wrap: wrap;\r\n        }\r\n\r\n        .overview-grid {\r\n          display: grid;\r\n          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\r\n          gap: 20px;\r\n          margin-top: 20px;\r\n        }\r\n\r\n        .status-card {\r\n          background: white;\r\n          padding: 25px;\r\n          border-radius: 12px;\r\n          box-shadow: 0 4px 6px rgba(0,0,0,0.1);\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 20px;\r\n          transition: transform 0.2s ease;\r\n        }\r\n\r\n        .status-card:hover {\r\n          transform: translateY(-2px);\r\n        }\r\n\r\n        .status-card.paid {\r\n          border-left: 4px solid #28a745;\r\n        }\r\n\r\n        .status-card.pending {\r\n          border-left: 4px solid #ffc107;\r\n        }\r\n\r\n        .status-card.overdue {\r\n          border-left: 4px solid #dc3545;\r\n        }\r\n\r\n        .status-icon {\r\n          font-size: 32px;\r\n          opacity: 0.8;\r\n        }\r\n\r\n        .status-content h3 {\r\n          margin: 0 0 10px 0;\r\n          color: #333;\r\n          font-size: 18px;\r\n        }\r\n\r\n        .status-numbers {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 5px;\r\n        }\r\n\r\n        .status-numbers .count {\r\n          font-size: 28px;\r\n          font-weight: bold;\r\n          color: #007bff;\r\n        }\r\n\r\n        .status-numbers .amount {\r\n          font-size: 16px;\r\n          color: #666;\r\n          font-weight: 500;\r\n        }\r\n\r\n        .detailed-list {\r\n          margin-top: 20px;\r\n        }\r\n\r\n        .list-header {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          margin-bottom: 20px;\r\n          flex-wrap: wrap;\r\n          gap: 10px;\r\n        }\r\n\r\n        .summary-stats {\r\n          display: flex;\r\n          gap: 20px;\r\n          flex-wrap: wrap;\r\n        }\r\n\r\n        .summary-stats span {\r\n          background: #f8f9fa;\r\n          padding: 8px 16px;\r\n          border-radius: 20px;\r\n          font-weight: bold;\r\n          color: #495057;\r\n        }\r\n\r\n        .table-container {\r\n          background: white;\r\n          border-radius: 8px;\r\n          box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n          overflow-x: auto;\r\n        }\r\n\r\n        .status-table {\r\n          width: 100%;\r\n          border-collapse: collapse;\r\n          min-width: 800px;\r\n        }\r\n\r\n        .status-table th,\r\n        .status-table td {\r\n          padding: 12px;\r\n          text-align: left;\r\n          border-bottom: 1px solid #eee;\r\n        }\r\n\r\n        .status-table th {\r\n          background: #f8f9fa;\r\n          font-weight: bold;\r\n          color: #333;\r\n          position: sticky;\r\n          top: 0;\r\n        }\r\n\r\n        .amount-cell {\r\n          font-weight: bold;\r\n          color: #28a745;\r\n        }\r\n\r\n        .overdue-cell {\r\n          font-weight: bold;\r\n        }\r\n\r\n        .overdue-cell.critical {\r\n          color: #dc3545;\r\n        }\r\n\r\n        .action-btn {\r\n          padding: 6px 12px;\r\n          border: none;\r\n          border-radius: 4px;\r\n          cursor: pointer;\r\n          font-size: 12px;\r\n          margin-right: 5px;\r\n          transition: background-color 0.2s ease;\r\n        }\r\n\r\n        .view-btn {\r\n          background-color: #007bff;\r\n          color: white;\r\n        }\r\n\r\n        .view-btn:hover {\r\n          background-color: #0056b3;\r\n        }\r\n\r\n        .notify-btn {\r\n          background-color: #ffc107;\r\n          color: #212529;\r\n        }\r\n\r\n        .notify-btn:hover {\r\n          background-color: #e0a800;\r\n        }\r\n\r\n        .loading, .no-data {\r\n          text-align: center;\r\n          padding: 40px;\r\n          font-size: 16px;\r\n          color: #666;\r\n        }\r\n\r\n        .no-data {\r\n          color: #999;\r\n        }\r\n\r\n        .modal-overlay {\r\n          position: fixed;\r\n          top: 0;\r\n          left: 0;\r\n          right: 0;\r\n          bottom: 0;\r\n          background: rgba(0,0,0,0.5);\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          z-index: 1000;\r\n        }\r\n\r\n        .modal-content {\r\n          background: white;\r\n          border-radius: 8px;\r\n          width: 90%;\r\n          max-width: 500px;\r\n          max-height: 80vh;\r\n          overflow-y: auto;\r\n        }\r\n\r\n        .modal-header {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          padding: 20px;\r\n          border-bottom: 1px solid #eee;\r\n        }\r\n\r\n        .modal-header h3 {\r\n          margin: 0;\r\n        }\r\n\r\n        .close-btn {\r\n          background: none;\r\n          border: none;\r\n          font-size: 24px;\r\n          cursor: pointer;\r\n          color: #666;\r\n        }\r\n\r\n        .modal-body {\r\n          padding: 20px;\r\n        }\r\n\r\n        .student-info {\r\n          display: flex;\r\n          flex-direction: column;\r\n          gap: 15px;\r\n        }\r\n\r\n        .info-row {\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          padding: 10px 0;\r\n          border-bottom: 1px solid #f0f0f0;\r\n        }\r\n\r\n        .info-row label {\r\n          font-weight: bold;\r\n          color: #555;\r\n        }\r\n\r\n        .info-row span {\r\n          color: #333;\r\n        }\r\n\r\n        .info-row .amount {\r\n          color: #28a745;\r\n          font-weight: bold;\r\n        }\r\n\r\n        .info-row .critical {\r\n          color: #dc3545;\r\n          font-weight: bold;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ActivePendingOverdueFees;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { FaDotCircle, FaFolder } from 'react-icons/fa';\r\nimport StaffSidebar from '../components/Staff Pannel/StaffSidebar';\r\nimport Dashboard from '../components/Staff Pannel/Dashboard';\r\nimport Profile from '../components/Staff Pannel/Profile';\r\nimport UploadPhoto from '../components/Staff Pannel/UploadPhoto';\r\nimport CreateAssignment from '../components/Staff Pannel/CreateAssignment';\r\nimport ViewAssignments from '../components/Staff Pannel/ViewAssignments';\r\nimport Circulars from '../components/Staff Pannel/Circulars';\r\nimport MarkAttendance from '../components/Staff Pannel/MarkAttendance';\r\nimport AttendanceReport from '../components/Staff Pannel/AttendanceReport';\r\nimport Messaging from '../components/Staff Pannel/Messaging';\r\nimport ReportCard from '../components/Staff Pannel/ReportCard';\r\nimport Settings from '../components/Staff Pannel/Settings';\r\nimport LeaveManagement from '../components/Staff Pannel/LeaveManagement';\r\nimport Timetable from '../components/Staff Pannel/Timetable';\r\nimport Payroll from '../components/Staff Pannel/Payroll';\r\nimport AssignClass from '../components/Staff Pannel/AssignClass';\r\nimport StaffViewDocuments from '../components/Staff Pannel/StaffViewDocuments';\r\nimport StaffVerifyDocuments from '../components/Staff Pannel/StaffVerifyDocuments';\r\nimport ViewFees from '../components/Student Pannel/ViewFees';\r\nimport CollectFees from '../components/AdminPanel/CollectFees';\r\nimport ManageReceipts from '../components/AdminPanel/ManageReceipts';\r\nimport DuplicateReceipts from '../components/AdminPanel/DuplicateReceipts';\r\nimport CancelReceipt from '../components/AdminPanel/CancelReceipt';\r\nimport TotalFeeCollectionSummary from '../components/Staff Pannel/TotalFeeCollectionSummary';\r\nimport ActivePendingOverdueFees from '../components/Staff Pannel/ActivePendingOverdueFees';\r\nimport '../styles/StaffPanel.css';\r\n\r\nconst StaffPanel = () => {\r\n  const [activeMenu, setActiveMenu] = useState('Dashboard');\r\n  const [openMenu, setOpenMenu] = useState(null);\r\n  const [userDesignation, setUserDesignation] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchUserDesignation = async () => {\r\n      const token = localStorage.getItem('token');\r\n      if (token) {\r\n        try {\r\n          const payload = JSON.parse(atob(token.split('.')[1]));\r\n          setUserDesignation(payload.designation || '');\r\n        } catch (error) {\r\n          console.error('Error parsing token:', error);\r\n          // Fallback to API call if token parsing fails\r\n          try {\r\n            const { auth } = await import('../services/adminApi');\r\n            const response = await auth.getCurrentUser();\r\n            if (response.success) {\r\n              setUserDesignation(response.data.designation || '');\r\n            }\r\n          } catch (apiError) {\r\n            console.error('Error fetching user info:', apiError);\r\n          }\r\n        }\r\n      }\r\n    };\r\n    fetchUserDesignation();\r\n  }, []);\r\n\r\n  const baseMenus = [\r\n    { name: 'Dashboard', sub: [] },\r\n    { name: 'Profile Management', sub: ['Profile', 'Upload Photo', 'Contact Info'] },\r\n    { name: 'Class Assignment Management', sub: ['Assign Class/Subject', 'View Assignments'] },\r\n    { name: 'Attendance Management', sub: ['Attendance Entry', 'Attendance View', 'Daily/Monthly Reports'] },\r\n    { name: 'Leave Management', sub: ['Apply for Leave', 'View Leave History'] },\r\n    { name: 'Messaging', sub: ['Send/Receive Messages', 'Alerts'] },\r\n    { name: 'Timetable', sub: [] },\r\n    { name: 'Circular/Notices', sub: ['View Notices', 'Download'] },\r\n    { name: 'Work Management', sub: ['Assignments', 'Reports'] },\r\n    { name: 'Student Documents', sub: ['View Documents', 'Verify Documents'] },\r\n    { name: 'Report Card', sub: [] },\r\n    { name: 'Payroll', sub: ['View Salary', 'Payslip'] },\r\n    { name: 'Settings', sub: ['Preferences', 'Logout'] }\r\n  ];\r\n\r\n  const feesMenu = { name: 'Fees', sub: ['Collect Fees', 'Manage Receipts', 'Duplicate Receipts', 'Cancel Receipt', 'Total Fee Collection Summary', 'Active/Pending/Overdue Fees'] };\r\n\r\n  const menus = userDesignation === 'Fees Administrator' ? [...baseMenus.slice(0, 9), feesMenu, ...baseMenus.slice(9)] : baseMenus;\r\n\r\n  const componentMap = {\r\n    'Dashboard': Dashboard,\r\n    'Profile': Profile,\r\n    'Upload Photo': UploadPhoto,\r\n    'Assign Class/Subject': AssignClass,\r\n    'View Assignments': ViewAssignments,\r\n    'Attendance Entry': MarkAttendance,\r\n    'Attendance View': AttendanceReport,\r\n    'Daily/Monthly Reports': AttendanceReport,\r\n    'Apply for Leave': LeaveManagement,\r\n    'View Leave History': LeaveManagement,\r\n    'Send/Receive Messages': Messaging,\r\n    'Alerts': Messaging,\r\n    'Timetable': Timetable,\r\n    'View Notices': Circulars,\r\n    'Download': Circulars,\r\n    'Assignments': CreateAssignment,\r\n    'Reports': ViewAssignments,\r\n    'View Documents': StaffViewDocuments,\r\n    'Verify Documents': StaffVerifyDocuments,\r\n    'Collect Fees': CollectFees,\r\n    'Manage Receipts': ManageReceipts,\r\n    'Duplicate Receipts': DuplicateReceipts,\r\n    'Cancel Receipt': CancelReceipt,\r\n    'Total Fee Collection Summary': TotalFeeCollectionSummary,\r\n    'Active/Pending/Overdue Fees': ActivePendingOverdueFees,\r\n    'Detailed Transactions Report': () => (\r\n      <div>\r\n        <h2>Detailed Transactions Report</h2>\r\n        <p>Sabhi students ke individual transactions: date, amount, mode (cash, card, online), payment status.</p>\r\n        <p>Filters for courses, batches, payment dates, fee status.</p>\r\n      </div>\r\n    ),\r\n    'Fee Structure Management': () => (\r\n      <div>\r\n        <h2>Fee Structure Management</h2>\r\n        <p>Create/update fee heads and amounts for every course/batch/semester/year.</p>\r\n        <p>Change history log (kis admin/staff ne kya update kiya).</p>\r\n      </div>\r\n    ),\r\n    'Receipt Management': () => (\r\n      <div>\r\n        <h2>Receipt Management</h2>\r\n        <p>Generate, view, download, print receipts for all transactions.</p>\r\n        <p>Re-issue or correct receipts (with approval system).</p>\r\n      </div>\r\n    ),\r\n    'Scholarship/Concession Monitoring': () => (\r\n      <div>\r\n        <h2>Scholarship/Concession Monitoring</h2>\r\n        <p>Kis student ko kya concession/scholarship mila, total concession amount ka summary.</p>\r\n      </div>\r\n    ),\r\n    'Refund/Adjustment Tracking': () => (\r\n      <div>\r\n        <h2>Refund/Adjustment Tracking</h2>\r\n        <p>Kis cases me refund/adjustment hua, reason, approval status.</p>\r\n      </div>\r\n    ),\r\n    'Alerts & Notifications': () => (\r\n      <div>\r\n        <h2>Alerts & Notifications</h2>\r\n        <p>Due fee reminders, overdue alerts, communication logs (SMS, Email).</p>\r\n      </div>\r\n    ),\r\n    'Audit Log': () => (\r\n      <div>\r\n        <h2>Audit Log</h2>\r\n        <p>All changes/actions performed in fee systemcomplete activity trail.</p>\r\n      </div>\r\n    ),\r\n    'Export Reports': () => (\r\n      <div>\r\n        <h2>Export Reports</h2>\r\n        <p>Download reports in PDF/Excel (collection, dues, batch-wise, etc.).</p>\r\n      </div>\r\n    ),\r\n    'Role/Permission Management': () => (\r\n      <div>\r\n        <h2>Role/Permission Management</h2>\r\n        <p>Kis staff/admin ko kya access haiuser management panel.</p>\r\n      </div>\r\n    ),\r\n    'Report Card': ReportCard,\r\n    'View Salary': Payroll,\r\n    'Payslip': Payroll,\r\n    'Preferences': Settings,\r\n    'Logout': () => { localStorage.removeItem('token'); window.location.href = '/login'; }\r\n  };\r\n\r\n  const renderContent = () => {\r\n    const Component = componentMap[activeMenu];\r\n    if (typeof Component === 'function' && Component.name === 'Logout') {\r\n      Component();\r\n      return <div>Logging out...</div>;\r\n    }\r\n    return Component ? <Component /> : <Dashboard />;\r\n  };\r\n\r\n  const handleSubClick = (subName) => {\r\n    setActiveMenu(subName);\r\n  };\r\n\r\n  const handleMainClick = (menu) => {\r\n    if (menu.sub.length === 0) {\r\n      setActiveMenu(menu.name);\r\n      setOpenMenu(null);\r\n    } else {\r\n      setOpenMenu(prev => prev === menu.name ? null : menu.name);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"admin-panel\">\r\n      <nav className=\"side-nav\">\r\n        <h2>Staff Panel</h2>\r\n        <ul className=\"nav-menu\">\r\n          {menus.map(menu => (\r\n            <li key={menu.name} className={menu.sub.length > 0 && openMenu === menu.name ? 'open' : ''}>\r\n              <button\r\n                className={menu.sub.length === 0 && activeMenu === menu.name ? 'active' : ''}\r\n                onClick={() => handleMainClick(menu)}\r\n              >\r\n                <div style={{ display: 'flex', alignItems: 'center' }}>\r\n                  {menu.sub.length === 0 ? <FaDotCircle /> : <FaFolder />} {menu.name}\r\n                </div>\r\n                {menu.sub.length > 0 && (\r\n                  <span className={`arrow ${openMenu === menu.name ? 'rotated' : ''}`}></span>\r\n                )}\r\n              </button>\r\n              {menu.sub.length > 0 && (\r\n                <ul className={`sub-menu ${openMenu === menu.name ? 'open' : ''}`}>\r\n                  {menu.sub.map(sub => (\r\n                    <li key={sub}>\r\n                      <button\r\n                        className={activeMenu === sub ? 'active' : ''}\r\n                        onClick={() => handleSubClick(sub)}\r\n                      >\r\n                        {sub}\r\n                      </button>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              )}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </nav>\r\n      <main className=\"content\">\r\n        {renderContent()}\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StaffPanel;\r\n","import React, { useState, useEffect } from 'react';\r\nimport FeeSummaryTable from '../AdminPanel/FeeSummaryTable';\r\n\r\nconst ViewFees = () => {\r\n  const [feeStructure, setFeeStructure] = useState(null);\r\n  const [payments, setPayments] = useState([]);\r\n  const [studentInfo, setStudentInfo] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n  const [activeTab, setActiveTab] = useState('fees');\r\n  const [paymentType, setPaymentType] = useState('semester');\r\n  const [feeSummary, setFeeSummary] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchStudentInfo();\r\n    fetchPayments();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (studentInfo?.department) {\r\n      fetchFeeStructure(studentInfo.department);\r\n    }\r\n  }, [studentInfo]);\r\n\r\n  useEffect(() => {\r\n    if (feeStructure && payments.length >= 0) {\r\n      const summary = calculateFeeSummary(payments);\r\n      setFeeSummary(summary);\r\n    }\r\n  }, [feeStructure, payments]);\r\n\r\n  const fetchStudentInfo = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/auth/me', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setStudentInfo(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching student info:', error);\r\n    }\r\n  };\r\n\r\n  const fetchFeeStructure = async (course) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`http://localhost:5000/api/fees/${course}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setFeeStructure(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching fee structure:', error);\r\n    }\r\n  };\r\n\r\n  const fetchPayments = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/payments/my-payments', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setPayments(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching payments:', error);\r\n    }\r\n  };\r\n\r\n  const getStudentFeeStructure = () => {\r\n    return feeStructure;\r\n  };\r\n\r\n  const calculateFeeAmount = (structure, type) => {\r\n    if (!structure) return 0;\r\n    const total = structure.totalFee;\r\n    return type === 'semester' ? total / 2 : total;\r\n  };\r\n\r\n  const initiatePayment = async () => {\r\n    if (!studentInfo || !getStudentFeeStructure()) {\r\n      setMessage('Unable to process payment. Student information or fee structure not found.');\r\n      return;\r\n    }\r\n\r\n    const structure = getStudentFeeStructure();\r\n    const amount = calculateFeeAmount(structure, paymentType);\r\n\r\n    setLoading(true);\r\n    setMessage('');\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/payments/initiate', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({\r\n          course: studentInfo.department,\r\n          year: studentInfo.year,\r\n          semester: studentInfo.semester,\r\n          paymentType,\r\n          amount\r\n        })\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        setMessage('Payment initiated successfully! Please complete the payment process.');\r\n        fetchPayments();\r\n      } else {\r\n        setMessage(data.message || 'Failed to initiate payment');\r\n      }\r\n    } catch (error) {\r\n      setMessage('Error initiating payment: ' + error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const calculateFeeSummary = (payments) => {\r\n    if (!feeStructure) return [];\r\n\r\n    const feeHeads = [\r\n      { head: 'Tuition Fee', total: feeStructure.feeComponents.tuitionFee },\r\n      { head: 'Library Fee', total: feeStructure.feeComponents.libraryFee },\r\n      { head: 'Laboratory Fee', total: feeStructure.feeComponents.laboratoryFee },\r\n      { head: 'Examination Fee', total: feeStructure.feeComponents.examinationFee },\r\n      { head: 'Sports Fee', total: feeStructure.feeComponents.sportsFee },\r\n      { head: 'Development Fee', total: feeStructure.feeComponents.developmentFee },\r\n      { head: 'Miscellaneous', total: feeStructure.feeComponents.miscellaneousFee }\r\n    ];\r\n\r\n    // Calculate total paid amount\r\n    const totalPaid = payments.reduce((sum, payment) => {\r\n      if (payment.status === 'Paid') {\r\n        return sum + payment.amount;\r\n      }\r\n      return sum;\r\n    }, 0);\r\n\r\n    // Allocate payments starting from Tuition Fee, then Library, then Sports, then Exam, etc.\r\n    let remainingPaid = totalPaid;\r\n    return feeHeads.map(fee => {\r\n      const paidForThisFee = Math.min(remainingPaid, fee.total);\r\n      remainingPaid -= paidForThisFee;\r\n      return {\r\n        head: fee.head,\r\n        amount: fee.total,\r\n        paid: paidForThisFee,\r\n        balance: Math.max(0, fee.total - paidForThisFee)\r\n      };\r\n    });\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'Paid': return '#28a745';\r\n      case 'Pending': return '#ffc107';\r\n      case 'Failed': return '#dc3545';\r\n      default: return '#6c757d';\r\n    }\r\n  };\r\n\r\n  const structure = getStudentFeeStructure();\r\n  const currentFeeAmount = calculateFeeAmount(structure, paymentType);\r\n\r\n  return (\r\n    <div className=\"menu-content\">\r\n      <h1>My Fees</h1>\r\n      <p>View your fee structure and payment history.</p>\r\n\r\n      {message && (\r\n        <div style={{\r\n          padding: '10px',\r\n          margin: '10px 0',\r\n          border: '1px solid #ddd',\r\n          borderRadius: '4px',\r\n          backgroundColor: message.includes('Error') || message.includes('Failed') ? '#ffebee' : '#e8f5e8',\r\n          color: message.includes('Error') || message.includes('Failed') ? '#c62828' : '#2e7d32'\r\n        }}>\r\n          {message}\r\n        </div>\r\n      )}\r\n\r\n      <div style={{ marginBottom: '20px' }}>\r\n        <button\r\n          onClick={() => setActiveTab('fees')}\r\n          style={{\r\n            padding: '10px 20px',\r\n            marginRight: '10px',\r\n            backgroundColor: activeTab === 'fees' ? '#007bff' : '#6c757d',\r\n            color: 'white',\r\n            border: 'none',\r\n            borderRadius: '4px',\r\n            cursor: 'pointer'\r\n          }}\r\n        >\r\n          Fee Details\r\n        </button>\r\n        <button\r\n          onClick={() => setActiveTab('payments')}\r\n          style={{\r\n            padding: '10px 20px',\r\n            backgroundColor: activeTab === 'payments' ? '#007bff' : '#6c757d',\r\n            color: 'white',\r\n            border: 'none',\r\n            borderRadius: '4px',\r\n            cursor: 'pointer'\r\n          }}\r\n        >\r\n          Payment History\r\n        </button>\r\n      </div>\r\n\r\n      {activeTab === 'fees' && (\r\n        <div>\r\n          <h3>Fees Summary</h3>\r\n          {studentInfo && feeSummary.length > 0 && (\r\n            <div style={{ overflowX: 'auto', marginBottom: '20px' }}>\r\n              <table style={{ width: '100%', borderCollapse: 'collapse', border: '1px solid #ddd' }}>\r\n                <thead>\r\n                  <tr style={{ backgroundColor: '#f8f9fa' }}>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Fee Head</th>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'center' }}>Total Amount</th>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'center' }}>Paid</th>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'center' }}>Balance</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {feeSummary.map((fee, index) => (\r\n                    <tr key={index}>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd', fontWeight: fee.head === 'Tuition Fee' ? 'bold' : 'normal' }}>\r\n                        {fee.head}\r\n                      </td>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'center' }}>\r\n                        {fee.amount.toLocaleString()}\r\n                      </td>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'center' }}>\r\n                        {fee.paid.toLocaleString()}\r\n                      </td>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'center' }}>\r\n                        {fee.balance.toLocaleString()}\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                  <tr style={{ backgroundColor: '#e7f3ff' }}>\r\n                    <td style={{ padding: '10px', border: '1px solid #ddd', fontWeight: 'bold' }}>Total</td>\r\n                    <td style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'center', fontWeight: 'bold' }}>\r\n                      {feeSummary.reduce((sum, fee) => sum + fee.amount, 0).toLocaleString()}\r\n                    </td>\r\n                    <td style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'center', fontWeight: 'bold' }}>\r\n                      {feeSummary.reduce((sum, fee) => sum + fee.paid, 0).toLocaleString()}\r\n                    </td>\r\n                    <td style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'center', fontWeight: 'bold' }}>\r\n                      {feeSummary.reduce((sum, fee) => sum + fee.balance, 0).toLocaleString()}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n\r\n          {!feeSummary.length && studentInfo && (\r\n            <div style={{ marginBottom: '20px', padding: '20px', border: '1px solid #ddd', borderRadius: '4px', backgroundColor: '#f8f9fa' }}>\r\n              <p>No fee summary available for your course: {studentInfo.department}</p>\r\n            </div>\r\n          )}\r\n\r\n          {structure && (\r\n            <div style={{ marginBottom: '20px' }}>\r\n              <div style={{\r\n                border: '2px solid #007bff',\r\n                borderRadius: '8px',\r\n                padding: '20px',\r\n                backgroundColor: '#e7f3ff',\r\n                marginBottom: '20px'\r\n              }}>\r\n                <p style={{ fontSize: '18px', fontWeight: 'bold', color: '#007bff' }}>\r\n                  Total Annual Fee: {structure.totalFee.toLocaleString()}\r\n                </p>\r\n                <p>Semester Fee: {(structure.totalFee / 2).toLocaleString()}</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div style={{ marginBottom: '20px' }}>\r\n            <h4>Submit Fee Payment</h4>\r\n            <div style={{ display: 'flex', gap: '15px', alignItems: 'center', marginBottom: '15px' }}>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  value=\"semester\"\r\n                  checked={paymentType === 'semester'}\r\n                  onChange={(e) => setPaymentType(e.target.value)}\r\n                />\r\n                Pay for Semester ({structure ? (structure.totalFee / 2).toLocaleString() : 0})\r\n              </label>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  value=\"year\"\r\n                  checked={paymentType === 'year'}\r\n                  onChange={(e) => setPaymentType(e.target.value)}\r\n                />\r\n                Pay for Year ({structure ? structure.totalFee.toLocaleString() : 0})\r\n              </label>\r\n            </div>\r\n\r\n            <button\r\n              onClick={initiatePayment}\r\n              disabled={loading || !structure}\r\n              style={{\r\n                padding: '12px 24px',\r\n                backgroundColor: '#28a745',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '4px',\r\n                cursor: loading || !structure ? 'not-allowed' : 'pointer',\r\n                fontSize: '16px'\r\n              }}\r\n            >\r\n              {loading ? 'Processing...' : `Submit Payment ${currentFeeAmount.toLocaleString()} for ${paymentType === 'semester' ? 'Semester' : 'Year'}`}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {activeTab === 'payments' && (\r\n        <div>\r\n          <h3>Payment History</h3>\r\n          <div style={{ maxHeight: '600px', overflowY: 'auto' }}>\r\n            {payments.length > 0 ? (\r\n              <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n                <thead>\r\n                  <tr style={{ backgroundColor: '#f8f9fa' }}>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Year</th>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Semester</th>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Type</th>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Amount</th>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Status</th>\r\n                    <th style={{ padding: '10px', border: '1px solid #ddd', textAlign: 'left' }}>Date</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {payments.map(payment => (\r\n                    <tr key={payment._id}>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                        {payment.year}\r\n                      </td>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                        {payment.semester}\r\n                      </td>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                        {payment.paymentType}\r\n                      </td>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                        {payment.amount}\r\n                      </td>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                        <span style={{\r\n                          padding: '3px 8px',\r\n                          borderRadius: '12px',\r\n                          backgroundColor: getStatusColor(payment.status),\r\n                          color: 'white',\r\n                          fontSize: '12px'\r\n                        }}>\r\n                          {payment.status}\r\n                        </span>\r\n                      </td>\r\n                      <td style={{ padding: '10px', border: '1px solid #ddd' }}>\r\n                        {new Date(payment.createdAt).toLocaleDateString()}\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            ) : (\r\n              <p>No payment records found.</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewFees;\r\n","import React, { useState, useRef } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst UploadPhoto = () => {\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [preview, setPreview] = useState(null);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n  const [error, setError] = useState('');\r\n  const fileInputRef = useRef(null);\r\n\r\n  const handleFileSelect = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      // Validate file type\r\n      const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif'];\r\n      if (!allowedTypes.includes(file.type)) {\r\n        setError('Please select a valid image file (JPEG, PNG, GIF)');\r\n        return;\r\n      }\r\n\r\n      // Validate file size (5MB limit)\r\n      if (file.size > 5 * 1024 * 1024) {\r\n        setError('File size must be less than 5MB');\r\n        return;\r\n      }\r\n\r\n      setSelectedFile(file);\r\n      setError('');\r\n\r\n      // Create preview\r\n      const reader = new FileReader();\r\n      reader.onload = (e) => setPreview(e.target.result);\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  const handleUpload = async () => {\r\n    if (!selectedFile) {\r\n      setError('Please select a file first');\r\n      return;\r\n    }\r\n\r\n    setUploading(true);\r\n    setError('');\r\n    setMessage('');\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const formData = new FormData();\r\n      formData.append('profilePicture', selectedFile);\r\n\r\n      const config = {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      };\r\n\r\n      const response = await axios.post('http://localhost:5000/api/staff/profile-picture', formData, config);\r\n\r\n      setMessage('Profile picture uploaded successfully!');\r\n      setSelectedFile(null);\r\n      setPreview(null);\r\n      if (fileInputRef.current) {\r\n        fileInputRef.current.value = '';\r\n      }\r\n\r\n      // Optionally refresh the page or update parent component\r\n      setTimeout(() => {\r\n        window.location.reload(); // Simple refresh to show new picture\r\n      }, 1500);\r\n\r\n    } catch (error) {\r\n      setError(error.response?.data?.message || 'Failed to upload profile picture');\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setSelectedFile(null);\r\n    setPreview(null);\r\n    setError('');\r\n    setMessage('');\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = '';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"upload-photo-container\">\r\n      <h1>Upload Profile Photo</h1>\r\n      <p>Upload and crop profile picture for ID card, attendance logs, and dashboard.</p>\r\n\r\n      {error && <div className=\"error-message\" style={{ color: 'red', marginBottom: '10px' }}>{error}</div>}\r\n      {message && <div className=\"success-message\" style={{ color: 'green', marginBottom: '10px' }}>{message}</div>}\r\n\r\n      <div className=\"upload-section\">\r\n        <input\r\n          type=\"file\"\r\n          ref={fileInputRef}\r\n          onChange={handleFileSelect}\r\n          accept=\"image/*\"\r\n          style={{ marginBottom: '10px' }}\r\n        />\r\n\r\n        {preview && (\r\n          <div className=\"preview-section\" style={{ marginBottom: '20px' }}>\r\n            <h3>Preview:</h3>\r\n            <img\r\n              src={preview}\r\n              alt=\"Profile Preview\"\r\n              style={{\r\n                maxWidth: '200px',\r\n                maxHeight: '200px',\r\n                borderRadius: '50%',\r\n                objectFit: 'cover',\r\n                border: '2px solid #ccc'\r\n              }}\r\n            />\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"upload-actions\">\r\n          <button\r\n            onClick={handleUpload}\r\n            disabled={!selectedFile || uploading}\r\n            style={{\r\n              padding: '10px 20px',\r\n              marginRight: '10px',\r\n              backgroundColor: selectedFile && !uploading ? '#007bff' : '#ccc',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '4px',\r\n              cursor: selectedFile && !uploading ? 'pointer' : 'not-allowed'\r\n            }}\r\n          >\r\n            {uploading ? 'Uploading...' : 'Upload Photo'}\r\n          </button>\r\n\r\n          <button\r\n            onClick={handleCancel}\r\n            disabled={uploading}\r\n            style={{\r\n              padding: '10px 20px',\r\n              backgroundColor: '#6c757d',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '4px',\r\n              cursor: uploading ? 'not-allowed' : 'pointer'\r\n            }}\r\n          >\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"upload-info\" style={{ marginTop: '20px', fontSize: '14px', color: '#666' }}>\r\n        <p><strong>Supported formats:</strong> JPEG, PNG, GIF</p>\r\n        <p><strong>Maximum file size:</strong> 5MB</p>\r\n        <p><strong>Recommended:</strong> Square images (1:1 aspect ratio) for best results</p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UploadPhoto;\r\n"],"names":["_ref","message","type","onClose","duration","useEffect","timer","setTimeout","clearTimeout","_jsxs","className","concat","getAlertClass","children","_jsx","onClick","Dashboard","alerts","setAlerts","useState","showAlerts","setShowAlerts","assignedClasses","setAssignedClasses","todayTimetable","setTodayTimetable","pendingAssignments","setPendingAssignments","unreadMessages","setUnreadMessages","attendanceSummary","setAttendanceSummary","present","total","loading","setLoading","fetchAlerts","async","token","localStorage","getItem","config","headers","Authorization","classesRes","axios","get","data","length","today","Date","toLocaleDateString","weekday","timetableRes","pending","filter","a","dueDate","now","unread","m","isRead","month","toISOString","slice","attendanceRes","summary","totalPresent","reduce","sum","s","totalDays","error","console","fetchDashboardData","notificationAlerts","map","notification","_id","title","priority","alert","Alert","dismissAlert","alertId","slot","idx","period","class","subject","time","Math","round","Profile","profile","setProfile","name","designation","department","qualifications","joiningDate","email","phone","address","profilePicture","editing","setEditing","setError","saving","setSaving","fetchProfile","res","log","handleChange","e","_objectSpread","target","value","style","color","marginBottom","textAlign","src","alt","width","height","borderRadius","objectFit","border","onError","display","nextSibling","backgroundColor","alignItems","justifyContent","margin","fontSize","marginTop","href","textDecoration","onSubmit","preventDefault","put","staffId","disabled","onChange","required","date","split","formatDateForInput","CreateAssignment","classes","setClasses","formData","setFormData","description","setMessage","fetchClasses","c","post","cls","ViewAssignments","assignments","setAssignments","selectedAssignment","setSelectedAssignment","submissions","setSubmissions","fetchAssignments","fetchSubmissions","assignmentId","assignment","sub","studentName","status","submittedAt","grade","submissionId","updateGrade","placeholder","Circulars","circulars","setCirculars","fetchCirculars","circular","fileUrl","downloadCircular","url","document","createElement","download","click","MarkAttendance","courses","setCourses","semesters","setSemesters","subjects","setSubjects","students","setStudents","attendance","setAttendance","filters","setFilters","course","semester","searchTerm","setSearchTerm","markAllPresent","setMarkAllPresent","success","setSuccess","fetchCourses","fetchSemesters","fetchSubjects","fetchStudents","initialAttendance","forEach","student","rollNo","remarks","response","err","id","handleFilterChange","prev","handleAttendanceChange","field","filteredStudents","toLowerCase","includes","htmlFor","sem","_Fragment","checked","_attendance$student$r","_attendance$student$r2","Object","keys","payload","AttendanceReport","attendanceData","setAttendanceData","setSummary","absent","leave","percentage","dateFrom","dateTo","viewMode","setViewMode","params","URLSearchParams","records","fetchAttendance","toFixed","record","index","exportToPDF","doc","jsPDF","text","autoTable","head","body","save","exportToCSV","csvContent","join","encodedUri","encodeURI","link","setAttribute","appendChild","Messaging","setSubject","setBody","sections","setSections","selectedCourse","setSelectedCourse","selectedSemester","setSelectedSemester","selectedSection","setSelectedSection","selectedStudents","setSelectedStudents","label","resetForm","maxLength","ReactQuill","modules","toolbar","formats","Select","selectedOption","options","isClearable","sec","fetchSections","isDisabled","stu","selectedOptions","isMulti","trim","toast","ReportCard","selectedStudent","setSelectedStudent","reportCard","setReportCard","attendancePercentage","overallGrade","overallAttendance","Settings","preferences","setPreferences","language","notifications","theme","savePreferences","setItem","JSON","stringify","logout","removeItem","window","location","LeaveManagement","leaves","setLeaves","startDate","endDate","reason","fetchLeaves","start","end","days","ceil","Timetable","timetable","setTimetable","selectedDay","setSelectedDay","fetchTimetable","day","room","Payroll","payrolls","setPayrolls","selectedMonth","setSelectedMonth","fetchPayrolls","payroll","baseSalary","allowances","allow","amount","deductions","deduct","netSalary","payslipUrl","rel","staticClasses","class_id","class_name","section","academic_year","staticSubjects","subject_id","subject_name","subject_code","subject_type","AssignClass","selectedClass","setSelectedClass","showPanel","setShowPanel","handleClassClick","classItem","tabIndex","onKeyDown","key","colSpan","handleClosePanel","StaffViewDocuments","documents","setDocuments","staffCourse","setStaffCourse","fetchDocuments","fetch","ok","json","studentId","fileName","documentType","encodeURIComponent","blob","URL","createObjectURL","revokeObjectURL","removeChild","handleDownload","StaffVerifyDocuments","Error","docType","replace","method","result","prevDocuments","handleVerify","handleReject","TotalFeeCollectionSummary","summaryData","setSummaryData","daily","weekly","monthly","yearly","activeTab","setActiveTab","year","fetchCollectionSummary","queryParams","formatCurrency","Intl","NumberFormat","currency","format","getTotalCollection","item","totalCollection","getTotalPayments","totalPayments","charAt","toUpperCase","renderSummaryTable","_item$paymentTypes","paymentTypes","totalAmount","count","ActivePendingOverdueFees","statusData","setStatusData","paid","overdue","fetchFeeStatusOverview","statsResponse","defaulterResponse","statsData","defaulterData","totalDefaulters","totalDueAmount","defaulters","processedData","processStatusData","totalPaid","totalPending","totalOverdue","stat","paidCount","pendingCount","renderDetailedList","statusType","dueAmount","daysOverdue","stopPropagation","StaffPanel","activeMenu","setActiveMenu","openMenu","setOpenMenu","userDesignation","setUserDesignation","parse","atob","auth","getCurrentUser","apiError","fetchUserDesignation","baseMenus","menus","componentMap","UploadPhoto","CollectFees","ManageReceipts","DuplicateReceipts","CancelReceipt","Detailed Transactions Report","Fee Structure Management","Receipt Management","Scholarship/Concession Monitoring","Refund/Adjustment Tracking","Alerts & Notifications","Audit Log","Export Reports","Role/Permission Management","Logout","menu","handleMainClick","FaDotCircle","FaFolder","renderContent","Component","ViewFees","feeStructure","setFeeStructure","payments","setPayments","studentInfo","setStudentInfo","paymentType","setPaymentType","feeSummary","setFeeSummary","fetchStudentInfo","fetchPayments","fetchFeeStructure","calculateFeeSummary","getStudentFeeStructure","calculateFeeAmount","structure","totalFee","feeHeads","feeComponents","tuitionFee","libraryFee","laboratoryFee","examinationFee","sportsFee","developmentFee","miscellaneousFee","remainingPaid","payment","fee","paidForThisFee","min","balance","max","getStatusColor","currentFeeAmount","padding","marginRight","cursor","overflowX","borderCollapse","fontWeight","toLocaleString","gap","maxHeight","overflowY","createdAt","selectedFile","setSelectedFile","preview","setPreview","uploading","setUploading","fileInputRef","useRef","ref","event","file","files","size","reader","FileReader","onload","readAsDataURL","accept","maxWidth","FormData","append","current","reload","_error$response","_error$response$data","handleCancel"],"sourceRoot":""}