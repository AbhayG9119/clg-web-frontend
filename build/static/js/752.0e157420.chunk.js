"use strict";(self.webpackChunkclg_web=self.webpackChunkclg_web||[]).push([[752],{1627:()=>{},4957:(e,a,t)=>{t.d(a,{A:()=>r});t(5043);var s=t(579);const r=e=>{let{fees:a}=e;const t=a.reduce((e,a)=>e+a.amount,0),r=a.reduce((e,a)=>e+a.paid,0),n=a.reduce((e,a)=>e+a.balance,0);return(0,s.jsxs)("div",{className:"fee-summary-table",children:[(0,s.jsx)("h3",{children:"Fee Summary"}),(0,s.jsxs)("table",{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Fee Head"}),(0,s.jsx)("th",{children:"Total Amount"}),(0,s.jsx)("th",{children:"Paid"}),(0,s.jsx)("th",{children:"Balance"})]})}),(0,s.jsxs)("tbody",{children:[a.map((e,a)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:e.head}),(0,s.jsxs)("td",{children:["\u20b9",e.amount.toLocaleString()]}),(0,s.jsxs)("td",{children:["\u20b9",e.paid.toLocaleString()]}),(0,s.jsxs)("td",{className:e.balance>0?"balance-due":"paid",children:["\u20b9",e.balance.toLocaleString()]})]},a)),(0,s.jsxs)("tr",{className:"total-row",children:[(0,s.jsx)("td",{children:(0,s.jsx)("strong",{children:"Total"})}),(0,s.jsx)("td",{children:(0,s.jsxs)("strong",{children:["\u20b9",t.toLocaleString()]})}),(0,s.jsx)("td",{children:(0,s.jsxs)("strong",{children:["\u20b9",r.toLocaleString()]})}),(0,s.jsx)("td",{className:n>0?"balance-due":"paid",children:(0,s.jsxs)("strong",{children:["\u20b9",n.toLocaleString()]})})]})]})]})]})}},5496:(e,a,t)=>{t.d(a,{$I:()=>n,AP:()=>c,EC:()=>o,WG:()=>u,auth:()=>r,wo:()=>d,z9:()=>i});const s=t(9722).A.create({baseURL:"http://localhost:5000/api",headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{const a=localStorage.getItem("token");return a&&(e.headers.Authorization="Bearer ".concat(a)),e});const r={login:async(e,a,t,r)=>{try{const n=await s.post("/auth/login",{email:e,password:a,captchaToken:t,role:r}),{token:d,user:c}=n.data;return localStorage.setItem("token",d),localStorage.setItem("role",c.role),localStorage.setItem("designation",c.designation||""),{success:!0,role:c.role}}catch(c){var n,d;return{success:!1,error:(null===(n=c.response)||void 0===n||null===(d=n.data)||void 0===d?void 0:d.message)||"Login failed"}}},getCurrentUser:async()=>{try{return{success:!0,data:(await s.get("/auth/me")).data}}catch(t){var e,a;return{success:!1,error:(null===(e=t.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message)||"Failed to get user info"}}},getMyPayments:async()=>{try{return{success:!0,data:(await s.get("/payments/my-payments")).data}}catch(t){var e,a;return{success:!1,error:(null===(e=t.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message)||"Failed to fetch your payments"}}}},n={getDesignations:async()=>{try{return{success:!0,data:(await s.get("/staff/designations")).data}}catch(t){var e,a;return{success:!1,error:(null===(e=t.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message)||"Failed to fetch designations"}}},addDesignation:async e=>{try{return{success:!0,data:(await s.post("/staff/designations",{name:e})).data}}catch(r){var a,t;return{success:!1,error:(null===(a=r.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to add designation"}}},registerStaff:async e=>{try{return{success:!0,data:(await s.post("/users/staff/register",e)).data}}catch(r){var a,t;return{success:!1,error:(null===(a=r.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to register staff"}}},getStaff:async()=>{try{return{success:!0,data:(await s.get("/staff")).data}}catch(t){var e,a;return{success:!1,error:(null===(e=t.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message)||"Failed to fetch staff"}}}},d={addEnquiry:async e=>{try{return{success:!0,data:(await s.post("/enquiries",e)).data}}catch(r){var a,t;return{success:!1,error:(null===(a=r.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to add enquiry"}}},getEnquiries:async()=>{try{return{success:!0,data:(await s.get("/enquiries")).data}}catch(t){var e,a;return{success:!1,error:(null===(e=t.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message)||"Failed to fetch enquiries"}}},updateEnquiry:async(e,a)=>{try{return{success:!0,data:(await s.put("/enquiries/".concat(e),a)).data}}catch(n){var t,r;return{success:!1,error:(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to update enquiry"}}}},c={addWork:async e=>{try{return{success:!0,data:(await s.post("/works",e)).data}}catch(r){var a,t;return{success:!1,error:(null===(a=r.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to add work"}}},getWorks:async()=>{try{return{success:!0,data:(await s.get("/works")).data}}catch(t){var e,a;return{success:!1,error:(null===(e=t.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message)||"Failed to fetch works"}}},addWorkReport:async e=>{try{return{success:!0,data:(await s.post("/work-reports",e)).data}}catch(r){var a,t;return{success:!1,error:(null===(a=r.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to add work report"}}}},o={getStaffList:async()=>{try{return{success:!0,data:(await s.get("/erp/staff/list")).data}}catch(t){var e,a;return{success:!1,error:(null===(e=t.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message)||"Failed to fetch staff list"}}},getAttendance:async e=>{try{return{success:!0,data:(await s.get("/erp/staff/attendance",{params:{date:e}})).data}}catch(r){var a,t;return{success:!1,error:(null===(a=r.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to fetch attendance"}}},markAttendance:async(e,a)=>{try{return{success:!0,data:(await s.post("/erp/staff/attendance",{date:e,attendanceData:a})).data}}catch(n){var t,r;return{success:!1,error:(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to mark attendance"}}},getAttendanceRecords:async(e,a)=>{try{return{success:!0,data:(await s.get("/erp/staff/attendance/records",{params:{startDate:e,endDate:a}})).data}}catch(n){var t,r;return{success:!1,error:(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to fetch attendance records"}}},getLeaveRequests:async()=>{try{return{success:!0,data:(await s.get("/erp/staff/leaves")).data}}catch(t){var e,a;return{success:!1,error:(null===(e=t.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message)||"Failed to fetch leave requests"}}},updateLeaveStatus:async(e,a)=>{try{return{success:!0,data:(await s.put("/erp/staff/leave/".concat(e,"/status"),{status:a})).data}}catch(n){var t,r;return{success:!1,error:(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to update leave status"}}},getMonthlyAttendance:async(e,a)=>{try{return{success:!0,data:(await s.get("/erp/staff/attendance/monthly",{params:{month:e,year:a}})).data}}catch(n){var t,r;return{success:!1,error:(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to fetch monthly attendance"}}}},u={getMyPayments:async()=>{try{return{success:!0,data:(await s.get("/payments/my-payments")).data}}catch(t){var e,a;return{success:!1,error:(null===(e=t.response)||void 0===e||null===(a=e.data)||void 0===a?void 0:a.message)||"Failed to fetch your payments"}}},searchStudent:async e=>{try{return{success:!0,data:(await s.get("/users",{params:{search:e,role:"student"}})).data}}catch(r){var a,t;return{success:!1,error:(null===(a=r.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to search students"}}},getStudentFees:async e=>{try{return{success:!0,data:(await s.get("/payments/student/".concat(e))).data}}catch(r){var a,t;return{success:!1,error:(null===(a=r.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to fetch student fees"}}},collectFee:async e=>{try{return{success:!0,data:(await s.post("/payments/initiate",e)).data}}catch(r){var a,t;return{success:!1,error:(null===(a=r.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to collect fee"}}},generateReceipt:async e=>{try{return{success:!0,data:(await s.post("/receipts/generate",{paymentId:e})).data}}catch(r){var a,t;return{success:!1,error:(null===(a=r.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to generate receipt"}}},getPaymentDetails:async e=>{try{return{success:!0,data:(await s.get("/payments/".concat(e))).data}}catch(r){var a,t;return{success:!1,error:(null===(a=r.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to fetch payment details"}}},getStudentDetails:async(e,a)=>{try{return{success:!0,data:(await s.get("/users/".concat(e,"/").concat(a))).data}}catch(n){var t,r;return{success:!1,error:(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to fetch student details"}}},getStudentProfile:async(e,a)=>{try{return{success:!0,data:(await s.get("/student/profile/".concat(e,"/").concat(a))).data}}catch(n){var t,r;return{success:!1,error:(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to fetch student profile"}}},updateStudentProfile:async(e,a,t)=>{try{return{success:!0,data:(await s.put("/student/profile/".concat(e,"/").concat(a),t)).data}}catch(d){var r,n;return{success:!1,error:(null===(r=d.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||"Failed to update student profile"}}}},i={addExpense:async(e,a)=>{try{const t=new FormData;t.append("category",e.category),t.append("amount",e.amount),t.append("notes",e.notes||""),e.date&&t.append("date",e.date),a&&t.append("attachment",a);return{success:!0,data:(await s.post("/expenses",t,{headers:{"Content-Type":"multipart/form-data"}})).data}}catch(n){var t,r;return{success:!1,error:(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to add expense"}}},getExpenses:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return{success:!0,data:(await s.get("/expenses",{params:e})).data}}catch(r){var a,t;return{success:!1,error:(null===(a=r.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to fetch expenses"}}},getExpenseReport:async(e,a)=>{try{return{success:!0,data:(await s.get("/expenses/report",{params:{startDate:e,endDate:a}})).data}}catch(n){var t,r;return{success:!1,error:(null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||"Failed to generate expense report"}}},updateExpense:async(e,a,t)=>{try{const r=new FormData;a.category&&r.append("category",a.category),a.amount&&r.append("amount",a.amount),void 0!==a.notes&&r.append("notes",a.notes),a.date&&r.append("date",a.date),t&&r.append("attachment",t);return{success:!0,data:(await s.put("/expenses/".concat(e),r,{headers:{"Content-Type":"multipart/form-data"}})).data}}catch(d){var r,n;return{success:!1,error:(null===(r=d.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||"Failed to update expense"}}},deleteExpense:async e=>{try{return{success:!0,data:(await s.delete("/expenses/".concat(e))).data}}catch(r){var a,t;return{success:!1,error:(null===(a=r.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.message)||"Failed to delete expense"}}}}}}]);
//# sourceMappingURL=752.0e157420.chunk.js.map