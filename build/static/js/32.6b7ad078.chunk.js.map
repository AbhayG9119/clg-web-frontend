{"version":3,"file":"static/js/32.6b7ad078.chunk.js","mappings":"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","sources":["components/AdminPanel/ManageReceipts.js","components/AdminPanel/DuplicateReceipts.js","components/AdminPanel/StudentSearch.js","components/AdminPanel/ReceiptViewer.js","components/AdminPanel/CollectFees.js","components/AdminPanel/ConfirmationModal.js","components/AdminPanel/CancelReceipt.js","components/AdminPanel/Alert.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport '../../styles/ManageReceipts.css';\r\n\r\nconst ManageReceipts = () => {\r\n  const [receipts, setReceipts] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n  const [activeTab, setActiveTab] = useState('list');\r\n  const [formData, setFormData] = useState({\r\n    studentId: '',\r\n    selectedPayment: null\r\n  });\r\n  const [studentDetails, setStudentDetails] = useState(null);\r\n  const [studentPayments, setStudentPayments] = useState([]);\r\n  const [fetchingData, setFetchingData] = useState(false);\r\n  const [studentNames, setStudentNames] = useState({});\r\n  const [sessions, setSessions] = useState([]);\r\n  const [filters, setFilters] = useState({\r\n    course: '',\r\n    year: '',\r\n    semester: '',\r\n    status: '',\r\n    sessionId: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchReceipts();\r\n    fetchSessions();\r\n  }, []);\r\n\r\n  const fetchSessions = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/erp/sessions', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setSessions(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching sessions:', error);\r\n    }\r\n  };\r\n\r\n  const fetchReceipts = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const queryParams = new URLSearchParams();\r\n\r\n      if (filters.course) queryParams.append('course', filters.course);\r\n      if (filters.year) queryParams.append('year', filters.year);\r\n      if (filters.semester) queryParams.append('semester', filters.semester);\r\n      if (filters.status) queryParams.append('status', filters.status);\r\n      if (filters.sessionId) queryParams.append('sessionId', filters.sessionId);\r\n\r\n      const url = `http://localhost:5000/api/receipts${queryParams.toString() ? '?' + queryParams.toString() : ''}`;\r\n      const response = await fetch(url, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setReceipts(data);\r\n\r\n        // Collect studentIds that need name fetching\r\n        const studentIdsToFetch = [];\r\n        const names = {};\r\n\r\n        for (const receipt of data) {\r\n          if (receipt.studentName && receipt.studentName !== 'undefined undefined' && receipt.studentName.trim() !== '') {\r\n            names[receipt.studentId] = receipt.studentName;\r\n          } else {\r\n            if (!studentIdsToFetch.includes(receipt.studentId)) {\r\n              studentIdsToFetch.push(receipt.studentId);\r\n            }\r\n          }\r\n        }\r\n\r\n        // Fetch names for missing ones\r\n        for (const studentId of studentIdsToFetch) {\r\n          try {\r\n            const studentResponse = await fetch(`http://localhost:5000/api/payments/student-details/${studentId}`, {\r\n              headers: {\r\n                'Authorization': `Bearer ${token}`\r\n              }\r\n            });\r\n            if (studentResponse.ok) {\r\n              const studentData = await studentResponse.json();\r\n              names[studentId] = studentData.name || 'Unknown';\r\n            }\r\n          } catch (error) {\r\n            console.error('Error fetching student name:', error);\r\n            names[studentId] = 'Unknown';\r\n          }\r\n        }\r\n\r\n        setStudentNames(names);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching receipts:', error);\r\n      setMessage('Error fetching receipts: ' + error.message);\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleApplyFilters = () => {\r\n    fetchReceipts();\r\n  };\r\n\r\n  const handleDownloadReceipt = async (receiptId) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`http://localhost:5000/api/receipts/${receiptId}/download`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const blob = await response.blob();\r\n        const url = window.URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.href = url;\r\n        a.download = `receipt_${receiptId}.pdf`;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        window.URL.revokeObjectURL(url);\r\n        document.body.removeChild(a);\r\n      } else {\r\n        setMessage('Failed to download receipt');\r\n      }\r\n    } catch (error) {\r\n      setMessage('Error downloading receipt: ' + error.message);\r\n    }\r\n  };\r\n\r\n  const handleDuplicateReceipt = async (receiptId) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`http://localhost:5000/api/receipts/${receiptId}/duplicate`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        setMessage('Duplicate receipt generated successfully');\r\n        fetchReceipts();\r\n      } else {\r\n        setMessage('Failed to duplicate receipt');\r\n      }\r\n    } catch (error) {\r\n      setMessage('Error duplicating receipt: ' + error.message);\r\n    }\r\n  };\r\n\r\n  const handleCancelReceipt = async (receiptId) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`http://localhost:5000/api/receipts/${receiptId}/cancel`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ reason: 'Cancelled by admin' })\r\n      });\r\n\r\n      if (response.ok) {\r\n        setMessage('Receipt cancelled successfully');\r\n        fetchReceipts();\r\n      } else {\r\n        setMessage('Failed to cancel receipt');\r\n      }\r\n    } catch (error) {\r\n      setMessage('Error cancelling receipt: ' + error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"manage-receipts\">\r\n      <h2>Manage Fee Receipts</h2>\r\n\r\n      {message && (\r\n        <div className=\"message\">\r\n          {message}\r\n          <button onClick={() => setMessage('')} className=\"close-message\">&times;</button>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"filters-section\">\r\n        <h3>Filters</h3>\r\n        <div className=\"filters-grid\">\r\n          <div className=\"filter-group\">\r\n            <label>Course:</label>\r\n            <select name=\"course\" value={filters.course} onChange={handleFilterChange}>\r\n              <option value=\"\">All Courses</option>\r\n              <option value=\"B.A\">B.A</option>\r\n              <option value=\"B.Sc\">B.Sc</option>\r\n              <option value=\"B.Ed\">B.Ed</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"filter-group\">\r\n            <label>Year:</label>\r\n            <select name=\"year\" value={filters.year} onChange={handleFilterChange}>\r\n              <option value=\"\">All Years</option>\r\n              <option value=\"1\">1st Year</option>\r\n              <option value=\"2\">2nd Year</option>\r\n              <option value=\"3\">3rd Year</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"filter-group\">\r\n            <label>Semester:</label>\r\n            <select name=\"semester\" value={filters.semester} onChange={handleFilterChange}>\r\n              <option value=\"\">All Semesters</option>\r\n              <option value=\"1\">1st Semester</option>\r\n              <option value=\"2\">2nd Semester</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"filter-group\">\r\n            <label>Status:</label>\r\n            <select name=\"status\" value={filters.status} onChange={handleFilterChange}>\r\n              <option value=\"\">All Status</option>\r\n              <option value=\"active\">Active</option>\r\n              <option value=\"cancelled\">Cancelled</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"filter-group\">\r\n            <label>Session:</label>\r\n            <select name=\"sessionId\" value={filters.sessionId} onChange={handleFilterChange}>\r\n              <option value=\"\">All Sessions</option>\r\n              {sessions.map(session => (\r\n                <option key={session._id} value={session._id}>\r\n                  {session.sessionId} ({new Date(session.startDate).getFullYear()}-{new Date(session.endDate).getFullYear()})\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"filter-group\">\r\n            <button onClick={handleApplyFilters} className=\"apply-filters-btn\">\r\n              Apply Filters\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"receipts-section\">\r\n        <h3>Receipts List</h3>\r\n        {loading ? (\r\n          <p>Loading receipts...</p>\r\n        ) : receipts.length > 0 ? (\r\n          <div className=\"table-container\">\r\n            <table className=\"receipts-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Receipt No</th>\r\n                  <th>Student ID</th>\r\n                  <th>Student Name</th>\r\n                  <th>Course</th>\r\n                  <th>Year/Sem</th>\r\n                  <th>Session</th>\r\n                  <th>Amount</th>\r\n                  <th>Status</th>\r\n                  <th>Date</th>\r\n                  <th>Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {receipts.map(receipt => (\r\n                  <tr key={receipt._id}>\r\n                    <td>{receipt.receiptNumber}</td>\r\n                    <td>{receipt.studentId}</td>\r\n                    <td>{studentNames[receipt.studentId] || 'Loading...'}</td>\r\n                    <td>{receipt.course}</td>\r\n                    <td>{receipt.year}/{receipt.semester}</td>\r\n                    <td>{receipt.sessionId?.sessionId || 'N/A'}</td>\r\n                    <td>â‚¹{receipt.amount}</td>\r\n                    <td>\r\n                      <span className={`status-badge ${receipt.status === 'active' ? 'status-active' : 'status-cancelled'}`}>\r\n                        {receipt.status}\r\n                      </span>\r\n                    </td>\r\n                    <td>{new Date(receipt.createdAt).toLocaleDateString()}</td>\r\n                    <td>\r\n                      <button\r\n                        onClick={() => handleDownloadReceipt(receipt._id)}\r\n                        className=\"action-button download-button\"\r\n                      >\r\n                        Download\r\n                      </button>\r\n                      {receipt.status === 'active' && (\r\n                        <>\r\n                          <button\r\n                            onClick={() => handleDuplicateReceipt(receipt._id)}\r\n                            className=\"action-button duplicate-button\"\r\n                          >\r\n                            Duplicate\r\n                          </button>\r\n                          <button\r\n                            onClick={() => handleCancelReceipt(receipt._id)}\r\n                            className=\"action-button cancel-button\"\r\n                          >\r\n                            Cancel\r\n                          </button>\r\n                        </>\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        ) : (\r\n          <p className=\"no-receipts\">No receipts found.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ManageReceipts;\r\n","import React, { useState, useEffect } from 'react';\r\nimport '../../styles/DuplicateReceipts.css';\r\n\r\nconst DuplicateReceipts = () => {\r\n  const [duplicateReceipts, setDuplicateReceipts] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n  const [batches, setBatches] = useState([]);\r\n  const [sessions, setSessions] = useState([]);\r\n  const [filters, setFilters] = useState({\r\n    course: '',\r\n    year: '',\r\n    semester: '',\r\n    status: '',\r\n    sessionId: ''\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetchDuplicateReceipts();\r\n    fetchSessions();\r\n  }, []);\r\n\r\n  const fetchSessions = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/erp/sessions', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setSessions(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching sessions:', error);\r\n    }\r\n  };\r\n\r\n  const fetchDuplicateReceipts = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      const queryParams = new URLSearchParams(filters).toString();\r\n      const url = `http://localhost:5000/api/receipts/duplicates/all${queryParams ? `?${queryParams}` : ''}`;\r\n\r\n      const response = await fetch(url, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setDuplicateReceipts(data);\r\n      } else {\r\n        setMessage('Failed to fetch duplicate receipts');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching duplicate receipts:', error);\r\n      setMessage('Error fetching duplicate receipts: ' + error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleApplyFilters = () => {\r\n    fetchDuplicateReceipts();\r\n  };\r\n\r\n  const handleDownloadReceipt = async (receiptId) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`http://localhost:5000/api/receipts/${receiptId}/download`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const blob = await response.blob();\r\n        const url = window.URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.href = url;\r\n        a.download = `duplicate_receipt_${receiptId}.pdf`;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        window.URL.revokeObjectURL(url);\r\n        document.body.removeChild(a);\r\n      } else {\r\n        setMessage('Failed to download receipt');\r\n      }\r\n    } catch (error) {\r\n      setMessage('Error downloading receipt: ' + error.message);\r\n    }\r\n  };\r\n\r\n  const handleCancelReceipt = async (receiptId) => {\r\n    if (!window.confirm('Are you sure you want to cancel this duplicate receipt?')) return;\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`http://localhost:5000/api/receipts/${receiptId}/cancel`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        setMessage('Duplicate receipt cancelled successfully!');\r\n        fetchDuplicateReceipts();\r\n      } else {\r\n        setMessage('Failed to cancel receipt');\r\n      }\r\n    } catch (error) {\r\n      setMessage('Error cancelling receipt: ' + error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"duplicate-receipts-container\">\r\n      <div className=\"duplicate-receipts-header\">\r\n        <h1>Duplicate Receipts</h1>\r\n        <p>View and manage automatically generated duplicate receipts.</p>\r\n      </div>\r\n\r\n      {message && (\r\n        <div className={`message ${message.includes('Error') || message.includes('Failed') ? 'error' : ''}`}>\r\n          {message}\r\n        </div>\r\n      )}\r\n\r\n      {/* Filters */}\r\n      <div className=\"filters-section\">\r\n        <h3>Filters</h3>\r\n        <div className=\"filters-grid\">\r\n          <div className=\"filter-group\">\r\n            <label>Course:</label>\r\n            <select\r\n              name=\"course\"\r\n              value={filters.course}\r\n              onChange={handleFilterChange}\r\n            >\r\n              <option value=\"\">All Courses</option>\r\n              <option value=\"B.A\">B.A</option>\r\n              <option value=\"B.Sc\">B.Sc</option>\r\n              <option value=\"B.Ed\">B.Ed</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"filter-group\">\r\n            <label>Year:</label>\r\n            <select name=\"year\" value={filters.year} onChange={handleFilterChange}>\r\n              <option value=\"\">All Years</option>\r\n              <option value=\"1\">1st Year</option>\r\n              <option value=\"2\">2nd Year</option>\r\n              <option value=\"3\">3rd Year</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"filter-group\">\r\n            <label>Semester:</label>\r\n            <select name=\"semester\" value={filters.semester} onChange={handleFilterChange}>\r\n              <option value=\"\">All Semesters</option>\r\n              <option value=\"1\">1st Semester</option>\r\n              <option value=\"2\">2nd Semester</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"filter-group\">\r\n            <label>Status:</label>\r\n            <select\r\n              name=\"status\"\r\n              value={filters.status}\r\n              onChange={handleFilterChange}\r\n            >\r\n              <option value=\"\">All Status</option>\r\n              <option value=\"active\">Active</option>\r\n              <option value=\"cancelled\">Cancelled</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"filter-group\">\r\n            <label>Session:</label>\r\n            <select\r\n              name=\"sessionId\"\r\n              value={filters.sessionId}\r\n              onChange={handleFilterChange}\r\n            >\r\n              <option value=\"\">All Sessions</option>\r\n              {sessions.map(session => (\r\n                <option key={session._id} value={session._id}>\r\n                  {session.sessionId} ({new Date(session.startDate).getFullYear()}-{new Date(session.endDate).getFullYear()})\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"filter-group\">\r\n            <button onClick={handleApplyFilters} className=\"apply-filters-button\">\r\n              Apply Filters\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Duplicate Receipts List */}\r\n      <div className=\"duplicate-receipts-list\">\r\n        <h3>Duplicate Receipts List</h3>\r\n        {loading ? (\r\n          <div className=\"loading\">Loading duplicate receipts...</div>\r\n        ) : (\r\n          <div style={{ maxHeight: '600px', overflowY: 'auto' }}>\r\n            {duplicateReceipts.length > 0 ? (\r\n              <table className=\"duplicate-receipts-table\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>Duplicate Receipt No</th>\r\n                    <th>Original Receipt No</th>\r\n                    <th>Student ID</th>\r\n                    <th>Student Name</th>\r\n                    <th>Session</th>\r\n                    <th>Amount</th>\r\n                    <th>Status</th>\r\n                    <th>Generated Date</th>\r\n                    <th>Actions</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {duplicateReceipts.map(receipt => (\r\n                    <tr key={receipt._id}>\r\n                      <td>\r\n                        {receipt.receiptNumber}\r\n                      </td>\r\n                      <td>\r\n                        {receipt.originalReceiptId?.receiptNumber || 'N/A'}\r\n                      </td>\r\n                      <td>\r\n                        {receipt.studentId}\r\n                      </td>\r\n                      <td>\r\n                        {receipt.studentName}\r\n                      </td>\r\n                      <td>\r\n                        {receipt.sessionId?.sessionId || 'N/A'}\r\n                      </td>\r\n                      <td>\r\n                        â‚¹{receipt.amount}\r\n                      </td>\r\n                      <td>\r\n                        <span className={`status-badge ${receipt.status === 'active' ? 'status-active' : 'status-cancelled'}`}>\r\n                          {receipt.status}\r\n                        </span>\r\n                      </td>\r\n                      <td>\r\n                        {new Date(receipt.createdAt).toLocaleDateString()}\r\n                      </td>\r\n                      <td>\r\n                        <button\r\n                          onClick={() => handleDownloadReceipt(receipt._id)}\r\n                          className=\"action-button download-button\"\r\n                        >\r\n                          Download\r\n                        </button>\r\n                        {receipt.status === 'active' && (\r\n                          <button\r\n                            onClick={() => handleCancelReceipt(receipt._id)}\r\n                            className=\"action-button cancel-button\"\r\n                          >\r\n                            Cancel\r\n                          </button>\r\n                        )}\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            ) : (\r\n              <p className=\"no-duplicate-receipts\">No duplicate receipts found.</p>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DuplicateReceipts;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { feesApi } from '../../services/adminApi';\r\n\r\nconst StudentSearch = ({ onStudentSelect, placeholder = \"Search student by ID, name, class...\" }) => {\r\n  const [query, setQuery] = useState('');\r\n  const [suggestions, setSuggestions] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [showSuggestions, setShowSuggestions] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const searchStudents = async () => {\r\n      if (query.length < 2) {\r\n        setSuggestions([]);\r\n        return;\r\n      }\r\n\r\n      setIsLoading(true);\r\n      const result = await feesApi.searchStudent(query);\r\n      setIsLoading(false);\r\n\r\n      if (result.success) {\r\n        setSuggestions(result.data);\r\n      } else {\r\n        setSuggestions([]);\r\n      }\r\n    };\r\n\r\n    const debounceTimer = setTimeout(searchStudents, 300);\r\n    return () => clearTimeout(debounceTimer);\r\n  }, [query]);\r\n\r\n  const handleSelect = (student) => {\r\n    const normalizedStudent = {\r\n      ...student,\r\n      id: student.id || student._id\r\n    };\r\n    setQuery(normalizedStudent.id + \" - \" + normalizedStudent.name);\r\n    setShowSuggestions(false);\r\n    onStudentSelect(normalizedStudent);\r\n  };\r\n\r\n  return (\r\n    <div className=\"student-search\">\r\n      <input\r\n        type=\"text\"\r\n        value={query}\r\n        onChange={(e) => setQuery(e.target.value)}\r\n        onFocus={() => setShowSuggestions(true)}\r\n        onBlur={() => setTimeout(() => setShowSuggestions(false), 200)}\r\n        placeholder={placeholder}\r\n        className=\"student-search-input\"\r\n      />\r\n      {isLoading && <div className=\"loading\">Searching...</div>}\r\n      {showSuggestions && suggestions.length > 0 && (\r\n        <ul className=\"suggestions-list\">\r\n          {suggestions.map((student) => (\r\n            <li\r\n              key={student._id}\r\n              onClick={() => handleSelect(student)}\r\n              className=\"suggestion-item\"\r\n            >\r\n              <div className=\"student-info\">\r\n                <span className=\"student-id\">{student.id || student._id}</span>\r\n                <span className=\"student-name\">{student.name}</span>\r\n                <span className=\"student-class\">{student.class} - {student.session}</span>\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StudentSearch;\r\n","import React from 'react';\r\nimport '../../styles/ReceiptViewer.css';\r\n\r\nconst ReceiptViewer = ({ receipt, onClose, onPrint }) => {\r\n  if (!receipt) return null;\r\n\r\n  return (\r\n    <div className=\"receipt-viewer-overlay\">\r\n      <div className=\"receipt-viewer\">\r\n        <div className=\"receipt-header\">\r\n          <h2>College Fee Receipt</h2>\r\n          <button className=\"close-btn\" onClick={onClose}>Ã—</button>\r\n        </div>\r\n\r\n        <div className=\"receipt-content\">\r\n          <div className=\"receipt-details\">\r\n            <div className=\"detail-row\">\r\n              <span className=\"label\">Receipt Number:</span>\r\n              <span className=\"value\">{receipt.receiptNumber}</span>\r\n            </div>\r\n            <div className=\"detail-row\">\r\n              <span className=\"label\">Date:</span>\r\n              <span className=\"value\">{new Date(receipt.date).toLocaleDateString()}</span>\r\n            </div>\r\n            <div className=\"detail-row\">\r\n              <span className=\"label\">Student ID:</span>\r\n              <span className=\"value\">{receipt.studentId}</span>\r\n            </div>\r\n            <div className=\"detail-row\">\r\n              <span className=\"label\">Student Name:</span>\r\n              <span className=\"value\">{receipt.studentName}</span>\r\n            </div>\r\n            <div className=\"detail-row\">\r\n              <span className=\"label\">Payment Mode:</span>\r\n              <span className=\"value\">{receipt.paymentMode}</span>\r\n            </div>\r\n            <div className=\"detail-row\">\r\n              <span className=\"label\">Amount Paid:</span>\r\n              <span className=\"value\">â‚¹{receipt.amount.toLocaleString()}</span>\r\n            </div>\r\n            {receipt.remarks && (\r\n              <div className=\"detail-row\">\r\n                <span className=\"label\">Remarks:</span>\r\n                <span className=\"value\">{receipt.remarks}</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {receipt.breakdown && receipt.breakdown.length > 0 && (\r\n            <div className=\"fee-breakdown\">\r\n              <h3>Fee Breakdown</h3>\r\n              <table>\r\n                <thead>\r\n                  <tr>\r\n                    <th>Fee Head</th>\r\n                    <th>Amount</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {receipt.breakdown.map((item, index) => (\r\n                    <tr key={index}>\r\n                      <td>{item.head}</td>\r\n                      <td>â‚¹{item.amount.toLocaleString()}</td>\r\n                    </tr>\r\n                  ))}\r\n                  <tr className=\"total-row\">\r\n                    <td><strong>Total</strong></td>\r\n                    <td><strong>â‚¹{receipt.amount.toLocaleString()}</strong></td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"receipt-footer\">\r\n          <p>This is a computer generated receipt.</p>\r\n          <div className=\"receipt-actions\">\r\n            <button className=\"btn btn-secondary\" onClick={onPrint}>\r\n              Print Receipt\r\n            </button>\r\n            <button className=\"btn btn-primary\" onClick={onClose}>\r\n              Close\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReceiptViewer;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport StudentSearch from './StudentSearch';\r\nimport FeeSummaryTable from './FeeSummaryTable';\r\nimport ReceiptViewer from './ReceiptViewer';\r\nimport Alert from './Alert';\r\nimport { feesApi } from '../../services/adminApi';\r\nimport './CollectFees.css';\r\n\r\nconst CollectFees = () => {\r\n  const [selectedStudent, setSelectedStudent] = useState(null);\r\n  const [studentDetails, setStudentDetails] = useState(null);\r\n  const [fees, setFees] = useState([]);\r\n  const [feeStructure, setFeeStructure] = useState(null);\r\n  const [paymentData, setPaymentData] = useState({\r\n    amount: '',\r\n    paymentMode: '',\r\n    remarks: ''\r\n  });\r\n  const [receipt, setReceipt] = useState(null);\r\n  const [showReceipt, setShowReceipt] = useState(false);\r\n  const [alert, setAlert] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const paymentModes = ['Online', 'Offline'];\r\n\r\n  // Ref to keep track of assigned serial numbers for students by ID\r\n  const studentSerialMap = useRef(new Map());\r\n  // Ref to keep track of last assigned serial number\r\n  const lastAssignedSerial = useRef(0);\r\n\r\n  const getSerialNumberForStudent = (studentId) => {\r\n    if (studentSerialMap.current.has(studentId)) {\r\n      return studentSerialMap.current.get(studentId);\r\n    } else {\r\n      lastAssignedSerial.current += 1;\r\n      studentSerialMap.current.set(studentId, lastAssignedSerial.current);\r\n      return lastAssignedSerial.current;\r\n    }\r\n  };\r\n\r\nconst formatStudentId = (studentId) => {\r\n  const serialNumber = getSerialNumberForStudent(studentId);\r\n  // Pad serial number with leading zeros to 4 digits\r\n  const paddedSerial = serialNumber.toString().padStart(4, '0');\r\n  return `STU${paddedSerial}`;\r\n};\r\n\r\n  useEffect(() => {\r\n    if (selectedStudent) {\r\n      fetchStudentDetails();\r\n      fetchFeeStructure();\r\n    }\r\n  }, [selectedStudent]);\r\n\r\n  useEffect(() => {\r\n    if (selectedStudent && feeStructure) {\r\n      // Fetch student fees only after fee structure is loaded\r\n      fetchStudentFees();\r\n    }\r\n  }, [selectedStudent, feeStructure]);\r\n\r\n  const fetchStudentDetails = async () => {\r\n    if (!selectedStudent || !selectedStudent.id) return;\r\n    setIsLoading(true);\r\n    const result = await feesApi.getStudentDetails(selectedStudent.id, 'student');\r\n    setIsLoading(false);\r\n    if (result.success) {\r\n      const student = result.data;\r\n      setStudentDetails({\r\n        phone: student.mobileNumber || 'N/A',\r\n        email: student.email || 'N/A',\r\n        address: `${student.address.street}, ${student.address.city}, ${student.address.state} - ${student.address.pincode}` || 'N/A',\r\n        dob: student.dateOfBirth ? new Date(student.dateOfBirth).toLocaleDateString() : 'N/A',\r\n        fatherName: student.guardianName || 'N/A',\r\n        motherName: 'N/A' // Not available in schema\r\n      });\r\n    } else {\r\n      setAlert({ message: 'Failed to fetch student details', type: 'error' });\r\n    }\r\n  };\r\n\r\n  const fetchFeeStructure = async () => {\r\n    if (!selectedStudent || !selectedStudent.class) return;\r\n    const course = selectedStudent.class.split(' ')[0]; // Extract course from class\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`http://localhost:5000/api/fees/${course}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setFeeStructure(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching fee structure:', error);\r\n    }\r\n  };\r\n\r\n  const fetchStudentFees = async () => {\r\n    if (!selectedStudent || !selectedStudent.id) return;\r\n    setIsLoading(true);\r\n    const result = await feesApi.getStudentFees(selectedStudent.id);\r\n    setIsLoading(false);\r\n    if (result.success) {\r\n      // Transform payment data to fee summary format\r\n      const feeSummary = calculateFeeSummary(result.data);\r\n      setFees(feeSummary);\r\n    } else {\r\n      setAlert({ message: 'Failed to fetch student fees', type: 'error' });\r\n    }\r\n  };\r\n\r\n  const calculateFeeSummary = (payments) => {\r\n    // Use actual fee structure if available, otherwise fallback to defaults\r\n    let feeHeads = [];\r\n\r\n    if (feeStructure && feeStructure.feeComponents) {\r\n      // Convert feeComponents object to array format and round to 2 decimal places\r\n      feeHeads = Object.entries(feeStructure.feeComponents).map(([key, value]) => ({\r\n        head: key.charAt(0).toUpperCase() + key.slice(1).replace(/([A-Z])/g, ' $1'), // Convert camelCase to Title Case\r\n        total: Math.round((parseFloat(value) || 0) * 100) / 100 // Round to 2 decimals\r\n      }));\r\n    } else {\r\n      // Fallback to default fee heads if fee structure not loaded\r\n      feeHeads = [\r\n        { head: 'Tuition Fee', total: 5000 },\r\n        { head: 'Library Fee', total: 500 },\r\n        { head: 'Sports Fee', total: 1000 },\r\n        { head: 'Exam Fee', total: 1500 }\r\n      ];\r\n    }\r\n\r\n    // Calculate total paid amount as float, rounded to 2 decimals\r\n    const totalPaid = Math.round(payments.reduce((sum, payment) => {\r\n      if (payment.status === 'Paid') {\r\n        return sum + (parseFloat(payment.amount) || 0);\r\n      }\r\n      return sum;\r\n    }, 0) * 100) / 100;\r\n\r\n    // Allocate payments starting from first fee head, then next, etc.\r\n    let remainingPaid = totalPaid;\r\n    return feeHeads.map(fee => {\r\n      const paidForThisFee = Math.min(remainingPaid, fee.total);\r\n      remainingPaid -= paidForThisFee;\r\n      return {\r\n        head: fee.head,\r\n        amount: fee.total,\r\n        paid: Math.round(paidForThisFee * 100) / 100,\r\n        balance: Math.round(Math.max(0, fee.total - paidForThisFee) * 100) / 100\r\n      };\r\n    });\r\n  };\r\n\r\n  const handlePaymentSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const totalDue = fees.reduce((sum, fee) => sum + fee.balance, 0);\r\n    const amount = parseFloat(paymentData.amount);\r\n\r\n    if (amount <= 0 || amount > totalDue) {\r\n      setAlert({ message: 'Invalid payment amount', type: 'error' });\r\n      return;\r\n    }\r\n\r\n    if (!paymentData.paymentMode) {\r\n      setAlert({ message: 'Please select payment mode', type: 'error' });\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n\r\n    if (!selectedStudent || !selectedStudent.id) {\r\n      setAlert({ message: 'No student selected', type: 'error' });\r\n      return;\r\n    }\r\n\r\n    const paymentPayload = {\r\n      studentId: selectedStudent.id,\r\n      course: selectedStudent.class.split(' ')[0], // Extract course from class\r\n      year: parseInt(selectedStudent.class.split(' ')[1]) || 1, // Extract year\r\n      semester: 1, // Default semester\r\n      paymentType: 'year', // Default payment type\r\n      paymentMethod: paymentData.paymentMode.toLowerCase(),\r\n      remarks: paymentData.remarks || '',\r\n      amount: amount,\r\n      status: 'Paid', // Mark as paid immediately\r\n      paymentDate: new Date().toISOString()\r\n    };\r\n\r\n    const result = await feesApi.collectFee(paymentPayload);\r\n    setIsLoading(false);\r\n\r\n    if (result.success) {\r\n      // Generate receipt\r\n      const receiptResult = await feesApi.generateReceipt(result.data.paymentId);\r\n      if (receiptResult.success) {\r\n        setReceipt({\r\n          receiptNumber: receiptResult.data.receipt.receiptNumber,\r\n          date: receiptResult.data.receipt.issuedDate,\r\n          studentId: selectedStudent.id,\r\n          studentName: selectedStudent.name,\r\n          amount: amount,\r\n          paymentMode: paymentData.paymentMode,\r\n          remarks: paymentData.remarks || 'No remarks',\r\n          paymentId: result.data.paymentId,\r\n          breakdown: fees.filter(fee => fee.balance > 0).map(fee => ({\r\n            head: fee.head,\r\n            amount: Math.min(fee.balance, amount)\r\n          }))\r\n        });\r\n        setAlert({ message: 'Payment collected successfully! Click \"Generate Receipt\" to view/print the receipt.', type: 'success' });\r\n      } else {\r\n        setAlert({ message: 'Payment collected but failed to generate receipt', type: 'warning' });\r\n      }\r\n      // Reset form\r\n      setPaymentData({ amount: '', paymentMode: '', remarks: '' });\r\n      // Refresh fees\r\n      fetchStudentFees();\r\n    } else {\r\n      setAlert({ message: result.error, type: 'error' });\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setPaymentData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const totalDue = fees.reduce((sum, fee) => sum + fee.balance, 0);\r\n\r\n  return (\r\n    <div className=\"menu-content\">\r\n      <h1>Collect Fees</h1>\r\n\r\n      {alert && (\r\n        <Alert\r\n          message={alert.message}\r\n          type={alert.type}\r\n          onClose={() => setAlert(null)}\r\n        />\r\n      )}\r\n\r\n      <div className=\"collect-fees-container\">\r\n        <div className=\"search-section\">\r\n          <StudentSearch\r\n            onStudentSelect={setSelectedStudent}\r\n            placeholder=\"Search student to collect fees...\"\r\n          />\r\n        </div>\r\n\r\n        {selectedStudent && (\r\n          <>\r\n            <div className=\"student-info\">\r\n              <h3>Student: {selectedStudent.name} ({formatStudentId(selectedStudent.id)})</h3>\r\n              <p>Class: {selectedStudent.class} | Session: {selectedStudent.session}</p>\r\n              {studentDetails && (\r\n                <div className=\"additional-details\">\r\n                  <p><strong>Phone:</strong> {studentDetails.phone || 'N/A'}</p>\r\n                  <p><strong>Email:</strong> {studentDetails.email || 'N/A'}</p>\r\n                  <p><strong>Address:</strong> {studentDetails.address || 'N/A'}</p>\r\n                  <p><strong>Date of Birth:</strong> {studentDetails.dob || 'N/A'}</p>\r\n                  <p><strong>Father's Name:</strong> {studentDetails.fatherName || 'N/A'}</p>\r\n                  <p><strong>Mother's Name:</strong> {studentDetails.motherName || 'N/A'}</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {isLoading ? (\r\n              <div className=\"loading\">Loading fee details...</div>\r\n            ) : (\r\n              <FeeSummaryTable fees={fees} />\r\n            )}\r\n\r\n            <div className=\"payment-section\">\r\n              {!showReceipt ? (\r\n                <>\r\n                  <h3>Payment Entry</h3>\r\n                  <form onSubmit={handlePaymentSubmit} className=\"payment-form\">\r\n                    <div className=\"form-group\">\r\n                      <label>Amount to Pay (â‚¹):</label>\r\n                      <input\r\n                        type=\"number\"\r\n                        name=\"amount\"\r\n                        value={paymentData.amount}\r\n                        onChange={handleInputChange}\r\n                        min=\"0\"\r\n                        max={totalDue}\r\n                        step=\"0.01\"\r\n                        required\r\n                      />\r\n                      <small>Total due: â‚¹{totalDue.toLocaleString()}</small>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                      <label>Payment Mode:</label>\r\n                      <select\r\n                        name=\"paymentMode\"\r\n                        value={paymentData.paymentMode}\r\n                        onChange={handleInputChange}\r\n                        required\r\n                      >\r\n                        <option value=\"\">Select payment mode</option>\r\n                        {paymentModes.map(mode => (\r\n                          <option key={mode} value={mode}>{mode}</option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                      <label>Remarks (Optional):</label>\r\n                      <textarea\r\n                        name=\"remarks\"\r\n                        value={paymentData.remarks}\r\n                        onChange={handleInputChange}\r\n                        rows=\"3\"\r\n                        placeholder=\"Enter any remarks...\"\r\n                      />\r\n                    </div>\r\n\r\n                    <button\r\n                      type=\"submit\"\r\n                      className=\"btn btn-primary\"\r\n                      disabled={isLoading || !paymentData.amount || !paymentData.paymentMode}\r\n                    >\r\n                      {isLoading ? 'Processing...' : 'Collect Fees'}\r\n                    </button>\r\n                  </form>\r\n\r\n                  {receipt && (\r\n                    <div className=\"receipt-preview\">\r\n                      <h3>Receipt Generated Successfully!</h3>\r\n                      <div className=\"receipt-info\">\r\n                        <p><strong>Receipt No:</strong> {receipt.receiptNumber}</p>\r\n                        <p><strong>Amount:</strong> â‚¹{receipt.amount.toLocaleString()}</p>\r\n                        <p><strong>Payment Mode:</strong> {receipt.paymentMode}</p>\r\n                        <p><strong>Date:</strong> {new Date(receipt.date).toLocaleDateString()}</p>\r\n                      </div>\r\n                      <button\r\n                        className=\"btn btn-secondary\"\r\n                        onClick={() => setShowReceipt(true)}\r\n                      >\r\n                        Generate Receipt\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                </>\r\n              ) : (\r\n                <ReceiptViewer\r\n                  receipt={receipt}\r\n                  onClose={() => setShowReceipt(false)}\r\n                  onPrint={() => setAlert({ message: 'Receipt printed successfully!', type: 'success' })}\r\n                />\r\n              )}\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CollectFees;\r\n","import React from 'react';\r\n\r\nconst ConfirmationModal = ({ isOpen, title, message, onConfirm, onCancel }) => {\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"modal-overlay\">\r\n      <div className=\"confirmation-modal\">\r\n        <div className=\"modal-header\">\r\n          <h3>{title}</h3>\r\n        </div>\r\n        <div className=\"modal-body\">\r\n          <p>{message}</p>\r\n        </div>\r\n        <div className=\"modal-footer\">\r\n          <button className=\"btn btn-secondary\" onClick={onCancel}>\r\n            Cancel\r\n          </button>\r\n          <button className=\"btn btn-danger\" onClick={onConfirm}>\r\n            Confirm\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ConfirmationModal;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Alert from './Alert';\r\nimport ConfirmationModal from './ConfirmationModal';\r\nimport '../../styles/CancelReceipts.css';\r\n\r\nconst CancelReceipt = () => {\r\n  const [receipts, setReceipts] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState('');\r\n  const [sessions, setSessions] = useState([]);\r\n  const [filters, setFilters] = useState({\r\n    course: '',\r\n    year: '',\r\n    semester: '',\r\n    status: '',\r\n    sessionId: ''\r\n  });\r\n  const [showConfirmModal, setShowConfirmModal] = useState(false);\r\n  const [selectedReceipt, setSelectedReceipt] = useState(null);\r\n  const [cancelReason, setCancelReason] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchReceipts();\r\n    fetchSessions();\r\n  }, []);\r\n\r\n  const fetchSessions = async () => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch('http://localhost:5000/api/erp/sessions', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setSessions(data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching sessions:', error);\r\n    }\r\n  };\r\n\r\n  const fetchReceipts = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const token = localStorage.getItem('token');\r\n      const queryParams = new URLSearchParams(filters).toString();\r\n      const url = `http://localhost:5000/api/receipts${queryParams ? `?${queryParams}` : ''}`;\r\n\r\n      const response = await fetch(url, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setReceipts(data);\r\n      } else {\r\n        setMessage('Failed to fetch receipts');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching receipts:', error);\r\n      setMessage('Error fetching receipts: ' + error.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFilters(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handleApplyFilters = () => {\r\n    fetchReceipts();\r\n  };\r\n\r\n  const handleCancelReceipt = (receipt) => {\r\n    setSelectedReceipt(receipt);\r\n    setCancelReason('');\r\n    setShowConfirmModal(true);\r\n  };\r\n\r\n  const handleConfirmCancel = async () => {\r\n    if (!cancelReason.trim()) {\r\n      setMessage('Please provide a reason for cancellation');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`http://localhost:5000/api/receipts/${selectedReceipt._id}/cancel`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ reason: cancelReason })\r\n      });\r\n\r\n      if (response.ok) {\r\n        setMessage('Receipt cancelled successfully!');\r\n        fetchReceipts();\r\n        setShowConfirmModal(false);\r\n        setSelectedReceipt(null);\r\n      } else {\r\n        setMessage('Failed to cancel receipt');\r\n      }\r\n    } catch (error) {\r\n      setMessage('Error cancelling receipt: ' + error.message);\r\n    }\r\n  };\r\n\r\n  const handleDownloadReceipt = async (receiptId) => {\r\n    try {\r\n      const token = localStorage.getItem('token');\r\n      const response = await fetch(`http://localhost:5000/api/receipts/${receiptId}/download`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const blob = await response.blob();\r\n        const url = window.URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.href = url;\r\n        a.download = `receipt_${receiptId}.pdf`;\r\n        document.body.appendChild(a);\r\n        a.click();\r\n        window.URL.revokeObjectURL(url);\r\n        document.body.removeChild(a);\r\n      } else {\r\n        setMessage('Failed to download receipt');\r\n      }\r\n    } catch (error) {\r\n      setMessage('Error downloading receipt: ' + error.message);\r\n    }\r\n  };\r\n\r\n  const userRole = localStorage.getItem('role');\r\n  const canCancel = userRole === 'admin';\r\n\r\n  return (\r\n    <div className=\"cancel-receipts-container\">\r\n      <div className=\"cancel-receipts-header\">\r\n        <h1>Cancel Receipts</h1>\r\n        <p>View and cancel issued fee receipts. This action cannot be undone.</p>\r\n      </div>\r\n\r\n      {message && (\r\n        <div className={`message ${message.includes('Error') || message.includes('Failed') ? 'error' : ''}`}>\r\n          {message}\r\n        </div>\r\n      )}\r\n\r\n      {!canCancel && (\r\n        <div className=\"warning-message\">\r\n          <p>âš ï¸ Only administrators can cancel receipts.</p>\r\n        </div>\r\n      )}\r\n\r\n      {canCancel && (\r\n        <>\r\n          {/* Filters */}\r\n          <div className=\"filters-section\">\r\n            <h3>Filters</h3>\r\n            <div className=\"filters-grid\">\r\n              <div className=\"filter-group\">\r\n                <label>Course:</label>\r\n                <select\r\n                  name=\"course\"\r\n                  value={filters.course}\r\n                  onChange={handleFilterChange}\r\n                >\r\n                  <option value=\"\">All Courses</option>\r\n                  <option value=\"B.A\">B.A</option>\r\n                  <option value=\"B.Sc\">B.Sc</option>\r\n                  <option value=\"B.Ed\">B.Ed</option>\r\n                </select>\r\n              </div>\r\n          <div className=\"filter-group\">\r\n            <label>Year:</label>\r\n            <select name=\"year\" value={filters.year} onChange={handleFilterChange}>\r\n              <option value=\"\">All Years</option>\r\n              <option value=\"1\">1st Year</option>\r\n              <option value=\"2\">2nd Year</option>\r\n              <option value=\"3\">3rd Year</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"filter-group\">\r\n            <label>Semester:</label>\r\n            <select name=\"semester\" value={filters.semester} onChange={handleFilterChange}>\r\n              <option value=\"\">All Semesters</option>\r\n              <option value=\"1\">1st Semester</option>\r\n              <option value=\"2\">2nd Semester</option>\r\n            </select>\r\n          </div>\r\n              <div className=\"filter-group\">\r\n                <label>Status:</label>\r\n                <select\r\n                  name=\"status\"\r\n                  value={filters.status}\r\n                  onChange={handleFilterChange}\r\n                >\r\n                  <option value=\"\">All Status</option>\r\n                  <option value=\"active\">Active</option>\r\n                  <option value=\"cancelled\">Cancelled</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"filter-group\">\r\n                <label>Session:</label>\r\n                <select\r\n                  name=\"sessionId\"\r\n                  value={filters.sessionId}\r\n                  onChange={handleFilterChange}\r\n                >\r\n                  <option value=\"\">All Sessions</option>\r\n                  {sessions.map(session => (\r\n                    <option key={session._id} value={session._id}>\r\n                      {session.sessionId} ({new Date(session.startDate).getFullYear()}-{new Date(session.endDate).getFullYear()})\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              <div className=\"filter-group\">\r\n                <button onClick={handleApplyFilters} className=\"apply-filters-button\">\r\n                  Apply Filters\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Receipts List */}\r\n          <div className=\"cancel-receipts-list\">\r\n            <h3>Receipts List</h3>\r\n            {loading ? (\r\n              <div className=\"loading\">Loading receipts...</div>\r\n            ) : (\r\n              <div style={{ maxHeight: '600px', overflowY: 'auto' }}>\r\n                {receipts.length > 0 ? (\r\n                  <table className=\"cancel-receipts-table\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th>Receipt No</th>\r\n                        <th>Student ID</th>\r\n                        <th>Student Name</th>\r\n                        <th>Session</th>\r\n                        <th>Amount</th>\r\n                        <th>Status</th>\r\n                        <th>Date</th>\r\n                        <th>Actions</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {receipts.map(receipt => (\r\n                        <tr key={receipt._id}>\r\n                          <td>{receipt.receiptNumber}</td>\r\n                          <td>{receipt.studentId}</td>\r\n                          <td>{receipt.studentName}</td>\r\n                          <td>{receipt.sessionId?.sessionId || 'N/A'}</td>\r\n                          <td>â‚¹{receipt.amount}</td>\r\n                          <td>\r\n                            <span className={`status-badge ${receipt.status === 'active' ? 'status-active' : 'status-cancelled'}`}>\r\n                              {receipt.status}\r\n                            </span>\r\n                          </td>\r\n                          <td>{new Date(receipt.createdAt).toLocaleDateString()}</td>\r\n                          <td>\r\n                            <button\r\n                              onClick={() => handleDownloadReceipt(receipt._id)}\r\n                              className=\"action-button download-button\"\r\n                            >\r\n                              Download\r\n                            </button>\r\n                            {receipt.status === 'active' && (\r\n                              <button\r\n                                onClick={() => handleCancelReceipt(receipt)}\r\n                                className=\"action-button cancel-button\"\r\n                              >\r\n                                Cancel\r\n                              </button>\r\n                            )}\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                ) : (\r\n                  <p className=\"no-receipts\">No receipts found.</p>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      <ConfirmationModal\r\n        isOpen={showConfirmModal}\r\n        title=\"Confirm Cancellation\"\r\n        message={\r\n          <div>\r\n            <p>Are you sure you want to cancel receipt <strong>{selectedReceipt?.receiptNumber}</strong>? This action cannot be undone.</p>\r\n            <div className=\"form-group\">\r\n              <label>Reason for Cancellation (Required):</label>\r\n              <textarea\r\n                value={cancelReason}\r\n                onChange={(e) => setCancelReason(e.target.value)}\r\n                rows=\"4\"\r\n                placeholder=\"Please provide a detailed reason for cancelling this receipt...\"\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n        }\r\n        onConfirm={handleConfirmCancel}\r\n        onCancel={() => setShowConfirmModal(false)}\r\n        confirmText=\"Cancel Receipt\"\r\n        cancelText=\"Keep Receipt\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CancelReceipt;\r\n","import React from 'react';\r\nimport '../../styles/Alert.css';\r\n\r\nconst Alert = ({ message, type, onClose }) => {\r\n  const getAlertClass = () => {\r\n    switch (type) {\r\n      case 'success':\r\n        return 'alert-success';\r\n      case 'error':\r\n        return 'alert-error';\r\n      case 'warning':\r\n        return 'alert-warning';\r\n      case 'info':\r\n        return 'alert-info';\r\n      default:\r\n        return 'alert-info';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`alert ${getAlertClass()}`}>\r\n      <span className=\"alert-message\">{message}</span>\r\n      {onClose && (\r\n        <button className=\"alert-close\" onClick={onClose}>\r\n          Ã—\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Alert;\r\n"],"names":["ManageReceipts","receipts","setReceipts","useState","loading","setLoading","message","setMessage","activeTab","setActiveTab","formData","setFormData","studentId","selectedPayment","studentDetails","setStudentDetails","studentPayments","setStudentPayments","fetchingData","setFetchingData","studentNames","setStudentNames","sessions","setSessions","filters","setFilters","course","year","semester","status","sessionId","useEffect","fetchReceipts","fetchSessions","async","token","localStorage","getItem","response","fetch","headers","concat","ok","data","json","error","console","queryParams","URLSearchParams","append","url","toString","studentIdsToFetch","names","receipt","studentName","trim","includes","push","studentResponse","studentData","name","handleFilterChange","e","value","target","prev","_objectSpread","_jsxs","className","children","_jsx","onClick","onChange","map","session","_id","Date","startDate","getFullYear","endDate","handleApplyFilters","length","_receipt$sessionId","receiptNumber","amount","createdAt","toLocaleDateString","receiptId","blob","window","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","revokeObjectURL","removeChild","handleDownloadReceipt","_Fragment","method","handleDuplicateReceipt","JSON","stringify","reason","handleCancelReceipt","DuplicateReceipts","duplicateReceipts","setDuplicateReceipts","batches","setBatches","fetchDuplicateReceipts","style","maxHeight","overflowY","_receipt$originalRece","originalReceiptId","confirm","_ref","onStudentSelect","placeholder","query","setQuery","suggestions","setSuggestions","isLoading","setIsLoading","showSuggestions","setShowSuggestions","debounceTimer","setTimeout","result","feesApi","searchStudent","success","clearTimeout","type","onFocus","onBlur","student","normalizedStudent","id","handleSelect","class","onClose","onPrint","date","paymentMode","toLocaleString","remarks","breakdown","item","index","head","CollectFees","selectedStudent","setSelectedStudent","fees","setFees","feeStructure","setFeeStructure","paymentData","setPaymentData","setReceipt","showReceipt","setShowReceipt","alert","setAlert","studentSerialMap","useRef","Map","lastAssignedSerial","fetchStudentDetails","fetchFeeStructure","fetchStudentFees","getStudentDetails","phone","mobileNumber","email","address","street","city","state","pincode","dob","dateOfBirth","fatherName","guardianName","motherName","split","getStudentFees","feeSummary","calculateFeeSummary","payments","feeHeads","feeComponents","Object","entries","key","charAt","toUpperCase","slice","replace","total","Math","round","parseFloat","remainingPaid","reduce","sum","payment","fee","paidForThisFee","min","paid","balance","max","handleInputChange","totalDue","Alert","StudentSearch","serialNumber","current","has","get","set","getSerialNumberForStudent","paddedSerial","padStart","formatStudentId","FeeSummaryTable","ReceiptViewer","onSubmit","preventDefault","paymentPayload","parseInt","paymentType","paymentMethod","toLowerCase","paymentDate","toISOString","collectFee","receiptResult","generateReceipt","paymentId","issuedDate","filter","step","required","mode","rows","disabled","isOpen","title","onConfirm","onCancel","CancelReceipt","showConfirmModal","setShowConfirmModal","selectedReceipt","setSelectedReceipt","cancelReason","setCancelReason","canCancel","ConfirmationModal","confirmText","cancelText","getAlertClass"],"sourceRoot":""}